(window.webpackJsonp=window.webpackJsonp||[]).push([[264],{"016773":function(e,t,n){"use strict";var r=n("8fd32c"),o=n("64fdd4"),c=(n("c08bb9"),n("aae158"),n("b82e15"),n("ed745a")),f=n("ff287e"),l=n.n(f),d=function(e){return l()(e,"context.$store.state.o3Params",{})["x-o3-ui-tests"]},h=function(e,t){Object.entries(t).forEach((function(t){var n=Object(o.a)(t,2),r=n[0],c=n[1];e.setAttribute("qa-".concat(r),c)}))},v={bind:function(e,t,n){var o=t.value;return!!d(n)&&(t.arg?("object"===Object(r.a)(o)&&(o=JSON.stringify(o)),e.setAttribute("qa-".concat(t.arg),o),!1):void("object"!==Object(r.a)(o)||t.arg||h(e,o)))},update:function(e,t,n){var o=t.oldValue,c=t.value,f=t.arg;if(!d(n)||o===c||f||"object"!==Object(r.a)(c))return!1;h(e,c)}};c.default.directive("qa",v),t.a=v},"1f71de":function(e,t,n){"use strict";var r=n("ed745a"),o=n("cb4c2a"),c=n.n(o),f=[],l=!1,d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];f.forEach((function(e){var n=e.fn;n&&n.apply(null,t)}))},h=function(e){0===(f=f.filter((function(t){return t.key!==e}))).length&&(window.removeEventListener("scroll",d),l=!1)},v=function(e,t){if(t){var n=function(e){var t=e.value||{},n=t.stickyTop,r=t.stickyBottom;return{stickyTop:n,stickyRight:t.stickyRight,stickyBottom:r,stickyLeft:t.stickyLeft,zIndex:t.zIndex||1e3,className:t.class||"",disabled:t.disabled,directlyHeight:t.directlyHeight}}(t),r=n.stickyTop,o=n.stickyBottom,h=n.stickyRight,v=n.stickyLeft,m=n.zIndex,y=n.className,w=n.disabled,O=n.directlyHeight;if(!w){var E=e.style,k=e.firstElementChild.style,j=!1,T=function(){if(!j){if(E.height||(E.height="".concat(O||e.offsetHeight,"px")),k){var t=["z-index: ".concat(m,";"),"position: fixed;"];k.display&&t.push("display: ".concat(k.display,";")),void 0!==r&&t.push("top: ".concat(r,"px;")),void 0!==o&&t.push("bottom: ".concat(o,"px;")),void 0!==h&&t.push("right: ".concat(h,"px;")),void 0!==v&&t.push("left: ".concat(v,"px;")),k.cssText=t.join(" "),y&&e.classList.add(y)}j=!0}},S=function(){j&&(k.cssText="",y&&e.classList.remove(y),j=!1)},_=c()((function(){var t=e.getBoundingClientRect(),n=t.top,c=window.innerHeight||document.documentElement.clientHeight;void 0!==r&&(n<=r?T():S()),void 0!==o&&(t.bottom<=c-o?S():T())}),100);_(),function(e,t){f.push({key:e,fn:t}),f.length&&!l&&(window.addEventListener("scroll",d),l=!0)}(e,_)}}},m={inserted:function(e,t){v(e,t)},update:function(e,t){h(e),v(e,t)},unbind:function(e){h(e)}};r.default.directive("sticky",m)},"21f12e":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));n("aae158");var r="external_service_response_time_seconds",o="ECONNABORTED",c=!1,f={OK:"ok",CLIENT_ERROR:"client_error",ERROR:"error",TIMEOUT:"timeout"},l=function(t){var n,r=t.__startAt,o=e.hrtime(r);return(1e9*(n=o)[0]+n[1])/1e9},d=function(e){var t=n("5af373").parse(e).pathname;return void 0===t?"":t},h=function(e){var t=e.url,n=e.serviceName,r=void 0===n?"unknown":n;return{service:/oauth/.test(t)?"oauth":r,method:d(t)}};function v(t){var n=t.axios,d=t.req;if(c){var v=d.__prometheus;if(v){var m=v.get(r);n.interceptors.request.use((function(t){return t.__startAt=e.hrtime(),t}),(function(e){var t=e.config,n=h(t),r=n.method,o=n.service;return m.labels(o,r,f.CLIENT_ERROR).observe(l(t)),Promise.reject(e)})),n.interceptors.response.use((function(e){var t=e.config,n=h(t),r=n.method,o=n.service;return m.labels(o,r,f.OK).observe(l(t)),e}),(function(e){var code=e.code,t=e.config,n=h(t),r=n.method,c=n.service,d=code===o?f.TIMEOUT:f.ERROR;return m.labels(c,r,d).observe(l(t)),Promise.reject(e)}))}}}}).call(this,n("26d59f"))},"2c2441":function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106");var r=n("5eabea"),o=n("ed745a"),c=n("4047f7"),f=n("cb4c2a"),l=n.n(f);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function h(e,t){this.message=e,this.description=t}var v={offset:0,fromBottom:!1,unbind:!1},m={bind:function(e,t){var n=t.value.setting||{},o=t.value.callback,f=n.throttle||300,m=!!Object(c.b)()&&{passive:!0};var y=l()((function(){var f=Object(c.c)(e,function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},v,{},n));if("function"!=typeof o)throw t.def.unbind(e,t),new h("Не указан callback","В передаваемом объекте необходимо указать callback который будет вызван");o(f),f&&t.modifiers.once&&t.def.unbind(e,t)}),f);e.$onScroll=y,e.$onLoad=y,e.$onViewport=y,window.addEventListener("viewport",e.$onViewport,m),window.addEventListener("load",e.$onLoad,m),window.addEventListener("scroll",e.$onScroll,m)},update:function(e,t){t.value.setting&&t.value.setting.unbind&&t.def.unbind(e,t),t.value.setting&&!1===t.value.setting.unbind&&!e.$onScroll&&(t.def.bind(e,t),e.$onScroll&&e.$onScroll())},unbind:function(e){window.removeEventListener("scroll",e.$onScroll),window.removeEventListener("load",e.$onLoad),window.removeEventListener("viewport",e.$onViewport),delete e.$onScroll,delete e.$onLoad,delete e.$onViewport}};o.default.directive("detect-viewport",m)},"3d5188":function(e,t,n){"use strict";var r=n("ed745a"),o=n("24a142"),c=n.n(o);r.default.use(c.a)},"4a2c1c":function(e,t,n){"use strict";n("f8695b"),n("41d819"),n("aae158");var r=n("667e87"),o=n("235ad7"),c=n("1a32d0"),f=n("1c8607"),l=n("cb0edf"),d=n("50fde5"),h=n("59fb97"),v=n("3cc9a1"),m=n("749862"),y=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function f(e){try{d(r.next(e))}catch(e){c(e)}}function l(e){try{d(r.throw(e))}catch(e){c(e)}}function d(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(f,l)}d((r=r.apply(e,t||[])).next())}))},w=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(f){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,f])}}};function O(e,t,n){void 0===n&&(n={});var r=n.forceGA,o=void 0!==r&&r,c=n.currentPageUrl,h=void 0===c?"":c,y=n.previousPageUrl,w=void 0===y?"":y,O=t.$config.get("gtmKey"),E=Object(l.a)(),k=Object(d.a)(e.state,h,w),j=Object(v.a)(),T=Object(m.a)();o&&f.a.reinitDataLayer(O),f.a.sendDataLayer(k),f.a.sendDataLayer(E),o&&f.a.sendDataLayer(T),f.a.sendTracker(k),f.a.sendTracker(j)}t.a=function(e,t){var n=e.store,f=e.app;return y(void 0,void 0,void 0,(function(){var e,l,d,v,m,y,E;return w(this,(function(w){return e=f.$config.get("gtmOn"),l=Object(r.b)("tracker_manager"),d=new o.a(n.state),v=f.$composerRouter.current,O(n,f,{currentPageUrl:v}),e&&(m=f.$config.get("gtmKey"),y="https://www.googletagmanager.com/gtm.js?id="+m,c.a.add(y)),l&&(E=f.$config.get("trackerManagerUrl"),new h.a(E)),f.$composerRouter.afterEach((function(e,t){O(n,f,{forceGA:!0,currentPageUrl:e,previousPageUrl:t})})),t("analytics",d),[2]}))}))}},"4d8833":function(e,t,n){"use strict";var r=n("ed745a"),o={beforeCreate:function(){return!1}},c={install:function(e){e.mixin(o)}};r.default.use(c),t.a=function(e,t){e.req}},"6ca366":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));n("2c09af");var r=n("dc77a5"),o=n("667e87"),c=n("bbfe95"),f=n("8f426e");function l(e){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,d,h,v,m,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.force,r=void 0!==n&&n,o=t.store,c=t.res,l=t.reason,d=void 0===l?"":l,h=o.state.authorization,v=h.tokenExpiration,m=h.token,y="",r?y="force":m?v?Object(f.b)(v)&&(y="hasTokenButExpired"):y="hasTokenNoExpiration":y="noToken",!y){e.next=9;break}return e.next=7,o.dispatch("authorization/REFRESH_TOKEN_FROM_SERVICE",{res:c,reason:"".concat(d,"-").concat(y)});case 7:return e.next=9,o.dispatch("authorization/SAVE_TOKEN_IN_COOKIES",{res:c});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,f,l,d,h,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.store,(r=t.req)&&r.headers&&r.headers.cookie){e.next=3;break}return e.abrupt("return",void 0);case 3:if(f=o.a.parse(r.headers.cookie,{map:c.c}),l=f.token,d=f.tokenExpiration,h=f.refreshToken,v=f.sessionId,!(l||h||d)){e.next=7;break}return e.next=7,n.dispatch("authorization/SET_TOKEN",{token:l,tokenExpiration:d,refreshToken:h});case 7:if(!v){e.next=10;break}return e.next=10,n.dispatch("authorization/SET_SESSION",{sessionId:v});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return y.apply(this,arguments)}function y(){return(y=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.store,r=t.res,n.state.authorization.sessionId){e.next=5;break}return e.next=5,n.dispatch("authorization/REFRESH_SESSION_COOKIE",{res:r});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},"6ea288":function(e,t,n){"use strict";n("654ecb"),n("dc5bd1");var r,o,c,f=n("64fdd4"),l=(n("c08bb9"),n("aae158"),n("b82e15"),n("ed745a")),d=n("f41848"),h=n.n(d),v=(n("12a106"),n("8fd32c")),m=(n("29141d"),{chat:n("6df30d").a}),y=function(){return{isConnected:!1,message:"",reconnectError:!1}},w={mutations:(r={},r.SOCKET_ONOPEN=function(e){if(!e)return!1;e.isConnected=!0},r.SOCKET_ONCLOSE=function(e){if(!e)return!1;e.isConnected=!1},r.SOCKET_ONERROR=function(e){console.error(e)},r.SOCKET_ONMESSAGE=function(e,t){e.message=t},r.SOCKET_RECONNECT=function(){},r.SOCKET_RECONNECT_ERROR=function(e){e.reconnectError=!0},r)},O={CREATE_SOCKET_CONNECTION:function(){var e=this._vm,t=e.$connect,n=e.$socket;t?t():n.connect()}},E=function(e,t){var n=this;if(e.startsWith("SOCKET_")){var r="commit",o=e.toUpperCase(),c=t;"json"===this.format&&t.data&&"object"!==Object(v.a)(t.data)&&((c=JSON.parse(t.data)).mutation?o=[c.namespace||"",c.mutation].filter(Boolean).join("/"):c.action&&(r="dispatch",o=[c.namespace||"",c.action].filter(Boolean).join("/"))),this.mutations&&(o=this.mutations[o]||o),Object.keys(m).forEach((function(t){m[t](n.store,c,e.toUpperCase())})),this.store[r](o,c)}},k=n("5c409d"),j=n.n(k),T=n("ff287e"),S=n.n(T),_=null,x={install:function(e,t){var n=t.worker;e.prototype.$socket={sendObj:function(data){try{n.port.postMessage({type:"message",payload:data})}catch(e){console.log("Error ws plugin",e)}},connect:function(){c()}}}};t.a=function(e){var t=e.store,n=e.app,r="wss://".concat(n.$config.get("chatWS")),d=S()(t.state,"experiments.experiments"),v=d&&1===d["ccom.websocket"]||!1,m=d&&700===d["ccom.sharedworker"]||!1,k=t.state.userInfo.user.isLoggedIn,T=Object.entries(w.mutations).reduce((function(e,t){var n=Object(f.a)(t,1)[0];return e[n]="socket/".concat(n),e}),{});if(v||m){t.registerModule("socket",{namespaced:!0,state:y,mutations:w.mutations,actions:O},{preserveState:!1}),n.$when("userInfo/SUCCESSFUL_ACCESS",(function(){t.dispatch("socket/CREATE_SOCKET_CONNECTION")}));var R="undefined"!=typeof Proxy&&"function"==typeof Proxy&&/native code/.test(Proxy.toString());m&&void 0!==window.SharedWorker?((o=new SharedWorker(j.a,{type:"module"})).port.onmessage=function(e){switch(e.data.type){case"INIT":_=e.data.payload.id,c=function(){o.port.postMessage({type:"setToken",payload:t.state.authorization.token}),o.port.postMessage({type:"WSConnect",payload:{url:r,portId:_,options:{format:"json",reconnection:!0,reconnectionDelay:3e3}}})},k&&c();break;case"WSMessage":E.call({mutations:T,format:"json",store:t},"SOCKET_".concat(e.data.payload.type),e.data.payload.data)}},o.port.onerror=function(e){n.$logger.error({exception:e,message:"shared worker error"})},o.port.start(),window.addEventListener("beforeunload",(function(){o.port.postMessage({type:"disconnect",payload:{id:_}})})),t.watch((function(e){return e.authorization.token}),(function(e){o.port.postMessage({type:"setToken",payload:e})})),l.default.use(x,{worker:o})):!window.ActiveXObject&&"ActiveXObject"in window||!R||l.default.use(h.a,r,{store:t,format:"json",connectManually:!k,mutations:T,passToStoreHandler:E,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:3e3})}}},750968:function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("12a106"),n("cb1771"),n("aae158");var r=n("5eabea"),o=(n("2c09af"),n("dc77a5")),c=n("bd183a"),f=n.n(c),l=n("16561b"),d=(n("497371"),n("9e82e9")),h=n("c7aace"),v=function(e){var t=e.axios,n=e.app;t.interceptors.request.use((function(e){if(e.sendTimestamp=Date.now(),e.logRequest){var t={},r={};t.url=e.url,t.method=e.method.toUpperCase(),t.request=e.logRequest?e.data:{},r.payload=t,r.message=d.t.SERVICE.SUCCESSFUL_REQUEST,n.$logger.info(r)}return e}),(function(e){var t={};return e.config&&e.config.url,t.message=d.t.SERVICE.SENDING_REQUEST_ERROR,t.exception=e,n.$logger.error(t),Promise.reject(e)})),t.interceptors.response.use((function(e){var t=e.config||{},r=t.method,o=t.url,c=t.sendTimestamp,f=t.logRequest,l={},h={};return l.url=o,l.status=e.status,l.method=r.toUpperCase(),l["x-o3-trace-id"]=e.headers["x-o3-trace-id"],f&&(l.response=e.data),h.level=f?"info":"requests",h.payload=l,h.message=d.t.SERVICE.SUCCESSFUL_RESPONSE,h.runTime=Date.now()-c,n.$logger.log(h),e}),(function(e){var t=e.config||{},r=t.url,o=t.sendTimestamp,c=t.stackTrace,f=t.serviceName,l=window.encodeURIComponent(window.location.host),v={},m={},y=d.t.SERVICE.ERROR_GETTING_RESPONSE;if(e.response){switch(Number(e.response.status)){case 404:y=d.t.SERVICE.REQUEST_FAIL_NOT_FOUND;break;case 401:y=d.t.SERVICE.REQUEST_FAIL_AUTH_ERROR;break;default:y=d.t.SERVICE.REQUEST_SERVER_FAIL}v.requestUrl=r,v.responseStatus=e.response.status,v.responseBody=e.response.data}else e.config?-1!==String(e).indexOf("timeout")&&(y=d.t.SERVICE.ERROR_GETTING_RESPONSE_TIMEOUT):(v.responseError=e,y=d.t.SERVICE.ERROR_GETTING_RESPONSE_JS_FAIL);return m.uuid=window.btoa(Object(h.o)(l,12)),m.payload=v,m.message=y,m.serviceName=f,m.level="error",m.runTime=o?Date.now()-o:0,c&&(m.stackTrace=c),n.$logger.error(m),Promise.reject(e)}))};n("dd93da");n("21f12e");var m,y,w=n("dcf4a3"),O=function(e){var t=e.axios,n=e.appVersion,r={},o="".concat("browser",":").concat(n);t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var c=function(e){var n=Object(w.c)(Object(w.d)(e,(function(e){return void 0===e}))),o=Object(h.h)(n);return r[o]?r[o]:(r[o]=t.post("oauth/v".concat(1,"/auth/token"),n,{serviceName:"token"}).then((function(e){return r[o]=void 0,e.data})).catch((function(e){return r[o]=void 0,Promise.reject(e)})),r[o])};return{token:{getAnonymousToken:function(e,t){return c({grant_type:"anonymous",client_id:"web",app_version:"".concat(o,":").concat(t),ab_group:e})},refreshToken:function(e,t,n){return c({grant_type:"refresh_token",refresh_token:e,client_id:"web",app_version:"".concat(o,":").concat(n),ab_group:t})}}}},E=n("64fdd4"),k=(n("b82e15"),n("42f576"),n("15ad6b"),n("29141d"),n("d75afe")),j=function(e){var t=e.services,n=e.axios,o=e.urlOverrides,c=void 0===o?{}:o,f=e.basePath,l=e.baseProxy,d=void 0===l?"":l,h=function(path,e){return path.startsWith(e)?path:"".concat(e).concat(path)},v=function(e){return e&&!e.startsWith("http")?"".concat("https:").concat(h(e,"/".repeat(2))):e},m=function(e){var t=e.endpoint,r=e.methods,o=e.version,l=e.servicePath,m=e.serviceName,y={},O={},path=String(t).split("/");return path.length<2?{}:(Object.entries(r).forEach((function(e){var r=Object(E.a)(e,2),O=r[0],j=r[1],T=void 0===j?{}:j;y[O]=function(data){var e=function(){var e={method:O,serviceName:m,withCredentials:Boolean(T.withCredentials)},r=new Error;r.stack&&(e.stackTrace=r.stack.split("\n").slice(3).join("\n"));var y,E=Object(k.a)(T.request)?T.request(data):data;if(k.c.isObjectOrArray(E)||"text/plain"===T.contentType||(E={}),void 0!==T.timeout&&(e.timeout=T.timeout),Object(k.a)(T.onUploadProgress)&&(e.onUploadProgress=T.onUploadProgress),Object(k.b)(T.contentType)&&(e.headers={"content-type":T.contentType},"application/x-www-form-urlencoded"===T.contentType.toLowerCase()&&(E=Object(w.c)(E))),Object(k.b)(T.responseType)&&(e.responseType=T.responseType),e.url=d?v(d)+"/":"",c[m]?e.url+=v(c[m]):e.url+=v(f)+h(l||m,"/"),e.url+=h(function(e){return e?"/v".concat(e):""}(o),"/"),e.url+=h(function(path,data){return Object(k.a)(path)?path(data):path}(T.path||t,data),"/"),e.url=e.url.replace(/([^:])(\/{2,})/g,"$1/"),"get"===O.toLowerCase()?e.params=E||{}:e.data=E,!0===T.noAuth&&(e.noAuth=!0),T.customToken&&(e.customToken=T.customToken),T.cancelable){var source=n.CancelToken.source();e.cancelToken=source.token,y=source.cancel}e.logRequest=Boolean(T.logRequest);var j=n(e);return j.cancel=y,j},r=e(),y=r.cancel;return r=(r=r.catch((function(t){return!(t&&t.response&&401===t.response.status)||T.noAuth||T.ignoreAuthErrors?Promise.reject(t):(n.forceTokenRefresh=!0,e())}))).then((function(e){var data=e.data,t=e.headers;return Object(k.a)(T.response)?T.response(data,t):data})),Object(k.a)(T.fail)&&(r=r.catch((function(e){return T.fail(e,data)}))),r.cancel=y,r}})),path.reduce((function(e,t,n){var r=e;return t&&(e[t]={},r=e[t]),n===path.length-1&&Object.assign(r,y),r}),O),O)};return function(e){return Object.entries(e).reduce((function(e,t){var n=Object(E.a)(t,2),o=n[0],c=n[1],f=c.version,l=c.servicePath,d=c.endpoints;return Object.assign(e,Object(r.a)({},o,function(e){var t=e.serviceName,n=e.version,r=e.servicePath,o=e.endpoints;return Object.entries(o).reduce((function(e,o){var c=Object(E.a)(o,2),f=c[0],l=c[1];return Object.assign(e,m({endpoint:f,methods:l,version:n,servicePath:r,serviceName:t}))}),{})}({serviceName:o,version:f,servicePath:l,endpoints:d})))}),{})}(t)},T=n("ff287e"),S=n.n(T),_=n("6ca366"),x=(n("aef563"),n("51a5b6"),n("667e87"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(n,r){return e.forEach((function(e){var o=new RegExp(e,"i");0===r.search(o)&&(n[r]=t[r])})),n}),{})});n("e28425");!function(e){e.mWebServer="mweb_server",e.mWebClient="mweb_client",e.dWebServer="dweb_server",e.dWebClient="dweb_client"}(m||(m={})),function(e){e.name="x-o3-app-name",e.version="x-o3-app-version"}(y||(y={}));var R=function(e,t){var n,r;return void 0===e&&(e="desktop"),void 0===t&&(t=!1),(n={})[y.name]=function(e,t){return void 0===e&&(e="desktop"),void 0===t&&(t=!1),"desktop"===e?t?m.dWebServer:m.dWebClient:t?m.mWebServer:m.mWebClient}(e,t),n[y.version]=(r=[],/release/.test("release/pdp/20191024-1")&&r.push("release"),/hotfix/.test("release/pdp/20191024-1")&&r.push("hotfix"),r.push("24-9-2019"),r.push("880e41c7"),r.join("_")),n};function C(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function $(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):C(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t,n){var r,c,d,h,m,y,E,k,T,C,P,L,I,N,A,M;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.store,c=t.app,d=t.res,t.req,h=c.$config.get("commit")||"",m=c.$config.get("apiOverrides"),y=S()(r.state,"experiments.abGroup"),E=S()(r.state,"client.platform"),k=c.$config.get("headers")||[],T={},C={},c.$config.get("proxyServerHeadersToBrowser")&&(C=x(c.$config.get("headersToProxyPrefixes"),k)),P=$({Accept:"application/json","Content-Type":"application/json"},R(E,!1)),L=c.$config.get(C["x-tests-protocol"]?"serverApiUrl":"browserApiUrl"),I=C["x-tests-proxy-api"]?"".concat(C["x-tests-proxy-api"],"/"):"",N=I+L,y&&(P["X-OZON-ABGROUP"]=y),A=f.a.create({baseURL:N,timeout:c.$config.get("defaultApiTimeout"),headers:$({},P,{},C)}),Object.assign(A,{CancelToken:f.a.CancelToken,isCancel:f.a.isCancel}),(M=f.a.create({headers:C,baseURL:N})).interceptors.request.use(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.headers["X-SessionId"]=S()(r.state,"authorization.sessionId"),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v({axios:A,app:c}),v({axios:M,app:c}),A.interceptors.request.use(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,_.c({force:A.forceTokenRefresh,store:r,res:d,reason:"servicecall"});case 3:return A.forceTokenRefresh=!1,r.state.authorization.token&&!t.noAuth&&(t.headers.Authorization="Bearer ".concat(r.state.authorization.token)),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),A.interceptors.response.use((function(e){var t=e.data,data=void 0===t?{}:t,n=e.headers;return{data:Object(w.f)(data),headers:n}})),Object.assign(T,j({axios:A,services:l,basePath:L,baseProxy:I,urlOverrides:m}),O({axios:M,appVersion:h.substring(0,15).replace(":","")}),{Axios:f.a}),n("api",T);case 25:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},"815f37":function(e,t,n){"use strict";var r=n("ad9750"),o=(n("3fc8b4"),n("ed745a"));t.a=function(e,t){var n=e.store,c={add:function(e,t,n){var r=n.once,o=n.before;this[e]||(this[e]=[]),this[e].push({once:r,before:o,callback:t})},remove:function(e,t){var n=this[e];if(n&&Array.isArray(n)){var r=n.findIndex((function(e){return e.callback===t}));r>=0&&n.splice(r,1)}}};n.subscribeAction({before:function(e){var t=e.type,n=Object(r.a)(e,["type"]);c[t]&&c[t].forEach((function(e){var r=e.once,o=e.callback;e.before&&(o(n),r&&c.remove(t,o))}))},after:function(e){var t=e.type,n=Object(r.a)(e,["type"]);c[t]&&c[t].forEach((function(e){var r=e.once,o=e.callback;e.before||(o(n),r&&c.remove(t,o))}))}});var f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Array.isArray(e)?e:[e];this instanceof o.default||console.warn("When plugin error: Context should be instance of Vue class"),r.forEach((function(e){"string"==typeof e&&c.add(e,t,n)}))};f.unsubscribe=function(e,t){(Array.isArray(e)?e:[e]).forEach((function(e){"string"==typeof e&&c.remove(e,t)}))},f.once=function(e,t){f(e,t,{once:!0})},(f.before=function(e,t){f(e,t,{before:!0})}).once=function(e,t){f(e,t,{before:!0,once:!0})},t("when",f)}},"81a0d4":function(e,t,n){"use strict";n("e28425");var r=n("ed745a"),o=n("4047f7"),c={bind:function(e,t,n){if("function"!=typeof t.value){var r=n.context.name,c="[Vue-click-outside:] provided expression '".concat(t.expression,"' is not a function, but has to be");r&&(c+="Found in component '".concat(r,"'")),console.warn(c)}var f=t.modifiers.bubble,l=function(n){(f||!e.contains(n.target)&&e!==n.target)&&t.value(n)};e.$__vueClickOutside=l;var d={passive:Object(o.b)(),capture:!0};document.addEventListener("click",l,d),document.addEventListener("touchstart",l,d)},unbind:function(e){document.removeEventListener("click",e.$__vueClickOutside),document.removeEventListener("touchstart",e.$__vueClickOutside),e.$__vueClickOutside=null}};r.default.directive("click-outside",c)},"8885d0":function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106"),n("7874b6"),n("497371"),n("d2fa96");var r=n("5eabea"),o=n("164449"),c=n("8f7bb4");function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var l=function(){function e(){var element=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(o.a)(this,e),this.element=element,this.binding=t,this.activated=!1,this.defaultBinding={swipeDurationThr:150,swipeLengthThr:60,swipeDirection:"",lockSwipeDirection:!1,isActive:function(){return!0},onStart:function(){},onMove:function(){},onEnd:function(){}},this._touchStart=this.touchStart.bind(this),this._touchMove=this.touchMove.bind(this),this._touchEnd=this.touchEnd.bind(this),this.locked=!1,this.firstTouchProcessed=!1,this.firstTouch={},this.lastTouch={}}return Object(c.a)(e,[{key:"prop",value:function(e){return(this.binding||{})[e]||this.defaultBinding[e]}},{key:"touchStart",value:function(e){this.firstTouch=this._extractTouchInfo(e)}},{key:"touchMove",value:function(e){this.lastTouch=this._extractTouchInfo(e),this.firstTouchProcessed?this._process(e,this.onMove):(this.firstTouchProcessed=!0,this._process(e,this.onStart))}},{key:"touchEnd",value:function(e){this._process(e,this.onEnd),this.locked=!1,this.firstTouchProcessed=!1,this.firstTouch={},this.lastTouch={}}},{key:"_process",value:function(e,t){var n=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},this._calculateDirection(this.firstTouch,this.lastTouch),{locked:this.locked});if(this.isActive(n)){!this.locked&&this.lockSwipeDirection&&(this.locked=n.direction===this.swipeDirection);var o=!1,c=this.locked||this.swipeDirection===n.direction;t(n,(function(e){o=e}),(function(e){c=e})),o&&(e.stopPropagation(),e.cacelBubble=!0),c&&e.preventDefault()}}},{key:"_extractTouchInfo",value:function(e){var t=e.targetTouches||e.touches||[],n=t[0]||{};return{touches:t,timeStamp:e.timeStamp,x:n.clientX||e.clientX||0,y:n.clientY||e.clientY||0}}},{key:"_calculateDirection",value:function(e,t){if(t.timeStamp-e.timeStamp>this.swipeDurationThr)return null;var n=t.x-e.x,r=t.y-e.y;if(Number.isNaN(n*r)||!Number.isFinite(n*r)||n===r)return null;if(Math.sqrt(n*n+r*r)<this.swipeLengthThr)return null;var o=Math.abs(n)>Math.abs(r)?"horizontal":"vertical";return{direction:o,heading:"horizontal"===o?n>0?"right":"left":r>0?"down":"up"}}},{key:"activate",value:function(){this.activated||(this.activated=!0,this.element.addEventListener("touchstart",this._touchStart),this.element.addEventListener("touchmove",this._touchMove),this.element.addEventListener("touchend",this._touchEnd))}},{key:"deactivate",value:function(){this.element.removeEventListener("touchstart",this._touchStart),this.element.removeEventListener("touchmove",this._touchMove),this.element.removeEventListener("touchend",this._touchEnd),this.activated=!1}},{key:"swipeDurationThr",get:function(){return this.prop("swipeDurationThr")}},{key:"swipeLengthThr",get:function(){return this.prop("swipeLengthThr")}},{key:"swipeDirection",get:function(){return this.prop("swipeDirection")}},{key:"lockSwipeDirection",get:function(){return this.prop("lockSwipeDirection")}},{key:"isActive",get:function(){return this.prop("isActive")}},{key:"onStart",get:function(){return this.prop("onStart")}},{key:"onMove",get:function(){return this.prop("onMove")}},{key:"onEnd",get:function(){return this.prop("onEnd")}}]),e}();t.a={bind:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.value,r=void 0===n?{}:n;e.swiper=new l(e,r),e.swiper.activate()},update:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.value,r=void 0===n?{}:n;e.swiper?e.swiper.binding=r:e.swiper=new l(e,r),e.swiper.activate()},unbind:function(e){e.swiper.deactivate()}}},"8df9d8":function(e,t,n){"use strict";n("42f576");var r=n("301fe4"),o=function(e){void 0===e&&(e="");var t=e.split("#")[1],n=t?t.split("="):[];if(2===n.length||"scrollTo"===n[0]||"jumpTo"===n[0]){var element=document.querySelector('[data-widget-id="'+n[1]+'"]'),o={scrollTo:1e3,jumpTo:0};null!=element&&Object(r.a)(element,{duration:o[n[0]]})}};t.a=function(e){var t=e.app;t.$composerRouter.afterEach((function(e){var t=e.hash;return o(t)})),window.addEventListener("load",(function(){var e=t.$composerRouter.getParams().hash;o(e)}))}},965361:function(e,t,n){"use strict";var r=n("ed745a"),o=n("c7aace");t.a=function(){r.default.filter("pluralize",o.m)}},"9c95ff":function(e,t){function n(e,t){var n=document.createEvent("CustomEvent");return t=t||{bubbles:!1,cancelable:!1,detail:void 0},n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}n.prototype=window.Event.prototype,window.CustomEvent=n},a69e22:function(e,t,n){"use strict";var r=n("8fd32c"),o="object"===("undefined"==typeof window?"undefined":Object(r.a)(window))&&window.history&&window.history.pushState,c=function(e,t){var i=e.indexOf(t);i>-1&&e.splice(i,1),e.push(t)},f=(n("cb1771"),n("aef563"),n("42f576"),n("d336cf")),l=n.n(f),d=n("f8a33b"),h=n.n(d),v=function(){return(v=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},m=function(e){return e.pathname+e.search+e.hash||"/"},y=function(e){var t,n=new l.a(e),path=n.pathname.replace(/((\/)+|(?!\/))$/,"/");return{path:path,search:n.query,query:(t=n.query,t?t.slice(t.indexOf("?")+1).split("&").reduce((function(e,t){var n,r=t.split("="),o=r[0],c=r[1];return v({},e,((n={})[o]=decodeURIComponent(c||""),n))}),{}):{}),hash:n.hash,fullPath:path+n.query+n.hash}},w=function(e,t){if(!e||!t)return!1;var a=y(e),b=y(t);return!(!a.path||!b.path)&&(a.path===b.path&&a.hash===b.hash&&h()(a.query,b.query))},O=function(e,t){if(!e||!t)return!1;var a=y(e),b=y(t);return!(!a.path||!b.path)&&a.path===b.path},E=function(e){throw new Error("[composer-router]: "+e)},k=function(e){0},j=function(e,t,n){!function r(o){if(o>=e.length)n();else{var c=e[o];c?t(c,(function(){return r(o+1)})):r(o+1)}}(0)};n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return y})),n.d(t,"f",(function(){return w})),n.d(t,"e",(function(){return O})),n.d(t,"b",(function(){return E})),n.d(t,"i",(function(){return k})),n.d(t,"h",(function(){return j}))},a79063:function(e,t,n){"use strict";n("42f576"),n("2c09af");var r=n("dc77a5"),o=n("667e87"),c=n("ff287e"),f=n.n(c);t.a=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.store,r=Object(o.b)("ap_visited"),c=f()(n.state,"debug")||{},n.dispatch("userInfo/SET_SHOW_ADULT",Boolean(Object(o.b)("ap_visited"))),n.dispatch("browser/SET_PIXEL_RATIO",{pixelRatio:window.devicePixelRatio}),n.dispatch("browser/CHECK_NETWORK_SPEED"),r&&(l=location.hostname.split("."),Object(o.d)("ap_visited",r,{domain:".".concat(l.slice(-2).join("."))})),console.log("--DEBUG_INFO--",JSON.parse(JSON.stringify(c))),window.history&&(window.history.scrollRestoration="auto");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},afaf01:function(e,t,n){"use strict";var r=n("ed745a"),o=n("c08d1c"),c=n.n(o);t.a=function(){r.default.use(c.a,{startOnSelect:!1})}},b7c584:function(e,t,n){"use strict";var r=n("ed745a"),o=n("4d0d6b"),c=n.n(o);r.default.use(c.a)},b8cee0:function(e,t,n){"use strict";var r,o=n("ed745a"),c=n("c85bcd"),f={bind:function(e,t){var n=t.value;void 0===n||n?(r=e.style.overflow,e.style.overflowY="auto",e.style.webkitOverflowScrolling="touch",Object(c.a)(e),e._bodyScrollLock=!0):e._bodyScrollLock=!1},update:function(e,t){var n=t.value,r=e._bodyScrollLock;void 0!==n&&r!==n&&(n?t.def.bind.call(this,e,t):t.def.unbind.call(this,e,t))},unbind:function(e){e.style.overflowY=r,e.style.webkitOverflowScrolling="",Object(c.b)(e),e._bodyScrollLock=!1}};o.default.directive("body-scroll-lock",f)},be4d05:function(e,t,n){"use strict";var r=n("c85bcd"),o=n("4047f7"),c=n("ed745a"),f={tapTolerance:10,swipeTolerance:100,longTapTimeInterval:400};function l(e){return-1!==e.type.indexOf("mouse")?e.clientX:e.touches[0].clientX}function d(e){return-1!==e.type.indexOf("mouse")?e.clientY:e.touches[0].clientY}function h(e,t,n){var param=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=t.$$touchObj.callbacks[n]||[];if(0===r.length)return null;for(var i=0;i<r.length;i++){var o=r[i];o.modifiers.stop&&e.stopPropagation(),o.modifiers.prevent&&e.preventDefault(),o.modifiers.self&&e.target!==e.currentTarget||"function"==typeof o.value&&(param?o.value(param,e):o.value(e))}}function v(e){var t=this.$$touchObj;e.type.indexOf("touch")>=0&&(t.lastTouchStartTime=e.timeStamp),t.touchStarted||(Object(r.a)(e.target),t.touchStarted=!0,t.touchMoved=!1,t.swipeOutBounded=!1,t.startX=l(e),t.startY=d(e),t.currentX=0,t.currentY=0,t.touchStartTime=e.timeStamp,h(e,this,"start"))}function m(e){var t=this.$$touchObj;if(t.currentX=l(e),t.currentY=d(e),t.touchMoved){if(!t.swipeOutBounded){var n=f.swipeTolerance;t.swipeOutBounded=Math.abs(t.startX-t.currentX)>n&&Math.abs(t.startY-t.currentY)>n}}else{var r=f.tapTolerance;t.touchMoved=Math.abs(t.startX-t.currentX)>r||Math.abs(t.startY-t.currentY)>r,t.touchMoved&&h(e,this,"moved")}t.touchMoved&&h(e,this,"moving")}function y(){var e=this.$$touchObj;e.touchStarted=e.touchMoved=!1,e.startX=e.startY=0}function w(e){var t=this.$$touchObj;if(e.type.indexOf("touch")>=0&&(t.lastTouchEndTime=e.timeStamp),t.touchStarted=!1,h(e,this,"end"),Object(r.b)(e.target),t.touchMoved){if(!t.swipeOutBounded){var n,o=f.swipeTolerance;n=Math.abs(t.startX-t.currentX)<o?t.startY>t.currentY?"top":"bottom":t.startX>t.currentX?"left":"right",t.callbacks["swipe."+n]?h(e,this,"swipe."+n,n):h(e,this,"swipe",n)}}else t.callbacks.longtap&&e.timeStamp-t.touchStartTime>f.longTapTimeInterval?(e.preventDefault(),h(e,this,"longtap")):h(e,this,"tap")}c.default.directive("touch",{bind:function(e,t){if("boolean"!=typeof t||t){e.$$touchObj=e.$$touchObj||{callbacks:{},hasBindTouchEvents:!1};var n=t.arg||"tap";if("swipe"===n){var r=t.modifiers;if(r.left||r.right||r.top||r.bottom){for(var i in t.modifiers)if(["left","right","top","bottom"].indexOf(i)>=0){var c="swipe."+i;e.$$touchObj.callbacks[c]=e.$$touchObj.callbacks[c]||[],e.$$touchObj.callbacks[c].push(t)}}else e.$$touchObj.callbacks.swipe=e.$$touchObj.callbacks.swipe||[],e.$$touchObj.callbacks.swipe.push(t)}else e.$$touchObj.callbacks[n]=e.$$touchObj.callbacks[n]||[],e.$$touchObj.callbacks[n].push(t);if(!e.$$touchObj.hasBindTouchEvents){var f=!!Object(o.b)()&&{passive:!0};e.addEventListener("touchstart",v,f),e.addEventListener("touchmove",m,f),e.addEventListener("touchcancel",y),e.addEventListener("touchend",w),e.$$touchObj.hasBindTouchEvents=!0}}},unbind:function(e){e.removeEventListener("touchstart",v),e.removeEventListener("touchmove",m),e.removeEventListener("touchcancel",y),e.removeEventListener("touchend",w),delete e.$$touchObj}})},c3c993:function(e,t,n){"use strict";var r=n("ed745a"),o=n("d4cae1"),c={install:function(e){e.mixin(o.a)}};r.default.use(c)},c66232:function(e,t,n){"use strict";n("f8695b"),n("41d819"),n("aae158");var r=n("ff287e"),o=n.n(r),c=(n("cb1771"),n("a69e22")),f=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function f(e){try{d(r.next(e))}catch(e){c(e)}}function l(e){try{d(r.throw(e))}catch(e){c(e)}}function d(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(f,l)}d((r=r.apply(e,t||[])).next())}))},l=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(f){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,f])}}},d=function(){function e(e){var t=e.baseUrl,n=e.beforeChange,r=e.afterChange;this.prev="",this._pipeHooks=[],this._beforeHooks=[],this._afterHooks=[],this.beforeChange=n,this.afterChange=r,this.current=c.a?Object(c.d)(window.location):t,this._init()}return e.prototype._init=function(){var e=this;c.a&&(this._changeHistory("replace",this.current),window.addEventListener("popstate",(function(t){t.preventDefault(),e._changeRoute("pop",t.state)})))},e.prototype.push=function(e,t){this._mutateHistory("push",e,t)},e.prototype.replace=function(e,t){this._mutateHistory("replace",e,t)},e.prototype.back=function(){c.a&&window.history.go(-1)},e.prototype.forward=function(){c.a&&window.history.go(1)},e.prototype.redirect=function(e,t){if(void 0===t&&(t="_self"),c.a){if(!e)throw new Error("You dont passed url for redirect");window.open(e,t)}},e.prototype.refresh=function(e){var t=(void 0===e?{}:e).scroll,n=void 0===t||t;return f(this,void 0,void 0,(function(){var e,t=this;return l(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.beforeChange(this.current,this.prev,(function(e){(e||void 0===e)&&(t._changeHistory("replace",t.current),n&&window.scrollTo(0,0))}))];case 1:return r.sent(),[3,3];case 2:return e=r.sent(),Object(c.b)(e),[3,3];case 3:return[2]}}))}))},e.prototype.getParams=function(e){var path=e||this.current;return Object(c.c)(path)},e.prototype.pipe=function(e){Object(c.g)(this._pipeHooks,e)},e.prototype.beforeEach=function(e){Object(c.g)(this._beforeHooks,e)},e.prototype.afterEach=function(e){Object(c.g)(this._afterHooks,e)},e.prototype._mutateHistory=function(e,t,n){var r=void 0===n?{}:n,o=r.silent,f=void 0!==o&&o,l=r.scroll,d=void 0===l||l;c.a&&(f?(this.prev=this.current,this.current=t,this._changeHistory(e,t),this._callPipeHooks(t,this.prev)):this._changeRoute(e,t,d))},e.prototype._changeRoute=function(e,t,n){return void 0===n&&(n=!0),f(this,void 0,void 0,(function(){var r,o,d=this;return l(this,(function(h){return c.a||this.pending===t?t?Object(c.f)(t,this.current)?(this._changeHistory("replace",this.current),[2,Object(c.i)("don't allow to redirect on same route")]):(r=[].concat(this._beforeHooks,this.beforeChange),this.pending=t,o=function(e,n){return f(d,void 0,void 0,(function(){var r;return l(this,(function(o){switch(o.label){case 0:if(this.pending!==t)return[2,Object(c.i)("uncaught error during route navigation")];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e(t,this.current,(function(e){(e||void 0===e)&&n()}))];case 2:return o.sent(),[3,4];case 3:return r=o.sent(),Object(c.b)(r),[3,4];case 4:return[2]}}))}))},Object(c.h)(r,o,(function(){var r=d.current;d.prev=r,d.current=t,d._callAfterHooks(t,r),d._changeHistory(e,t),"pop"===e&&d._callPipeHooks(t,d.prev),n&&window.scrollTo(0,0),d.pending=null})),[2]):(window.location.reload(),[2]):[2]}))}))},e.prototype._callAfterHooks=function(e,t){[].concat(this.afterChange,this._afterHooks).forEach((function(n){n&&n(e,t)}))},e.prototype._callPipeHooks=function(e,t){!this._pipeHooks.length||Object(c.e)(e,t)?this._pipeHooks.forEach((function(n){n&&n(Object(c.c)(e),Object(c.c)(t))})):this._pipeHooks=[]},e.prototype._changeHistory=function(e,t){c.a&&"pop"!==e&&window.history[e+"State"](t,null,t)},e}(),h=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function f(e){try{d(r.next(e))}catch(e){c(e)}}function l(e){try{d(r.throw(e))}catch(e){c(e)}}function d(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(f,l)}d((r=r.apply(e,t||[])).next())}))},v=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(f){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,f])}}};t.a=function(e,t){var n=e.app,r=e.req,c=e.store,f=c.state,l=f.isComposer,m=f.browser,y=f.experiments,w=m&&m.useSpa,O=o()(y.experiments,"sf.spa"),E=w&&O,k=o()(r,"body.pageInfo.url")||"/";n.router.beforeEach((function(e,t,n){if("/checkout"!==e.path&&"/checkout/"!==e.path)return!1;n()})),n.router.afterEach((function(e){if("/checkout"!==e.path&&"/checkout/"!==e.path)return!1}));var j,T,S;t("composerRouter",new d({baseUrl:k,beforeChange:function(e,t,n){return h(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return l&&!((link=e).indexOf("://")>0||0===link.indexOf("//"))&&E?(performance&&(T=performance.now()),[4,c.dispatch("composer/FETCH_COMPOSER_LAYOUT",{url:e})]):(window.location.assign(e),[2,!1]);case 1:return(j=t.sent())?(n(),[2]):(window.location.assign(e),[2,!1])}var link}))}))},afterChange:function(){performance&&(S=performance.now()),j&&c.dispatch("composer/GET_LAYOUT",{pageData:j}),w&&n.$clientMetricsTracker.onChangePageHandler&&n.$clientMetricsTracker.onChangePageHandler(S-T)}}))}},c9b52c:function(e,t){var n;"function"!=typeof(n=window.Element.prototype).matches&&(n.matches=n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=0;t[n]&&t[n]!==this;)++n;return Boolean(t[n])}),"function"!=typeof n.closest&&(n.closest=function(e){for(var element=this;element&&1===element.nodeType;){if(element.matches(e))return element;element=element.parentNode}return null})},e0bf45:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("654ecb"),n("dc5bd1"),n("f8695b"),n("41d819"),n("aae158");var r=n("ff287e"),o=n.n(r),c=n("e5b590"),f=n.n(c),l=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function f(e){try{d(r.next(e))}catch(e){c(e)}}function l(e){try{d(r.throw(e))}catch(e){c(e)}}function d(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(f,l)}d((r=r.apply(e,t||[])).next())}))},d=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(f){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,f])}}};function h(e,t){var n=e.store,r=e.app;return l(this,void 0,void 0,(function(){var e,c,l,h,v,m,y,w,O,E,k,object;return d(this,(function(d){return e=r.$config,c=r.$logger,l=e.get("clientMetricsEndpoint"),h=o()(n,"state.browser.isMobile")?"MOBILE_WEB":"WEB",v={},m=[],y=o()(n,"state.browser.isBot"),w=function(e){return c.log({level:"error",message:e.toString(),zone:"browser_metrics"})},O={domainName:"ozon.ru",namespace:"bx",platform:h,screenResolutionX:o()(window,"screen.width"),screenResolutionY:o()(window,"screen.height"),screenPixelDensity:o()(window,"devicePixelRatio")},E={abGroup:o()(n,"state.experiments.abGroup"),clientId:o()(n,"state.userInfo.user.userId"),regionId:o()(n,"state.location.current.areaId"),sessionId:o()(n,"state.authorization.sessionId")},k={current:o()(n,"state.pageInfo.pageType"),currentUrl:o()(n,"state.pageInfo.url"),spa:o()(n,"state.browser.useSpa")},object={type:"APPLICATION"},t("clientMetricsTracker",f()({onError:w,endpoint:l,attributes:O,object:object,user:E,page:k,isBot:y,customMarksNames:v,ttiMinValueMarkNames:m})),[2]}))}))}}}]);