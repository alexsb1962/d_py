(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"05daa7":function(e,t,r){"use strict";r.r(t);r("1c750e"),r("41d819"),r("c08bb9"),r("aae158"),r("12a106"),r("2c09af");var n=r("dc77a5"),o=(r("cb1771"),r("5eabea")),c=r("f44fd5"),l=r("487109"),f=r("ff287e"),d=r.n(f);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(source,!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m,y=l.a.extend({name:"CategoryMenu",components:{CategoryFilterV2:c.a},computed:{sharedState:function(){return d()(this.$store.state,"shared.catalog",{})},categories:function(){var e=this;return(this.widgetState.categories||[]).map((function(t){return function e(section){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return v({},section,{categories:section.categories.map((function(r){return e(r,t)})),href:section.info.overrideUrl||t&&t.replace("{value}",section.info.urlValue)})}(t,e.urlBaseCategory)}))},activeCategory:function(){return this.sharedState.category||{}},urlBaseCategory:function(){return this.widgetState.urlBaseCategory||""},categoriesToggleButton:function(){return this.widgetState.categoriesToggleButton}},methods:{onSelectCategory:(m=Object(n.a)(regeneratorRuntime.mark((function e(){var t,r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:{},r=this.urlBaseCategory.replace("{value}",d()(t,"info.urlValue")),this.$composerRouter.push(r);case 3:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)}),mergeCatalogFeedbackShared:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d()(this.$store.state,"shared.catalogFeedback",{});return t&&e.shared.catalogFeedback?v({},t,{},e.shared.catalogFeedback):e.shared.catalogFeedback||t}}}),w=r("b429cb"),component=Object(w.a)(y,(function(){var e=this.$createElement;return(this._self._c||e)("CategoryFilterV2",{attrs:{"active-category":this.activeCategory,categories:this.categories,"categories-toggle-button":this.categoriesToggleButton,"url-base-category":this.urlBaseCategory},on:{select:this.onSelectCategory}})}),[],!1,null,null,null);t.default=component.exports},"07fbaf":function(e,t,r){},"08d874":function(e,t,r){},"0cb940":function(e,t,r){"use strict";r.r(t);r("1c750e"),r("41d819"),r("c08bb9"),r("aae158"),r("12a106"),r("5dd61c"),r("66914a");var n=r("226eb3"),o=r("5eabea"),c=(r("e28425"),r("487109")),filter=r("5eb4e9");function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var f=c.a.extend({name:"SearchActiveFilters",inject:{resetOverride:{default:null}},computed:{qaData:function(){return{id:"filter-reset-all-button"}},disableAllText:function(){return this.widgetState.disableAllText||""},uriBase:function(){return this.widgetState.uriBase||""},activeValues:function(){return(this.widgetState.activeFilters||[]).map((function(e){var t=e.activeValues,r=e.name,n=e.ftype;return t.map((function(e){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(source,!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},e,{filterName:r||"",ftype:n})}))})).reduce((function(e,t){return[].concat(Object(n.a)(e),Object(n.a)(t))}),[])}},methods:{reset:function(e){this.asyncHash&&this.fetchAsyncState(void 0,e),this.resetOverride&&"function"==typeof this.resetOverride?this.resetOverride(e):this.$composerRouter.push(e)},showColon:function(e){return![filter.a.TYPES.BOOL,filter.a.TYPES.RATING].includes(e.ftype)},asyncSharedMapper:function(){return{}}}}),d=r("4b10a1"),h=r("b429cb");var component=Object(h.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return!e.isMobile&&e.activeValues.length?r("div",{class:e.$style["active-filters"]},[e._l(e.activeValues,(function(t,n){return[r("div",{key:n,class:e.$style.filter,on:{click:function(r){return e.reset(t.disableUri)}}},[r("span",{class:e.$style.title},[r("span",[e._v(e._s(t.filterName))]),e.showColon(t)?r("span",[e._v(":")]):e._e(),e._v(" "),r("span",[e._v(e._s(t.title))])])])]})),e._v(" "),e.disableAllText?r("div",{directives:[{name:"qa",rawName:"v-qa",value:e.qaData,expression:"qaData"}],class:e.$style.link,on:{click:function(t){return e.reset(e.uriBase)}}},[e._v("\n    "+e._s(e.disableAllText)+"\n  ")]):e._e()],2):e._e()}),[],!1,(function(e){this.$style=d.default.locals||d.default}),null,null);t.default=component.exports},"0ddc3e":function(e,t,r){e.exports={wrapper:"_9c5c15",container:"b20c6c",slider:"_871122",item:"_8e9213",control:"_949383","m-left":"a180fc","m-right":"_4d7d28",":hover":"_2e87cf",push:"e2ddbd",blink:"fc5412"}},"0eb941":function(e,t,r){"use strict";r.r(t);r("1c750e"),r("41d819"),r("12a106"),r("3fc8b4"),r("2c09af");var n=r("dc77a5"),o=r("226eb3"),c=(r("42f576"),r("aef563"),r("e28425"),r("c08bb9"),r("aae158"),r("393231"),r("cb1771"),r("5eabea")),l=r("dc67af"),f=r.n(l),d=r("487109"),h=r("8158fa"),v=r("f44fd5"),m=(r("497371"),r("ff287e")),y=r.n(m),w={name:"Category",inject:["emitSelect"],props:{category:{required:!0,type:Object,validator:function(object){return object.info&&"string"==typeof object.info.id&&"string"==typeof object.info.name}},rootActiveCategory:{type:Boolean,default:!1},level:{type:Number,default:1},maxLevel:{type:Number,default:2},maxVisible:{type:Number,default:5},isHidden:{type:Boolean,default:!1},isSearch:{type:Boolean,default:!1},openedCategories:{type:Object,default:function(){return{}}}},data:function(){return{showAll:!1,detectViewportOff:!1}},computed:{isParent:function(){return Boolean(this.category.categories&&this.category.categories.length)},showButtons:function(){return!this.isSearch&&this.level>=this.maxLevel-1&&this.category.categories.length>this.maxVisible},isBig:function(){return 1===this.level},detectViewportSettings:function(){return{setting:{offset:0,throttle:50,unbind:this.detectViewportOff},callback:this.onScroll}}},watch:{category:{immediate:!0,handler:function(e,t){var r=this,n=!1,o=0;Array.isArray(this.category.categories)&&this.category.categories.length>0&&this.category.categories.forEach((function(e){o++,e.isActive&&o>=r.maxVisible&&(n=!0)})),this.showAll=this.openedCategories[this.category.info.id]||n,y()(t,"info.id",!1)!==y()(this.category,"info.id",!1)&&(this.detectViewportOff=!1)}}},mounted:function(){var e=this;this.$when("composer/GET_LAYOUT",(function(){e.detectViewportOff=!1}))},methods:{onClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e.metaKey,n=e.ctrlKey,o=r||n;o||(this.emitSelect(t),e.preventDefault&&e.preventDefault()),this.sendClickEvent(t)},onScroll:function(e){this.detectViewportOff=!0,e&&1===this.level&&this.sendViewEvent()},isShow:function(e){return Object.hasOwnProperty.call(e,"isHidden")?!e.isHidden:!this.isHidden},toggle:function(){this.showAll=!this.showAll;var e=this.category.info,t=(e=void 0===e?{}:e).id,r=void 0===t?"":t;this.showAll?this.$emit("show",r):this.$emit("hide",r)},setIsHidden:function(e){return!this.showAll&&(this.showButtons&&e>this.maxVisible-1)},sendClickEvent:function(e){this.$analytics.send("category/click",{GAEvent:{id:y()(e,"info.id",""),name:y()(e,"info.name",""),widgetPlacement:"left"},trackerEvent:{widget:"catalog.searchResultsFilters.categories",categoryId:e.info.id,context:e.index+1}})},sendViewEvent:function(){var e=this.category.categories.find((function(e){return e.isActive}))||{};this.$analytics.send("search/filterView",{trackerEvent:{widget:"catalog.searchResultsFilters.categories",filterKey:this.category.info.id,value:y()(e,"info.id"),context:this.category.index+1}})}}},_=(r("8fa1dc"),r("b429cb")),O=Object(_.a)(w,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{directives:[{name:"show",rawName:"v-show",value:e.isShow(e.category),expression:"isShow(category)"}],staticClass:"category-item"},[r("a",{directives:[{name:"detect-viewport",rawName:"v-detect-viewport",value:e.detectViewportSettings,expression:"detectViewportSettings"}],class:["category-link",{"m-active":e.category.isActive,"m-big":e.isBig}],attrs:{"data-test-category-id":e.category.info.id,"data-test-category-name":e.category.info.name,"data-test-id":"results-navi-level"+e.level,href:e.category.href||"/category/"+e.category.info.id+"/"},on:{click:function(t){return e.onClick(t,e.category)},mouseup:function(t){return"button"in t&&1!==t.button?null:e.sendClickEvent(e.category)}}},[e._v("\n    "+e._s(e.category.info.name)+"\n  ")]),e._v(" "),e.isParent&&(!e.rootActiveCategory||e.level<e.maxLevel)?r("div",{staticClass:"category-list"},[r("ul",e._l(e.category.categories,(function(t,n){return r("category",{key:n,attrs:{category:t,"is-hidden":e.setIsHidden(n),"is-search":e.isSearch,level:e.level+1,"opened-categories":e.openedCategories,"root-active-category":e.rootActiveCategory},on:{hide:function(t){return e.$emit("hide",t)},show:function(t){return e.$emit("show",t)}}})})),1),e._v(" "),e.showButtons?r("div",{staticClass:"buttons",on:{click:e.toggle}},[r("span",{directives:[{name:"show",rawName:"v-show",value:!e.showAll,expression:"!showAll"}],staticClass:"category-link m-arrow m-down"},[e._v("Показать все")]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.showAll,expression:"showAll"}],staticClass:"category-link m-arrow m-up"},[e._v("Скрыть все")])]):e._e()]):e._e()])}),[],!1,null,"1d5f09da",null).exports;function C(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var S={name:"CategoryTreePure",components:{Category:O},provide:function(){return{emitSelect:this.emitSelect}},props:{categories:{required:!0,type:Array},openedCategories:{type:Object,default:function(){return{}}}},data:function(){return{rootActiveCategory:!1}},computed:{visibleCategories:function(){var e=function(e,t){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(source,!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):C(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},e,{index:t})};return this.categories.length&&this.categories[0].isActive?(this.setRootActiveCategory(!0),this.categories[0].categories.map(e)):(this.setRootActiveCategory(!1),this.categories.map(e))}},methods:{setRootActiveCategory:function(e){this.rootActiveCategory=e},emitSelect:function(e){this.$emit("select",e)}}},k=(r("8b7484"),Object(_.a)(S,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.visibleCategories.length?r("div",{staticClass:"category-filter"},[r("ul",e._l(e.visibleCategories,(function(t,n){return r("Category",{key:n,attrs:{category:t,"opened-categories":e.openedCategories,"root-active-category":e.rootActiveCategory},on:{hide:function(t){return e.$emit("hide",t)},show:function(t){return e.$emit("show",t)}}})})),1)]):e._e()}),[],!1,null,"f6c2865e",null).exports),x=r("fb81b8"),A={name:"CategoryMobile",inject:["emitSelect","isCategoryPage"],components:{Radio:x.a},extends:O,props:{parentName:{type:String,default:""}}};r("7a819b");function E(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function P(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?E(source,!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):E(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var $={name:"CategoryFilterPure",components:{desktop:O,mobile:Object(_.a)(A,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isParent?r("ul",{staticClass:"category-list"},e._l(e.category.categories,(function(t,n){return r("CategoryMobile",{key:n,attrs:{category:t,"parent-name":e.category.info.name}})})),1):r("li",[r("label",{directives:[{name:"show",rawName:"v-show",value:!e.category.isHidden,expression:"!category.isHidden"}],staticClass:"label",class:{"m-active":e.category.isActive}},[r("radio",{attrs:{active:Boolean(e.category.isActive)},on:{change:function(t){return e.onClick(t,e.category)}}},[e.isCategoryPage?e._e():r("span",{staticClass:"parent"},[e._v(e._s(e.parentName))]),e._v(" "),r("span",{staticClass:"label-text"},[e._v(e._s(e.category.info.name))])])],1)])}),[],!1,null,"6b98b530",null).exports,Radio:x.a},provide:function(){return{emitSelect:this.emitSelect}},props:{categories:{required:!0,type:Array,default:function(){return[]}},maxCrossVisible:{type:Number,default:10},maxVisibleWithoutScroll:{type:Number,default:20},isSearch:{type:Boolean,default:!1},isHighlight:{type:Boolean,default:!1},activeCategory:{type:Object,default:function(){return{}}},openedCategories:{type:Object,default:function(){return{}}},categoriesToggleButton:{type:Boolean,default:void 0}},data:function(){return this.getCountAndWatchAll()},computed:{visibleCategories:function(){var e=this,t=0;return this.categories.map((function r(n,o){t++;var c=P({},n);return(e.categoriesToggleButton||void 0===e.categoriesToggleButton)&&(c.isHidden=!e.showAll&&t>e.maxCrossVisible),Array.isArray(c.categories)&&c.categories.length>0&&(c.categories=c.categories.map(r)),P({},c,{index:o})}))},isOnlyTopLevel:function(){return!this.categories.filter((function(e){return e.categories.length})).length},showButtons:function(){return this.categoriesToggleButton||void 0===this.categoriesToggleButton?(!this.activeCategory&&this.isMobile,this.count>this.maxCrossVisible):this.categoriesToggleButton},component:function(){return this.isMobile?"mobile":"desktop"},withScroll:function(){return this.showAll&&this.count>this.maxVisibleWithoutScroll}},watch:{categories:function(){var e=this.getCountAndWatchAll();Object.assign(this.$data,e)}},methods:{getCountAndWatchAll:function(){var e=this,t={showAll:this.openedCategories[this.$options.name]||!1,count:0};return this.categories.forEach((function r(n){t.count++,n.isActive&&t.count>=e.maxCrossVisible&&(t.showAll=!0),Array.isArray(n.categories)&&n.categories.length>0&&n.categories.forEach(r)})),t},toggle:function(){this.showAll=!this.showAll,this.showAll?this.$emit("show",this.$options.name):this.$emit("hide",this.$options.name)},reset:function(){this.$emit("reset")},emitSelect:function(e){this.$emit("select",e)}}},j=(r("e90187"),Object(_.a)($,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:["category-filter",{"m-empty":e.count<=2}]},[e.visibleCategories.length?r("div",{class:["categories-container",{"m-with-scroll":e.withScroll&&!e.isMobile,"m-highlight":e.isHighlight}]},[e.activeCategory.id&&!e.isMobile?r("span",{staticClass:"category-link m-arrow m-left",attrs:{"data-test-id":"results-navi-to-all-results"},on:{click:e.reset}},[e._v("\n      Все результаты поиска\n    ")]):e.isMobile?e._e():r("div",{class:["category-title",{"m-with-scroll":e.withScroll&&!e.isMobile}]},[e._v("\n      Уточните категорию\n    ")]),e._v(" "),r("ul",{class:{"m-only-top-level":e.isOnlyTopLevel}},e._l(e.visibleCategories,(function(t,n){return r(e.component,{key:n,tag:"component",attrs:{category:t,"is-search":e.isSearch},on:{hide:function(t){return e.$emit("hide",t)},show:function(t){return e.$emit("show",t)}}})})),1)]):e._e(),e._v(" "),e.showButtons?r("span",{attrs:{"data-test-id":"results-navi-show-all"},on:{click:e.toggle}},[r("span",{directives:[{name:"show",rawName:"v-show",value:!e.showAll,expression:"!showAll"}],staticClass:"category-link m-arrow"},[e._v("Посмотреть все")]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.showAll&&!e.isMobile,expression:"showAll && !isMobile"}],class:["category-link m-arrow m-up",{"m-with-scroll":e.withScroll&&!e.isMobile}]},[e._v("\n      Скрыть\n    ")])]):e._e()])}),[],!1,null,"2286dd43",null).exports),V=r("ffe2f9"),I=(r("afced8"),r("b902cb")),T={name:"FiltersTitleMobile",components:{OzonButton:I.b},inject:["isCategoryPage","selectedVariants"],props:{selected:{type:Object,required:!0,default:function(){return{type:null,item:null}}},activeFilters:{type:Array,default:function(){return[]}},activeCategory:{type:String,default:""}},computed:{isMain:function(){return!this.selected.type},showReset:function(){return this.isMain&&(this.activeFilters.length||this.activeCategory)},selectedName:function(){return this.isMain?"Фильтры":this.selected.item&&this.selected.item.name||"Категории"}}},title=(r("fe4fea"),Object(_.a)(T,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"filters-title"},[e.isMain?r("div",{staticClass:"title-link",on:{click:function(t){return e.$emit("cancel")}}},[e._v("\n    Отмена\n  ")]):r("div",{staticClass:"title-arrow",on:{click:function(t){return e.$emit("deselect")}}}),e._v(" "),e.isMain?r("div",{staticClass:"title m-center"},[e._v("\n    Фильтры\n  ")]):r("div",{staticClass:"title"},[e._v("\n    "+e._s(e.selectedName)+"\n  ")]),e._v(" "),e.showReset?r("div",{staticClass:"title-reset"},[r("OzonButton",{staticClass:"filter-reset",attrs:{color:"blue-cream"},on:{click:function(t){return e.$emit("reset")}}},[e._v("\n      Cбросить\n    ")])],1):e._e()])}),[],!1,null,"8795bdc4",null).exports),F=(r("654ecb"),r("dc5bd1"),r("51a5b6"),r("949695")),B=r("6876d5");function L(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var N=new RegExp("\\B(?=(\\d{3})+(?!\\d))","g"),R={name:"SelectedFilter",filters:{splitNumber:function(e){return e?e.toString().replace(N," "):""}},props:{filter:{required:!0,type:Object,validator:function(filter){return filter.ftype&&filter.key&&Array.isArray(filter.values)}}},computed:{name:function(){return this.filter.ftype===F.a.TYPES.RATING?"Высокий рейтинг":"".concat(this.filter.name).concat(this.filter.ftype===F.a.TYPES.BOOL?"":":")}},methods:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(source,!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):L(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(B.b)("search",{resetFilterValue:"filters/RESET_FILTER_VALUE"}),{reset:function(e){this.resetFilterValue({key:this.filter.key,value:e})}})},D=(r("5fe385"),Object(_.a)(R,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"selected-filter"},[e._l(e.filter.values,(function(t,n){return[r("div",{key:n,staticClass:"filter",attrs:{"data-test-id":"filter-reset-button-"+e.filter.key+(t.key?"-"+t.key:"")},on:{click:function(r){return e.reset(t)}}},[r("span",{staticClass:"title"},[e._v(e._s(e.name))]),e._v(" "),t.range&&!isNaN(t.range.from)?r("span",[e._v("от "+e._s(e._f("splitNumber")(t.range.from))+" ")]):e._e(),e._v(" "),t.range&&!isNaN(t.range.to)?r("span",[e._v("до "+e._s(e._f("splitNumber")(t.range.to))+" ")]):e._e(),e._v(" "),t.value?r("span",[e._v(e._s(t.value))]):e._e(),e._v(" "),t.color?r("span",[e._v(e._s(t.color.name))]):e._e()])]}))],2)}),[],!1,null,"4833cb07",null).exports),M={name:"FilterItemMobile",components:{BoolFilter:r("9136cf").a},extends:D,computed:{selectedValues:function(){return this.filter.values.filter((function(e){return e.range?e.range.from&&e.range.from!==e.range.min||e.range.to&&e.range.to!==e.range.max:e.isActive}))},isArrow:function(){return!this.isBool&&!this.isRating},isBool:function(){return this.filter.ftype===F.a.TYPES.BOOL},isRating:function(){return this.filter.ftype===F.a.TYPES.RATING}},mounted:function(){if(this.isBool||this.isRating){var filter=this.filter;this.$analytics.send("search/filterView",{trackerEvent:{filterKey:filter.key,value:filter.values&&filter.values[0].isActive}})}},methods:{onChange:function(e){this.$emit("filterChange",{key:this.filter.key,ftype:this.filter.ftype,value:e})},onClick:function(){this.$emit("select",this.filter)}}},U=(r("527938"),{name:"FiltersListMobile",inject:["isCategoryPage","selectedVariants"],components:{FilterItemMobile:Object(_.a)(M,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"selected-filter",class:{"m-selected":e.selectedValues.length,"m-arrow":e.isArrow}},[e.isBool?r("BoolFilter",{staticClass:"title selected-filter-block",attrs:{count:e.filter.values&&e.filter.values[0].count,"is-active":e.filter.values&&e.filter.values[0].isActive,value:e.filter.name},on:{change:function(t){return e.onChange(t)}}}):e.isRating?r("BoolFilter",{staticClass:"title selected-filter-block",attrs:{count:e.filter.values&&e.filter.values[0].count,"is-active":e.filter.values&&e.filter.values[0].isActive,value:"Высокий рейтинг"},on:{change:function(t){return e.onChange(t)}}}):r("div",{staticClass:"selected-filter-block",on:{click:e.onClick}},[e.filter.name&&!e.isBool?r("div",{staticClass:"title"},[e._v("\n      "+e._s(e.filter.name)+"\n    ")]):e._e(),e._v(" "),e._l(e.selectedValues,(function(t,n){return r("span",{key:n,staticClass:"filter",on:{click:e.onClick}},[t.range&&!isNaN(t.range.from)?r("span",[e._v("от "+e._s(e._f("splitNumber")(t.range.from))+" ")]):e._e(),e._v(" "),t.range&&!isNaN(t.range.to)?r("span",[e._v("до "+e._s(e._f("splitNumber")(t.range.to))+" ")]):e._e(),e._v(" "),t.value?r("span",[e._v(e._s(t.value))]):e._e(),e._v(" "),t.color?r("span",{staticClass:"filter-text"},[e._v(e._s(t.color.name))]):e._e(),e._v(" "),e.isRating?r("span",[e._v("от "+e._s(t.key))]):e._e()])}))],2)],1)}),[],!1,null,"1f51158e",null).exports},props:{categories:{type:Array,default:function(){return[]}},activeCategory:{type:String,default:""},activeCategoryName:{type:String,default:""},filters:{type:Array,default:function(){return[]}}},computed:{localFilters:function(){return this.filters.filter((function(e){return!e.isHidden}))}}}),Y=(r("cbe9a2"),Object(_.a)(U,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"body-scroll-lock",rawName:"v-body-scroll-lock"}],staticClass:"container"},[e.categories.length?r("div",{staticClass:"selected-category",on:{click:function(t){return e.$emit("select",{type:e.selectedVariants.CATEGORY})}}},[r("div",{staticClass:"selected-title"},[e._v("\n      Категории\n    ")]),e._v(" "),e.activeCategory?r("div",{staticClass:"selected-text"},[e._v("\n      "+e._s(e.activeCategoryName)+"\n    ")]):e._e()]):e._e(),e._v(" "),e._l(e.localFilters,(function(filter,t){return[r("FilterItemMobile",{key:t,attrs:{filter:filter},on:{filterChange:function(t){return e.$emit("filterChange",t)},select:function(t){return e.$emit("select",{type:e.selectedVariants.FILTER,key:filter.key})}}})]}))],2)}),[],!1,null,"33108c00",null).exports),G={name:"ActiveFilterMobile",components:{CategoryFilterPure:j,FilterBlockPure:h.a},inject:["isCategoryPage","selectedVariants"],props:{selected:{type:Object,required:!0,default:function(){return{type:null,item:null}}},categories:{type:Array,default:function(){return[]}}},methods:{select:function(e){this.$emit("setActiveCategory",{category:e||{},send:!this.isMobile,updateCategories:this.isMobile})},reset:function(){this.select("")}}};function K(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function W(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?K(source,!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):K(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var H={name:"SearchFiltersMobilePure",components:{ActiveFilterMobile:Object(_.a)(G,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"body-scroll-lock",rawName:"v-body-scroll-lock"}],staticClass:"container"},[e.selected.type===e.selectedVariants.FILTER?[r("FilterBlockPure",{attrs:{filter:e.selected.item},on:{change:function(t){return e.$emit("updateFilterValue",t)},hide:function(t){return e.$emit("setShowAll",{key:e.selected.item.key,value:!1})},load:function(t){return e.$emit("loadFilter",e.selected.item)},show:function(t){return e.$emit("setShowAll",{key:e.selected.item.key,value:!0})}}})]:e.selected.type===e.selectedVariants.CATEGORY?[r("CategoryFilterPure",{attrs:{categories:e.categories,"is-search":!0},on:{select:e.select}})]:e._e()],2)}),[],!1,null,"5de564b4",null).exports,FiltersListMobile:Y,FiltersTitleMobile:title,OzonButton:I.b},props:{isFiltersShown:{type:Boolean,default:!1},filters:{type:Array,default:function(){return[]}},activeFilters:{type:Array,default:function(){return[]}},activeCategory:{type:String,default:""},categories:{type:Array,default:function(){return[]}},activeCategoryName:{type:String,default:""}},data:function(){return{selectedData:{type:null,item:null},selectedVariants:Object.freeze({FILTER:1,CATEGORY:2})}},provide:function(){return{selectedVariants:this.selectedVariants}},computed:{selected:function(){var e=this.selectedVariants;if(this.selectedData.type===e.CATEGORY)return W({},this.selectedData,{items:this.categories});if(!this.selectedData.key)return{type:null,item:null};var t=this.selectedData.key,r=(this.filters.filter((function(e){return e.key===t}))||[])[0];return W({},this.selectedData,{item:r})}},methods:{onSelect:function(e){var t=e.type,r=e.key;this.selectedData={type:t,key:r}},onDeselect:function(){this.selectedData={type:null,item:null,key:null}},apply:function(){this.$emit("apply")},resetAll:function(){this.$emit("resetFilters")},close:function(){this.apply()}}},z=(r("680897"),Object(_.a)(H,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"filters-container"}},[e.isFiltersShown?r("div",{directives:[{name:"body-scroll-lock",rawName:"v-body-scroll-lock"}],staticClass:"filters-container"},[r("FiltersTitleMobile",{attrs:{"active-category":e.activeCategory,"active-filters":e.activeFilters,selected:e.selected},on:{cancel:e.close,deselect:e.onDeselect,reset:e.resetAll}}),e._v(" "),r("FiltersListMobile",{directives:[{name:"show",rawName:"v-show",value:!e.selected.type,expression:"!selected.type"}],attrs:{"active-category":e.activeCategory,"active-category-name":e.activeCategoryName,categories:e.categories,filters:e.filters},on:{filterChange:function(t){return e.$emit("updateFilterValue",t)},select:e.onSelect}}),e._v(" "),r("ActiveFilterMobile",{directives:[{name:"show",rawName:"v-show",value:e.selected.type,expression:"selected.type"}],attrs:{categories:e.categories,selected:e.selected},on:{loadFilter:function(t){return e.$emit("loadFilter",t)},setActiveCategory:function(t){return e.$emit("setActiveCategory",t)},setShowAll:function(t){return e.$emit("setShowAll",t)},updateFilterValue:function(t){return e.$emit("updateFilterValue",t)}}}),e._v(" "),r("div",{directives:[{name:"body-scroll-lock",rawName:"v-body-scroll-lock"}],staticClass:"filter-buttons"},[r("OzonButton",{staticClass:"filter-button",attrs:{color:"blue",full:"",size:"large"},on:{click:e.apply}},[e._v("\n        Показать\n      ")])],1)],1):e._e()])}),[],!1,null,"0fc22a4e",null).exports),Q=r("893202"),X=r("5eb4e9"),J=r("a63b0d");function Z(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function ee(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Z(source,!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Z(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var te,ie,re,ne,se,ae,oe,ce,le,ue=d.a.extend({name:"SearchResultsFilters",components:{SearchFiltersMobilePopupButton:Q.a,SearchFiltersMobilePure:z,FilterBlockPure:h.a,CategoryFilterV2:v.a,CategoryFilter:j,CategoryTree:k,OzButton:f.a},mounted:function(){var e=this;this.updateUrlIfNedeed(),null===this.openedCategories&&this.$store.commit("deepSet",{path:"shared.catalog.openedCategories",value:{}}),this.$analytics.settingsSortFilter=this.analyticsSettingsSortFilter,this.$nextTick((function(){var t=function(t){var filter=e.filters.find((function(e){return e.key===t}));filter&&e.onLoadFilter(filter)};for(var r in e.openedFilters)t(r)}))},updated:function(){this.updateUrlIfNedeed(),this.$analytics.settingsSortFilter=this.analyticsSettingsSortFilter},beforeDestroy:function(){this.$analytics.settingsSortFilter=null},data:function(){return{categoryFilterShowAll:!1,isFiltersShown:!1}},provide:function(){return{isCategoryPage:!this.isSearch,trackingInfo:this.trackingInfo}},watch:{filters:function(e){this.oldFilters=e}},computed:{sharedState:function(){return y()(this.$store.state,"shared.catalog",{})},allFiltersUrl:function(){return this.widgetState.allFiltersUrl||""},context:function(){return this.sharedState.context},totalFound:function(){return y()(this.$store.state,"shared.catalog.totalFound")},openedFilters:function(){return y()(this.$store.state,"shared.catalog.openedFilters",{})},openedCategories:function(){return y()(this.$store.state,"shared.catalog.openedCategories",{})},categoriesToggleButton:function(){return this.widgetState.categoriesToggleButton},filters:function(){var e=this;return this.widgetState.filters?this.widgetState.filters.map((function(filter,t){return ee({},filter,{showAll:e.openedFilters[filter.key],index:t,values:filter.values.map((function(e){return ee({},e,{count:e.count2})}))})})):[]},categories:function(){var e=this;return(this.widgetState.categories||[]).map((function(t){return function e(section){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ee({},section,{categories:section.categories.map((function(r){return e(r,t)})),href:section.info.overrideUrl||t&&t.replace("{value}",section.info.urlValue),count:section.count2})}(t,e.urlBaseCategory)}))},activeFilters:function(){return this.filters.map((function(e){var t=e.key,r=e.ftype,n=e.values;return{key:t,ftype:r,name:e.name,values:n.filter((function(e){var t=e.isActive,r=e.range;return t||r&&(r.from||r.to)}))}})).filter((function(e){return e.values.length}))},activeCategory:function(){return this.sharedState.category||{}},activeCategoryName:function(){return this.activeCategory.name},activeCategoryId:function(){if(this.activeCategory.id)return String(this.activeCategory.id)},countActiveFilter:function(){var e=!this.isCategory&&+this.activeCategoryId?1:0;return this.activeFilters.length+e},urlBaseCategory:function(){return this.widgetState.urlBaseCategory||""},urlBase:function(){var base=this.widgetState.urlBase||"";return-1===base.search(/\?/)?base+="?":base+="&",base},urlCategoryQueryParam:function(){return this.widgetState.urlCategoryQueryParam||""},url:function(){var e=this.widgetState.url||"";this.sharedState.currentPage>1&&(-1===e.search(/\?/)?e+="?":e+="&",e+="page=".concat(this.sharedState.currentPage||1));var t=e.split("?"),r=t[0].replace(/\/$/,""),n=t[1];return"".concat(r,"/").concat(n?"?".concat(n):"")},isSearch:function(){return this.urlBase.search(/^\/search/)>-1},isCategory:function(){return this.urlBase.search(/^\/(category)/)>-1},analyticsSettingsSortFilter:function(){var e=this.activeFilters,t=y()(this.$store.state,"shared.catalog.activeSort"),r=e.map((function(e){var t,r=e.key,n=e.values;if(r===X.a.TYPES.RANGE){var o=n[0]||{range:{}};t="".concat(o.range.from||o.range.min,",").concat(o.range.to||o.range.max)}else t=n.map((function(e){return e.key})).join(",");return"".concat(r,"=").concat(t)}));return["sorting=".concat(t)].concat(Object(o.a)(r)).join("::")},text:function(){return this.sharedState.correctedText||this.sharedState.currentText||""}},methods:{onSelectCategory:(le=Object(n.a)(regeneratorRuntime.mark((function e(){var t,r,n=this,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},r=t.href,this.resetFiltersLocalState(),this.$store.commit("deepSet",{path:"shared.catalog.filterSupply",value:!0}),e.next=6,this.$store.dispatch("composer/GET_LAYOUT",{url:r,mapper:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.shared.catalogFeedback=n.mergeCatalogFeedbackShared(e),e}});case 6:case"end":return e.stop()}}),e,this)}))),function(){return le.apply(this,arguments)}),applyMobile:(ce=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$store.commit("deepSet",{path:"shared.catalog.filterSupply",value:!0}),this.isFiltersShown=!1,e.next=4,this.$store.dispatch("composer/GET_LAYOUT",{url:this.sharedState.currentUrl,mapper:this.mergeNewLayout});case 4:case"end":return e.stop()}}),e,this)}))),function(){return ce.apply(this,arguments)}),apply:(oe=Object(n.a)(regeneratorRuntime.mark((function e(){var t,r,n,o,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getActiveCategory(this.categories),r=y()(t,"info.urlValue",""),n=y()(t,"info.overrideUrl",""),o=[],r&&-1===this.urlBase.search("/category")&&o.push("".concat(this.urlCategoryQueryParam,"=").concat(r)),this.filters.forEach((function(filter){var e=c.getFilterUrlValue(filter);e&&o.push(e)})),this.isFiltersShown=!1,this.$store.commit("deepSet",{path:"shared.catalog.filterSupply",value:!0}),e.next=10,this.$store.dispatch("composer/GET_LAYOUT",{url:n||"".concat(this.urlBase).concat(o.join("&")),mapper:this.mergeNewLayout});case 10:case"end":return e.stop()}}),e,this)}))),function(){return oe.apply(this,arguments)}),onChange:(ae=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.updateFilterValue(t),e.next=3,this.apply();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return ae.apply(this,arguments)}),onResetFilters:(se=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isFiltersShown=!1,e.next=3,this.$store.dispatch("composer/GET_LAYOUT",{url:this.urlBase});case 3:case"end":return e.stop()}}),e,this)}))),function(){return se.apply(this,arguments)}),onLoadFilter:(ne=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,c,l,data,f,d,component,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.key,n=t.moreValuesLink,c=this.filters.findIndex((function(filter){return filter.key===r})),l=this.filters[c].values,e.next=5,this.$api.composer.json.get({url:n});case 5:data=e.sent,f=data.layout[0],d=f.stateId,component=f.component,h=y()(data,"catalog.".concat(component,".").concat(d,".values"),[]),l.splice.apply(l,[0,l.length].concat(Object(o.a)(h))),this.setWidgetStateValue("filters[".concat(c,"].values"),l),this.setWidgetStateValue("filters[".concat(c,"].hasMoreValues"),!1);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return ne.apply(this,arguments)}),setActiveCategory:(re=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.category,e.next=3,this.fetchAsyncState(void 0,r.href);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return re.apply(this,arguments)}),updateFilterValue:(ie=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,filter,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.filters.findIndex((function(e){return e.key===t.key})),filter=this.filters[r]||{},n=1===filter.values.length?0:filter.values.findIndex((function(e){return e.key===t.value.key})),o=filter.values[n]||{},t.value.from||t.value.to?this.setWidgetStateValue("filters[".concat(r,"].values[").concat(n,"].range"),ee({},o.range,{},t.value,{isActive:!0})):this.setWidgetStateValue("filters[".concat(r,"].values[").concat(n,"].isActive"),t.value.isActive),-1===(c=filter.urlBase).search(/\?/)?c+="?":c+="&",e.t0=this.isMobile,!e.t0){e.next=11;break}return e.next=11,this.fetchAsyncState(void 0,"".concat(c).concat(this.getFilterUrlValue(this.filters[r])));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return ie.apply(this,arguments)}),resetFilter:(te=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.urlBase,e.next=3,this.fetchAsyncState(void 0,r);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return te.apply(this,arguments)}),getFilterUrlValue:function(filter){var e=[];return filter.values.filter((function(e){var t=e.isActive,r=e.range;return t||r})).forEach((function(t){if(t.range){var r=t.range,n=r.from,o=r.max,c=r.to,l=r.min;(n&&n>l||c&&c<o)&&e.push("".concat(n||l,";").concat(c||o))}else t.isActive&&e.push(t.urlValue)})),e.length?"".concat(filter.urlQueryParamName,"=").concat(encodeURIComponent(e.join(","))):""},mergeCatalogFeedbackShared:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=y()(this.$store.state,"shared.catalogFeedback",{});return t&&e.shared.catalogFeedback?ee({},t,{},e.shared.catalogFeedback):e.shared.catalogFeedback||t},mergeNewLayout:function(e){var t=this;try{var r=this.groupStatePath,n=y()(e,r,{}),data=n[Object.keys(n)[0]],o=y()(e,"shared.catalog.currentUrl","");data.filters=data.filters.reduce((function(e,filter){var r=filter.key;if(t.openedFilters[r]){var n=t.filters.find((function(e){return e.key===r})),c=Object(V.a)(n.moreValuesLink||"/catalog/filtervalues?filter=".concat(filter.key)),l=c.searchParams;l.search_uri=encodeURIComponent(o),e.push(ee({},n,{moreValuesLink:filter.moreValuesLink||"".concat(c.pathname,"?").concat(Object(J.stringify)(l,{encode:!1}))}))}else e.push(filter);return e}),[]);var c=y()(e,"shared.catalog",!1);c&&(e.shared.catalog=this.mergeNewSharedState(c)),e.shared.catalogFeedback=this.mergeCatalogFeedbackShared(e)}catch(e){this.$logger.error(e)}return e},mergeNewSharedState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.sharedState;return ee({},t,{},e)},resetFiltersLocalState:function(){var e=this;Object.keys(this.openedFilters).forEach((function(t){e.openedFilters[t]=!1})),this.oldFilters={}},getActiveCategory:function(e){for(var i=0,t=e.length;i<t;i++){var r=e[i];if(r.isActive)return r;var n=r.categories&&Array.isArray(r.categories)&&this.getActiveCategory(r.categories);if(n)return n}},onOpenedFiltersChange:function(e,t){this.$store.commit("deepSet",{path:"shared.catalog.openedFilters.".concat(e),value:t})},updateUrlIfNedeed:function(){if(this.totalFound){var e=Object(V.a)(window.location.href),t=Object(V.a)(this.sharedState.currentUrl);delete e.searchParams.page,delete t.searchParams.page;var r=Object.keys(e.searchParams||{}),n=Object.keys(t.searchParams||{}),o=t.pathname.replace(/\/$/,"")===e.pathname.replace(/\/$/,""),c=(r.length>n.length?r:n).reduce((function(r,n){return e.searchParams[n]===t.searchParams[n]&&r}),!0);o&&c||this.$composerRouter.replace(this.sharedState.currentUrl,{silent:!0})}},setShowAll:function(e){var t=e.key,r=e.value;this.$store.commit("deepSet",{path:"shared.catalog.openedFilters.".concat(t),value:r})},setFiltersPopupVisibility:function(e){this.isFiltersShown=e},openAllFilters:function(){this.$store.dispatch("composer/GET_MODAL",{url:this.allFiltersUrl,mapper:function(data){return delete data.shared.catalog,data},options:{fullScreen:!0}})}}}),fe=(r("8c2bd8"),r("374317"),Object(_.a)(ue,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.totalFound?r("div",[e.isMobile?r("div",[r("SearchFiltersMobilePopupButton",{attrs:{"count-active-filter":e.countActiveFilter},on:{setFiltersPopupVisibility:e.setFiltersPopupVisibility}}),e._v(" "),e.filters.length||e.categories.length?r("SearchFiltersMobilePure",{attrs:{"active-category":e.activeCategoryId,"active-category-name":e.activeCategoryName,"active-filters":e.activeFilters,categories:e.categories,filters:e.filters,"is-filters-shown":e.isFiltersShown},on:{apply:e.applyMobile,loadFilter:e.onLoadFilter,resetFilter:e.resetFilter,resetFilters:e.onResetFilters,setActiveCategory:e.setActiveCategory,setShowAll:e.setShowAll,updateFilterValue:e.updateFilterValue}}):e._e()],1):r("aside",{staticClass:"aside"},[e.categories.length?r("CategoryFilterV2",{attrs:{"active-category":e.activeCategory,categories:e.categories,"categories-toggle-button":e.categoriesToggleButton},on:{select:e.onSelectCategory}}):e._e(),e._v(" "),e._l(e.filters,(function(filter,t){return[filter.isHidden?e._e():r("FilterBlockPure",{key:t,attrs:{filter:filter},on:{change:e.onChange,hide:function(t){return e.onOpenedFiltersChange(t,!1)},load:e.onLoadFilter,reset:e.onResetFilters,show:function(t){return e.onOpenedFiltersChange(t,!0)}}})]})),e._v(" "),e.allFiltersUrl?r("OzButton",{attrs:{size:"l",theme:"secondary",text:"Все фильтры"},on:{click:e.openAllFilters}}):e._e()],2)]):e._e()}),[],!1,null,"b210f1ca",null));t.default=fe.exports},"106ba3":function(e,t,r){"use strict";var n=r("35e196"),o=r.n(n);t.default=o.a},"1718b4":function(e,t,r){},"1c08a9":function(e,t,r){"use strict";var n=r("3d6790"),o=r.n(n);t.default=o.a},224698:function(e,t,r){},"22d93c":function(e,t,r){"use strict";var n=r("e059ba"),o=r.n(n);t.default=o.a},"268a2e":function(e,t,r){},"279d73":function(e,t,r){"use strict";r("5dd61c"),r("497371");var n=0,o=["","m-material"],c={props:{placeholder:{type:String,default:""},settings:{type:Object,default:function(){return{model:{name:"name",value:"value"}}}},activeIndex:{type:Number,default:-1},items:{type:Array,default:function(){return[]}},mod:{type:String,default:function(){return""},validator:function(e){return o.includes(e)}},disabled:{type:Boolean,default:!1},heightLimit:{type:Boolean,default:!1}},data:function(){return{model:"",id:"listbox-"+(n+=1),isOpened:!1,hoverIndex:-1}},computed:{currentValue:function(){return this.items[this.activeIndex]||{}}},mounted:function(){this.model=this.items&&this.items[this.activeIndex]&&this.items[this.activeIndex][this.settings.model.value]},methods:{selectItem:function(e){this.model=this.items[e][this.settings.model.value],this.$emit("select",this.items[e],e)},onChange:function(){this.selectItem(event.target.selectedIndex),this.closeDropdown()},handleClick:function(e){this.isOpened?this.closeDropdown():this.openDropdown(),"SELECT"===e.target.nodeName&&e.target.selectedIndex>-1&&e.target.selectedIndex!==this.activeIndex&&this.selectItem(e.target.selectedIndex),"LI"===e.target.nodeName&&this.selectItem(+e.target.attributes["data-index"].value)},showSelected:function(){if(this.heightLimit){var e=this.$el.querySelector("[data-index='"+this.hoverIndex+"']");e&&e.scrollIntoView()}},onArrowUp:function(){this.isOpened&&(this.hoverIndex>0?this.hoverIndex-=1:this.hoverIndex=this.items.length-1,this.showSelected())},onArrowDown:function(){if(!this.isOpened)return this.hoverIndex=0,void this.openDropdown();this.hoverIndex<this.items.length-1?this.hoverIndex+=1:this.hoverIndex=0,this.showSelected()},onEnter:function(){this.isOpened?(this.selectItem(this.hoverIndex),this.closeDropdown()):this.openDropdown()},openDropdown:function(){this.isOpened||(this.isOpened=!0,document.addEventListener("click",this.handleClickOutside),this.$emit("open"))},closeDropdown:function(){this.isOpened&&(this.isOpened=!1,document.removeEventListener("click",this.handleClickOutside))},handleClickOutside:function(e){this.$el.contains(e.target)||this.closeDropdown()}}},l=(r("ca17d3"),r("b429cb")),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"select",class:[e.mod,{opened:e.isOpened&&!e.isMobile,"m-mobile":e.isMobile,"m-disabled":e.disabled}],attrs:{"aria-expanded":e.isOpened,"aria-owns":e.id,tabindex:e.disabled?-1:0,"aria-haspopup":"listbox",role:"combobox"},on:{blur:e.closeDropdown,click:e.handleClick,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.onArrowDown(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.onArrowUp(t))}],keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.onEnter(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),e.closeDropdown(t))}]}},[r("div",{staticClass:"current-value"},[e.currentValue[e.settings.model.name]?e._e():r("div",{staticClass:"placeholder"},[e._v("\n      "+e._s(e.placeholder)+"\n    ")]),e._v("\n    "+e._s(e.currentValue[e.settings.model.name])+"\n  ")]),e._v(" "),r("ul",{directives:[{name:"show",rawName:"v-show",value:e.isOpened&&!e.isMobile,expression:"isOpened && !isMobile"}],staticClass:"list",class:{"m-height-limit":e.heightLimit},attrs:{id:e.id,role:"listbox"}},e._l(e.items,(function(t,i){return r("li",{key:i,staticClass:"item",class:{selected:e.activeIndex===i,hovered:e.hoverIndex===i},attrs:{"aria-selected":e.activeIndex===i,"data-index":i,"data-test-id":"select-item-value-"+t[e.settings.model.value],role:"option"}},[e._v("\n      "+e._s(t[e.settings.model.name])+"\n    ")])})),0),e._v(" "),r("select",{directives:[{name:"show",rawName:"v-show",value:e.isMobile,expression:"isMobile"},{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"hidden-select",attrs:{disabled:e.disabled},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.model=t.target.multiple?r:r[0]},e.onChange]}},e._l(e.items,(function(t,i){return r("option",{key:i,attrs:{"data-index":i},domProps:{value:e.items[i][e.settings.model.value]}},[e._v("\n      "+e._s(t[e.settings.model.name])+"\n    ")])})),0)])}),[],!1,null,"68a3c389",null);t.a=component.exports},"28991a":function(e,t,r){"use strict";r.r(t);r("340dbd"),r("0a5193");var n=r("487109"),o=(r("497371"),r("88baaa"),r("21919a")),c=(r("1c750e"),r("41d819"),r("c08bb9"),r("aae158"),r("12a106"),r("578d8d"),r("5eabea")),l=r("6876d5");function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(source,!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={name:"CatalogCategoryLogoDesktop",inject:["categoryLogosVersion"],data:function(){return{viewportSettings:{callback:this.sendViewEvent}}},computed:d({},Object(l.e)({userShowAdult:function(e){return e.userInfo.showAdult},userAgent:function(e){return e.browser.browser}})),methods:d({},Object(l.b)({setShowAdultModal:"userInfo/SET_SHOW_ADULT_MODAL"}),{sendViewEvent:function(e){e&&this.$analytics.send("search/filterView",{trackerEvent:{widget:"catalog.categoryLogos",filterKey:this.cat.id,context:this.index+1}})},handleOnClick:function(e){var t=this,r=e.metaKey,n=e.ctrlKey;r||n||(e.preventDefault&&e.preventDefault(),this.$analytics.send("category/click",{trackerEvent:{widget:"catalog.categoryLogos",categoryId:this.cat.id,context:this.index+1},GAEvent:{id:this.cat.id,name:this.cat.title,widgetPlacement:"top"}}),this.cat.isAdult&&!this.userShowAdult?(this.setShowAdultModal(!0),this.$when.once("userInfo/SET_SHOW_ADULT",(function(){t.$composerRouter.push(t.cat.link)}))):this.$composerRouter.push(this.cat.link))}})},v=r("b429cb"),base=Object(v.a)(h,void 0,void 0,!1,null,null,null).exports,m={name:"CatalogCategoryLogoDesktop",components:{CDNImageRetina:o.a},extends:base,props:{cat:{type:Object,required:!0},index:{type:Number,required:!0}},data:function(){return{adultImageSrc:"http://cdn1.ozone.ru/graphics/56/categories_icons/adult.png",isLoaded:!1}},computed:{browserBlur:function(){var e=this.userAgent.indexOf("Edge")>-1,t=this.userAgent.indexOf("MSIE")>-1;return!(t=t||this.userAgent.match(/Trident.*rv:11\./))&&!e},isSafari:function(){var e=this.userAgent.indexOf("Safari")>-1,t=this.userAgent.indexOf("Chrome")>-1;return e&&!t}}},y=r("68b764");var w=Object(v.a)(m,(function(){var e,t,r=this,n=r.$createElement,o=r._self._c||n;return r.cat?o("a",{directives:[{name:"detect-viewport",rawName:"v-detect-viewport.once",value:r.viewportSettings,expression:"viewportSettings",modifiers:{once:!0}}],class:r.$style.cat,attrs:{href:r.cat.link},on:{click:function(e){return r.handleOnClick(e)}}},[o("div",{class:[r.$style["img-container"],(e={},e[r.$style["m-empty"]]=!r.isLoaded,e)]},[1===r.categoryLogosVersion?[o("CDNImageRetina",{class:r.$style.img,attrs:{size:56,src:r.cat.image},on:{load:function(e){r.isLoaded=!0}}})]:[r.userShowAdult||!r.cat.isAdult||r.browserBlur?o("CDNImageRetina",{class:[r.$style.img,(t={},t[r.$style["m-adult-logo"]]=!r.userShowAdult&&r.cat.isAdult,t[r.$style["adult-safari"]]=r.cat.isAdult&&!r.userShowAdult&&r.isSafari,t)],attrs:{size:56,src:r.cat.image},on:{load:function(e){r.isLoaded=!0}}}):o("img",{class:[r.$style.img,r.$style.placeholder],attrs:{src:r.adultImageSrc},on:{load:function(e){r.isLoaded=!0}}})]],2),r._v(" "),o("span",{class:r.$style.title},[r._v(r._s(r.cat.title))]),r._v(" "),o("div",{class:r.$style.overlay})]):r._e()}),[],!1,(function(e){this.$style=y.default.locals||y.default}),null,null).exports,_={name:"CatalogCategoryLogoDesktopMobile",components:{CDNImageRetinaWrapper:o.a},extends:base,props:{cat:{type:Object,required:!0},index:{type:Number,required:!0}}},O=r("858a4f");var C={name:"CatalogCategoryLogo",universal:[w,Object(v.a)(_,(function(){var e,t=this,r=t.$createElement,n=t._self._c||r;return t.cat?n("a",{directives:[{name:"detect-viewport",rawName:"v-detect-viewport.once",value:t.viewportSettings,expression:"viewportSettings",modifiers:{once:!0}}],class:t.$style.cat,attrs:{href:t.cat.link},on:{click:function(e){return t.handleOnClick(e)}}},[n("span",{class:t.$style.title},[t._v(t._s(t.cat.title))]),t._v(" "),n("div",{class:t.$style["img-container"]},[1===t.categoryLogosVersion?[n("CDNImageRetinaWrapper",{class:t.$style.img,attrs:{size:120,src:t.cat.image}})]:[n("CDNImageRetinaWrapper",{class:[t.$style.img,(e={},e[t.$style["m-adult-logo"]]=!t.userShowAdult&&t.cat.isAdult,e)],attrs:{size:120,src:t.cat.image}})]],2)]):t._e()}),[],!1,(function(e){this.$style=O.default.locals||O.default}),null,null).exports],props:{cat:{type:Object,required:!0},index:{type:Number,required:!0}}},S=Object(v.a)(C,void 0,void 0,!1,null,null,null).exports,k=n.a.extend({name:"CatalogCategoryLogosWidget",components:{CatalogCategoryLogo:S},provide:function(){return{categoryLogosVersion:this.version}},mounted:function(){var e=this;this.$nextTick((function(){e.resetSlider()}))},updated:function(){var e=this;this.$nextTick((function(){e.resetSlider()}))},computed:{cats:function(){return this.widgetState.items||[]}},methods:{resetSlider:function(){if(this.cats.length){var e=this.$refs,t=e.leftControl,r=void 0===t?{}:t,n=e.rightControl,o=void 0===n?{}:n,c=e.slider,l=void 0===c?{}:c,f=this.getSliderParams(),d=f.pageWidth,h=f.sliderWidth;r.style.visibility="hidden",o.style.visibility="hidden",h>d&&(o.style.visibility="visible"),l.style.left="0px"}},slideRight:function(){var e=this.$refs,t=e.leftControl,r=void 0===t?{}:t,n=e.rightControl,o=void 0===n?{}:n,c=e.slider,l=void 0===c?{}:c,f=this.getSliderParams(),d=f.pageWidth,h=f.itemWidths,v=f.tail,m=f.currentLeft,y=0;if(v<=d)return l.style.left="".concat(-m-v,"px"),o.style.visibility="hidden",void(r.style.visibility="visible");for(var i=0;y+h[i]+16<=d+m;)y+=h[i]+16,i++;y-=80,l.style.left="".concat(-y,"px"),r.style.visibility="visible"},slideLeft:function(){for(var e=this.$refs,t=e.leftControl,r=void 0===t?{}:t,n=e.rightControl,o=void 0===n?{}:n,c=e.slider,l=void 0===c?{}:c,f=this.getSliderParams(),d=f.itemWidths,h=f.pageWidth,v=f.tail,m=f.sliderWidth,y=0,i=d.length-1;y+d[i]<=2*h+v;)y+=d[i]+16,i--;(y+=80)>=m&&(y=m,r.style.visibility="hidden"),l.style.left="".concat(-(m-y),"px"),o.style.visibility="visible"},getSliderParams:function(){var e=this.$refs,t=e.container,r=void 0===t?{}:t,n=e.slider,o=void 0===n?{}:n,c=r.clientWidth,l=o.clientWidth,f=-parseInt(o.style.left)||0;return{pageWidth:c,sliderWidth:l,currentLeft:f,tail:l-f-c,itemWidths:Array.from(o.children).map((function(e){return e.clientWidth}))}}}}),x=r("89f9f0");var A=Object(v.a)(k,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.cats.length?r("div",{class:e.$style.wrapper},[r("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"category-logos",expression:"'category-logos'",arg:"id"}],ref:"container",class:e.$style.container},[r("div",{ref:"slider",class:e.$style.slider},e._l(e.cats,(function(t,n){return r("CatalogCategoryLogo",{directives:[{name:"qa",rawName:"v-qa",value:{id:"category-logos-item",categoryId:t.id},expression:"{id: 'category-logos-item', categoryId: cat.id}"}],key:t.id,ref:"items",refInFor:!0,class:e.$style.item,attrs:{cat:t,index:n}})})),1),e._v(" "),e.isMobile?r("div",{class:e.$style.push}):e._e()]),e._v(" "),r("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"category-logos-control-toleft",expression:"'category-logos-control-toleft'",arg:"id"}],ref:"leftControl",class:[e.$style.control,e.$style["m-left"]],on:{click:e.slideLeft}}),e._v(" "),r("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"category-logos-control-toright",expression:"'category-logos-control-toright'",arg:"id"}],ref:"rightControl",class:[e.$style.control,e.$style["m-right"]],on:{click:e.slideRight}})]):e._e()}),[],!1,(function(e){this.$style=x.default.locals||x.default}),null,null);t.default=A.exports},"2aff9f":function(e,t,r){e.exports={"sortings-bar":"bad4be","sorting-label":"_5792b4","sorting-label-text":"_0a94c1","dropdown-icon":"_804854","sortings-select":"e9d10c",blink:"_93a27c"}},"2b2cbf":function(e,t,r){},"2b51e5":function(e,t,r){},"2c6460":function(e,t,r){e.exports={overlay:"_418192",cat:"_0997c9",":hover":"_869bd0","img-container":"_8b691e","m-empty":"_4a6d11",img:"_39fbff",title:"_519f79","m-adult-logo":"cf2f16","adult-safari":"ee1460",placeholder:"_44b509",blink:"e78de7"}},"2ea633":function(e,t,r){"use strict";var n=r("f8bc7c");r.n(n).a},"34e489":function(e,t,r){},"35e196":function(e,t,r){e.exports={sortings:"_5dae87","sorting-select":"cf37ec","sorting-direction-icon":"d1e491",asc:"a5a1b0",":hover":"_25b5c3",title:"_324744",tag:"bfa6ee",":active":"_698221",":focus":"_49c3c3","m-active":"_90b35d",blink:"_5eab77"}},374317:function(e,t,r){"use strict";var n=r("894c97");r.n(n).a},"3d6790":function(e,t,r){e.exports={aside:"_48f975",blink:"_2aee54"}},"4b10a1":function(e,t,r){"use strict";var n=r("7856d2"),o=r.n(n);t.default=o.a},"4cf8b2":function(e,t,r){"use strict";var n=r("dad7dd");r.n(n).a},"51ad65":function(e,t,r){"use strict";r.r(t);r("1c750e"),r("41d819"),r("c08bb9"),r("aae158"),r("12a106"),r("2c09af");var n=r("dc77a5"),o=(r("393231"),r("cb1771"),r("5eabea")),c=r("e647ef"),l=r("487109"),f=r("56d1a9"),d=r("6ae2af"),h=r("ff287e"),v=r.n(h);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var y,w=l.a.extend({name:"SearchResultsSort",components:{SearchContentHeaderMobilePure:f.a,SearchSortings:c.a,PlaceholderRender:Object(d.a)("search-results-sort")},computed:{totalFound:function(){return v()(this.$store.state,"shared.catalog.totalFound")},sortings:function(){var e=this;return(this.widgetState.sortings||[]).map((function(t){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(source,!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},t,{link:decodeURI(e.urlBase).replace("{value}",t.urlValue)})}))},urlBase:function(){return this.widgetState.urlBase},selectedFiltersCount:function(){return this.widgetState.selectedFiltersCount},activeSortingId:function(){return(this.sortings.find((function(e){return e.isActive}))||{}).id},hasSortings:function(){return this.sortings&&this.sortings.length>0}},methods:{setActiveSorting:(y=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.selectedId,n=this.sortings.find((function(e){return e.id===r}))||{},o=decodeURI(this.urlBase).replace("{value}",n.urlValue),this.$composerRouter.push(o);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})}}),_=r("b429cb"),component=Object(_.a)(w,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.totalFound?r("div",[e.isMobile?r("div",[r("SearchContentHeaderMobilePure",{attrs:{"active-sorting-id":e.activeSortingId,"count-active-filter":e.selectedFiltersCount,sortings:e.sortings},on:{setActiveSorting:function(t){return e.setActiveSorting({selectedId:t.selectedSorting})}}},[r("PlaceholderRender",{attrs:{placeholders:e.placeholders,place:"filters-placeholder"}})],1)],1):r("div",{staticClass:"sort"},[e.hasSortings?r("SearchSortings",{attrs:{sortings:e.sortings},on:{select:function(t){return e.setActiveSorting({selectedId:t})}}}):e._e(),e._v(" "),r("PlaceholderRender",{attrs:{placeholders:e.placeholders,place:"filters-placeholder"}})],1)]):e._e()}),[],!1,null,null,null);t.default=component.exports},527938:function(e,t,r){"use strict";var n=r("659f82");r.n(n).a},"54174d":function(e,t,r){"use strict";var n=r("e5d3b1");r.n(n).a},"56d1a9":function(e,t,r){"use strict";r("e28425"),r("393231"),r("497371");var n=r("893202"),o=r("ad3cf1"),c={name:"SearchContentHeaderMobilePure",components:{DropDown:r.n(o).a,SearchFiltersMobilePopupButton:n.a},props:{activeSortingId:{type:String,required:!0},sortings:{type:Array,default:function(){return[]}},countActiveFilter:{type:Number,default:0}},computed:{activeSortingName:function(){var e=this;return(this.sortings.find((function(t){return t.id===e.activeSortingId}))||{}).name||""}},mounted:function(){this.$analytics.send("search/sortView",{trackerEvent:{sortId:this.activeSortingId}})},methods:{setActiveSorting:function(e){this.$emit("setActiveSorting",{selectedSorting:e.target.value}),this.$analytics.send("search/sortClick",{trackerEvent:{sortId:e.target.value}})},onOpen:function(){var e=this;this.sortings.forEach((function(t){var r={sortId:t.id};e.$analytics.send("search/sortView",{trackerEvent:r})}))}}},l=r("d56c1f"),f=r("b429cb");var component=Object(f.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{class:e.$style["sortings-bar"]},[r("label",{class:e.$style["sorting-label"]},[r("span",{class:e.$style["sorting-label-text"]},[e._v("\n        "+e._s(e.activeSortingName)+"\n        "),r("DropDown",{class:e.$style["dropdown-icon"]})],1),e._v(" "),r("select",{class:e.$style["sortings-select"],domProps:{value:e.activeSortingId},on:{change:e.setActiveSorting,"~click":function(t){return e.onOpen(t)}}},e._l(e.sortings,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v("\n          "+e._s(t.name)+"\n        ")])})),0)]),e._v(" "),e._t("default",[r("SearchFiltersMobilePopupButton",{attrs:{"count-active-filter":e.countActiveFilter},on:{setFiltersPopupVisibility:function(t){return e.$emit("setFiltersPopupVisibility",t)}}})])],2)])}),[],!1,(function(e){this.$style=l.default.locals||l.default}),null,null);t.a=component.exports},"5eb4e9":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={TYPES:{BOOL:"RESPONSE_FILTER_TYPE_BOOL",MULTI:"RESPONSE_FILTER_TYPE_MULTI",RANGE:"RESPONSE_FILTER_TYPE_RANGE",COLOR:"RESPONSE_FILTER_TYPE_COLOR",RADIO:"RESPONSE_FILTER_TYPE_RADIO",RATING:"RESPONSE_FILTER_TYPE_RATING",INVALID:"RESPONSE_FILTER_TYPE_INVALID"},URL_PREFIX:"f_",SEPARATORS:{RANGE:";",MULTI:","}}},"5fe385":function(e,t,r){"use strict";var n=r("cf100e");r.n(n).a},"659f82":function(e,t,r){},680897:function(e,t,r){"use strict";var n=r("1718b4");r.n(n).a},"68b764":function(e,t,r){"use strict";var n=r("2c6460"),o=r.n(n);t.default=o.a},"692a29":function(e,t,r){"use strict";var n=r("08d874");r.n(n).a},"69f764":function(e,t,r){},"6aa736":function(e,t,r){"use strict";var n=r("f58690");r.n(n).a},"6c6e8c":function(e,t,r){"use strict";var n=r("83fcd3");r.n(n).a},"71f427":function(e,t,r){"use strict";var n=r("2b51e5");r.n(n).a},"7856d2":function(e,t,r){e.exports={"active-filters":"fac0f4","selected-filter":"caf64a",filter:"_4db849",link:"_9c32d0",":hover":"e750ec",blink:"c90d13"}},"7a819b":function(e,t,r){"use strict";var n=r("2b2cbf");r.n(n).a},"7b7ad4":function(e,t,r){},"7b8bb2":function(e,t,r){"use strict";var n=r("9d8fd6");r.n(n).a},"8158fa":function(e,t,r){"use strict";r("1c750e"),r("41d819"),r("12a106"),r("e28425");var n=r("5eabea"),o=(r("c08bb9"),r("aae158"),r("949695")),c=r("64fdd4"),l=r("226eb3"),f=(r("497371"),r("331f86")),d=void 0,h={name:"RangeFilter",props:{min:{required:!0,type:Number},max:{required:!0,type:Number},from:{type:Number,default:void 0},to:{type:Number,default:void 0},fractionDigits:{type:Number,default:0},ranges:{type:Array,default:null},filterBlock:{type:Object,default:function(){return{}}}},data:function(){return{fromValue:this.getNewValue(this.from,this.min),toValue:this.getNewValue(this.to,this.max),flag:!1,currentSlider:0,switchFlipper:!1,id:null,viewportSettings:{callback:this.handleShow}}},computed:{fillPositionLeft:function(){var e=this.getPercentPositionFromValue(this.fromValue);return e>0?e:0},fillPositionRight:function(){var e=this.getPercentPositionFromValue(this.toValue);return 100-(e<100?e:100)},flipperPositionLeft:function(){var e=this.getPercentPositionFromValue(this.fromValue);return e>0?e:0},flipperPositionRight:function(){var e=this.getPercentPositionFromValue(this.toValue);return e<100?e:100},rangeItems:function(){var e=this,output=[],t=Math.max.apply(Math,Object(l.a)(this.ranges.map((function(e){return e.count}))));return this.ranges.forEach((function(r){var n=Object(c.a)(r.range,2),o=n[0],l=n[1],f=r.count;output.push({height:f/t*100,left:100*e.calcQuotient(o),right:100-100*e.calcQuotient(l)})})),output}},watch:{min:function(){this.fromValue=this.getNewValue(this.from,this.min)},max:function(){this.toValue=this.getNewValue(this.to,this.max)},from:function(e){this.fromValue=this.getNewValue(e,this.min)},to:function(e){this.toValue=this.getNewValue(e,this.max)}},mounted:function(){this.id=this._uid,this.bindEvents(),this.isMobile&&this.emitShow()},beforeDestroy:function(){this.unbindEvents()},methods:{debouncedSubmit:r.n(f)()((function(){return d.submit()}),300),submit:function(){var output=this.prepareOutput();Object.keys(output).length>0&&this.$emit("change",this.prepareOutput())},onFromChange:function(){this.fromValue<this.min&&(this.fromValue=this.min),this.fromValue>this.max&&(this.fromValue=this.max),this.fromValue>this.toValue&&(this.toValue=this.max),this.submit()},onToChange:function(){this.toValue<this.min&&(this.toValue=this.min),this.toValue>this.max&&(this.toValue=this.max),this.fromValue>this.toValue&&(this.fromValue=this.min),this.submit()},getPercentPositionFromValue:function(e){return 100*this.calcQuotient(e)},getValueFromPercentPosition:function(e){return+((this.max-this.min)*(e/100)+this.min).toFixed(this.fractionDigits)},getValueFromPixelPosition:function(e){var rect=this.$refs.flipperContainer.getBoundingClientRect(),t=(e-rect.left)/rect.width*100;return this.getValueFromPercentPosition(t)},calcQuotient:function(e){return(e-this.min)/(this.max-this.min)},prepareOutput:function(){var output={};return isNaN(this.fromValue)||this.fromValue===this.from&&this.fromValue===this.min||(output.from=this.fromValue),isNaN(this.toValue)||this.toValue===this.to&&this.toValue===this.max||(output.to=this.toValue),output},bindEvents:function(){document.addEventListener("touchmove",this.moving,{passive:!1}),document.addEventListener("touchend",this.moveEnd,{passive:!1}),document.addEventListener("mousemove",this.moving),document.addEventListener("mouseup",this.moveEnd),document.addEventListener("mouseleave",this.moveEnd)},unbindEvents:function(){document.removeEventListener("touchmove",this.moving),document.removeEventListener("touchend",this.moveEnd),document.removeEventListener("mousemove",this.moving),document.removeEventListener("mouseup",this.moveEnd),document.removeEventListener("mouseleave",this.moveEnd)},moveStart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.currentSlider=e,this.flag=!0},moving:function(e){var t=this;if(this.flag){e.preventDefault();var r,n=this.getValueFromPixelPosition(this.getEventPos(e));0===this.currentSlider&&n<this.min&&(n=this.min),1===this.currentSlider&&n>this.max&&(n=this.max),(1===this.currentSlider&&n<+this.fromValue||0===this.currentSlider&&n>+this.toValue)&&(r=this.currentSlider,t.currentSlider=+!r,t.switchFlipper=!0),this[1===this.currentSlider?"toValue":"fromValue"]=n;var o="flipper_"+this.currentSlider;this.$refs[o].style.left=this.getPercentPositionFromValue(n)}},moveEnd:function(){this.flag&&(this.flag=!1,this.submit())},getEventPos:function(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent&&e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].clientX:e instanceof MouseEvent?e.clientX:0},getNewValue:function(e,t){return e||t},handleShow:function(e){(e||this.isMobile)&&this.emitShow()},emitShow:function(){var e=this.from,t=this.to;this.$emit("inviewport",{from:e,to:t})}}},v=(r("edc3fc"),r("b429cb")),m=Object(v.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return isNaN(e.min)||isNaN(e.max)?e._e():r("form",{directives:[{name:"detect-viewport",rawName:"v-detect-viewport.once",value:e.viewportSettings,expression:"viewportSettings",modifiers:{once:!0}}],class:["range-filter",{"m-mobile":e.isMobile}],attrs:{action:""},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[e.ranges?r("div",{staticClass:"histogram"},e._l(e.rangeItems,(function(e,t){return r("span",{key:t,staticClass:"histogram-item",style:{left:e.left+"%",right:e.right+"%",height:e.height+"%"}})})),0):e._e(),e._v(" "),r("div",{ref:"flipperContainer",staticClass:"range"},[r("div",{ref:"flipper_0",staticClass:"flipper m-left",style:{left:"calc("+e.flipperPositionLeft+"% - 8px)"},on:{mousedown:function(t){return e.moveStart(0)},touchstart:function(t){return e.moveStart(0)}}}),e._v(" "),r("div",{ref:"flipper_1",staticClass:"flipper m-right",style:{left:"calc("+e.flipperPositionRight+"% - 8px)"},on:{mousedown:function(t){return e.moveStart(1)},touchstart:function(t){return e.moveStart(1)}}}),e._v(" "),r("div",{staticClass:"fill"},[r("div",{staticClass:"fill-in",style:{left:e.fillPositionLeft+"%",right:e.fillPositionRight+"%"}})])]),e._v(" "),r("div",{staticClass:"input-container"},[r("div",{staticClass:"input-item"},[r("label",{staticClass:"label",attrs:{for:"from_"+e.id}},[e._v("от")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:e.fromValue,expression:"fromValue",modifiers:{number:!0,lazy:!0}}],staticClass:"input",attrs:{id:"from_"+e.id,"data-test-id":"range-filter-from-input"},domProps:{value:e.fromValue},on:{change:[function(t){e.fromValue=e._n(t.target.value)},e.onFromChange],blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),r("div",{staticClass:"input-item"},[r("label",{staticClass:"label",attrs:{for:"to_"+e.id}},[e._v("до")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:e.toValue,expression:"toValue",modifiers:{number:!0,lazy:!0}}],staticClass:"input",attrs:{id:"to_"+e.id,"data-test-id":"range-filter-to-input"},domProps:{value:e.toValue},on:{change:[function(t){e.toValue=e._n(t.target.value)},e.onToChange],blur:function(t){return e.$forceUpdate()}}})])])])}),[],!1,null,"079e5374",null).exports,y=(r("340dbd"),r("413112"),{props:{placeholder:{type:String,default:""},value:{type:String,default:""},password:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},clearControl:{type:Boolean,default:!1},closeOnBlur:{type:Boolean,default:!1},error:{type:Boolean,default:!1},passwordRestore:{type:Boolean,default:!1},inputClass:{type:String,default:""},trim:{type:Boolean,default:!1},id:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{type:this.password?"password":"text",showPasswordRestore:this.password&&this.passwordRestore}},mounted:function(){console.warn("DEPRECATED!!! TextInput is deprecated, please use (OzonInput || OzonTextInput) instead. \nPATH: @shared/form/input"),this.autofocus&&this.$refs.input.focus()},methods:{updateValue:function(e){this.$emit("input",e)},clearText:function(){this.$emit("input",""),this.$emit("clear"),this.$refs.input.focus()},trimValue:function(e){var t=e.trim();""===t&&this.updateValue(t)}}}),w=(r("9406c4"),Object(v.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"input-wrap",class:{"m-error":e.error}},[r("input",{ref:"input",staticClass:"input",class:[{"m-with-cross":e.clearControl&&e.value,"m-with-restore":e.showPasswordRestore},e.inputClass],attrs:{id:e.id,disabled:e.disabled,placeholder:e.placeholder,type:e.type,autocomplete:"nope"},domProps:{value:e.value},on:{blur:function(t){return e.$emit("blur",t)},focus:function(t){return e.$emit("focus",t)},input:function(t){return e.updateValue(t.target.value)},keydown:function(t){return e.$emit("keydown",t)},keyup:function(t){e.trim&&e.trimValue(t.target.value)}}}),e._v(" "),e.showPasswordRestore?r("a",{staticClass:"forgot-password",class:{"m-with-cross":e.clearControl&&e.value},attrs:{href:"/context/forgotpassword/",target:"_blank"}},[e._v("Не помните?")]):e._e(),e._v(" "),e.clearControl&&e.value?r("div",{staticClass:"cross",on:{click:function(t){return t.stopPropagation(),e.clearText(t)}}}):e._e()])}),[],!1,null,"782af182",null).exports),_=(r("aef563"),function(){return(_=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)}),O={props:{values:{required:!0,type:Array,validator:function(e){return e.every((function(e){return"number"==typeof e.key}))}},hasMoreValues:{type:Boolean,default:!1},visible:{type:Number,default:0},minSearchCount:{type:Number,default:10},filterBlock:{type:Object,default:function(){return{}}},externalShowAll:{type:Boolean,default:!1}},data:function(){return{localShowAll:void 0,searchInput:"",isFound:!0}},watch:{externalShowAll:function(){this.localShowAll=void 0}},computed:{showAll:{get:function(){return void 0!==this.localShowAll?this.localShowAll:this.externalShowAll},set:function(e){this.localShowAll=e}},visibleCount:function(){return this.visible||(this.isMobile?10:5)},items:function(){return this.showAll?this.sortedValues:this.values},isSearchShow:function(){return this.values.length>=this.minSearchCount&&this.showAll},sortedValues:function(){return this.sort(this.values)},foundValues:function(){var e=this,t=this.values.filter((function(t){return-1!==t.value.toLowerCase().search(e.searchInput.toLowerCase())}));return this.sort(t)},itemHeight:function(){return this.isMobile?50:24},isShowButton:function(){return!this.showAll&&(this.hasMoreValues||this.values.length>this.visibleCount)}},methods:{onCheckboxClick:function(e,t){this.$emit("change",{key:t.key,isActive:e})},isVisible:function(e,t){return!e.isLetter&&(this.showAll||t<this.visibleCount||e.isActive)},show:function(){this.showAll||(this.showAll=!0,this.$emit("show",this.filterBlock.key),this.hasMoreValues&&this.$emit("load"))},hide:function(){this.searchInput="",this.showAll=!1,this.$emit("hide",this.filterBlock.key)},submit:function(){var e=this.foundValues.filter((function(e){return!e.isLetter}));if(1!==e.length)this.hide();else{var t=e[0];this.onCheckboxClick(!0,t)}},sort:function(data){var e=[];return data.map((function(e){return _({},e,{value:e.value.trim()})})).sort((function(a,b){return a.value.toLowerCase()<b.value.toLowerCase()?-1:a.value.toLowerCase()>b.value.toLowerCase()?1:0})).forEach((function(t,r,n){var o=t.value.charAt(0).toUpperCase();(0===r||r>0&&o!==n[r-1].value.charAt(0).toUpperCase())&&e.push({value:o,key:o,isLetter:!0}),e.push(t)})),e}}},C=r("a122d7"),S={name:"MultiFilterItem",components:{Checkbox:C.a},props:{item:{type:Object,default:function(){return{}}}}},k=(r("84f30f"),Object(v.a)(S,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.item.isLetter?r("div",{staticClass:"letter f-subtitle"},[e._v("\n  "+e._s(e.item.value)+"\n")]):r("label",{class:["label",{"m-active":e.item.isActive}]},[r("Checkbox",{attrs:{value:e.item.isActive},on:{input:function(t){return e.$emit("change",t,e.item)}}},[r("span",{class:["label-text",{"m-active":e.item.isActive}]},[e._v("\n      "+e._s(e.item.value||e.item.key)+"\n    ")])])],1)}),[],!1,null,"5806dc93",null).exports),x=r("b902cb"),A=r("f82768"),E=r.n(A),P=new Map,$={name:"Multi",components:{SearchIcon:E.a,OButton:x.b,TextInput:w,MultiFilterItem:k},extends:O,data:function(){return{detectViewportSettings:{callback:this.formatEvents}}},mounted:function(){this.scrollList()},updated:function(){this.scrollList()},methods:{scrollList:function(){var e=this;this.$nextTick((function(){var t=e.$refs.scrollContainer,r=P.get(e.filterBlock.key);t&&r&&(t.scrollTop=r.count===e.values.length?r.scrollTop:0)}))},formatEvents:function(e){e&&this.$emit("inviewport",this.items)},handleScroll:function(e){e&&e.target&&P.set(this.filterBlock.key,{scrollTop:e.target.scrollTop,count:this.values.length})}}},j=(r("692a29"),Object(v.a)($,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"multi-filter"},[e.isSearchShow?r("form",{staticClass:"search-form",attrs:{action:""},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[r("TextInput",{staticClass:"search-input",attrs:{placeholder:"",type:"text"},on:{focus:e.show,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hide(t)}},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),e._v(" "),r("OButton",{staticClass:"search-button",attrs:{flat:"",size:"small"}},[r("SearchIcon")],1)],1):e._e(),e._v(" "),e.isSearchShow?r("div",{staticClass:"search-show"},[e.foundValues.length?e._e():r("span",{staticClass:"none"},[e._v("Ничего не нашлось")]),e._v(" "),r("div",{ref:"scrollContainer",staticClass:"search-show-container",on:{"&scroll":function(t){return e.handleScroll(t)}}},e._l(e.foundValues,(function(t){return r("MultiFilterItem",{key:t.key,attrs:{"data-test-id":"filter-block-"+e.filterBlock.key+"-item-"+t.key,item:t},on:{change:e.onCheckboxClick}})})),1)]):r("div",{directives:[{name:"detect-viewport",rawName:"v-detect-viewport.once",value:e.detectViewportSettings,expression:"detectViewportSettings",modifiers:{once:!0}}],staticClass:"items"},[e._l(e.items,(function(t,n){return[e.isVisible(t,n)?r("MultiFilterItem",{key:t.key,attrs:{"data-test-id":"filter-block-"+e.filterBlock.key+"-item-"+t.key,item:t},on:{change:e.onCheckboxClick}}):e._e()]}))],2),e._v(" "),r("span",{staticClass:"show"},[e.isShowButton?r("span",{staticClass:"show-text",attrs:{"data-test-id":"filter-block-"+e.filterBlock.key+"-show-all"},on:{click:e.show}},[e._v("\n      Посмотреть все\n    ")]):e._e(),e._v(" "),e.showAll?r("span",{staticClass:"show-text",on:{click:e.hide}},[e._v("Свернуть")]):e._e()])])}),[],!1,null,"051b0a66",null).exports),V=0,I={name:"MultiFilterItem",props:{item:{type:Object,required:!0},index:{type:Number,required:!0}},computed:{uid:function(){return V++}}},T=(r("7b8bb2"),Object(v.a)(I,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"item"},[r("input",{staticClass:"input",attrs:{id:e.uid,type:"checkbox"},domProps:{checked:e.item.isActive,value:e.item.isActive},on:{change:function(t){return e.$emit("change",{isActive:t.target.checked,item:e.item})}}}),e._v(" "),r("label",{key:e.index,class:["label",{"m-active":e.item.isActive}],attrs:{for:e.uid}},[e.item.showLetter?r("span",{staticClass:"letter"},[e._v(e._s(e.item.letter))]):e._e(),e._v(" "),r("span",{staticClass:"label-text"},[e._v(e._s(e.item.value||e.item.key))])])])}),[],!1,null,"46033daf",null).exports),F={name:"MultiMobile",components:{SearchInput:r("adeecf").a,MultiFilterItem:T},extends:O,computed:{isShowSearch:function(){return this.hasMoreValues||this.minSearchCount<this.values.length},foundValues:function(){var e=this;return this.mappedValues.filter((function(t){return-1!==t.value.toLowerCase().search(e.searchInput.toLowerCase())}))},mappedValues:function(){return Object(l.a)(this.values).sort((function(a,b){var e=a.value.toUpperCase(),t=b.value.toUpperCase();return e<t?-1:e>t?1:0})).map((function(e,t,r){var n=e.value.charAt(0).toUpperCase(),o=r[t-1]&&r[t-1].value.charAt(0).toUpperCase(),c=0===t||o!==n;return Object.assign(e,{letter:n,showLetter:c}),e}))}},mounted:function(){this.$emit("inviewport",this.items)}},B=(r("6aa736"),Object(v.a)(F,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"multi-filter"},[r("div",{staticClass:"search-multi"},[e.isShowSearch?r("SearchInput",{attrs:{placeholder:"Поиск"},on:{focus:e.show,onsearch:e.hide},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}):e._e()],1),e._v(" "),e.isSearchShow?r("div",{staticClass:"search-show"},[r("span",{directives:[{name:"show",rawName:"v-show",value:!e.foundValues.length,expression:"!foundValues.length"}],staticClass:"none"},[e._v("Ничего не нашли")]),e._v(" "),r("div",{staticClass:"search-show-container"},e._l(e.foundValues.length?e.foundValues:e.mappedValues,(function(t,n){return r("MultiFilterItem",{key:n,attrs:{index:n,item:t},on:{change:function(t){return e.onCheckboxClick(t.isActive,t.item)}}})})),1)]):r("div",{staticClass:"items"},[e._l(e.mappedValues,(function(t,n){return r("MultiFilterItem",{key:n,attrs:{index:n,item:t},on:{change:function(t){return e.onCheckboxClick(t.isActive,t.item)}}})})),e._v(" "),r("div",{staticClass:"show"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowButton,expression:"isShowButton"}],staticClass:"show-text",on:{click:e.show}},[e._v("\n        Показать ещё\n      ")]),e._v(" "),e.isMobile?e._e():r("div",{directives:[{name:"show",rawName:"v-show",value:e.showAll,expression:"showAll"}],staticClass:"show-text",on:{click:e.hide}},[e._v("\n        Свернуть\n      ")])])],2)])}),[],!1,null,"48bedd78",null).exports),L=r("9136cf"),N={name:"RadioFilter",components:{Radio:r("fb81b8").a},props:{values:{required:!0,type:Array,validator:function(e){return e.every((function(e){var t=e.key,r=e.isActive;return"number"==typeof t&&"boolean"==typeof r}))}}},methods:{onClick:function(e){e.count&&this.$emit("change",{key:e.key})}}},R=(r("d39dad"),Object(v.a)(N,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"radio-filter"},e._l(e.values,(function(t,n){return r("label",{key:n,staticClass:"label",class:{mDisabled:!t.count}},[r("radio",{attrs:{active:t.isActive,disabled:!t.count},on:{change:function(r){return e.onClick(t)}}},[r("span",{staticClass:"label-text"},[e._v(e._s(t.value))])])],1)})),0)}),[],!1,null,"cfa04024",null).exports),D={name:"RatingFilter",extends:L.a,data:function(){return{detectViewportSettings:{callback:this.formatEvents}}},methods:{formatEvents:function(e){e&&this.$emit("inviewport",this.isActive)}}},M=(r("ef06a3"),Object(v.a)(D,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"detect-viewport",rawName:"v-detect-viewport.once",value:e.detectViewportSettings,expression:"detectViewportSettings",modifiers:{once:!0}}],staticClass:"rating-filter"},[r("NativeCheckbox",{attrs:{value:e.isActive},on:{input:e.onInput}},[r("span",{staticClass:"label-text",class:{"m-active":e.isActive}},[e._v("Высокий рейтинг")]),e._v(" "),e.isMobile?e._e():r("span",{staticClass:"small"},[e._v(" 4 и 5 звезд")])])],1)}),[],!1,null,"1864e679",null).exports),U={name:"ColorFilter",components:{Checkbox:C.a},extends:O,data:function(){return{searchInput:"",isFound:!0,detectViewportSettings:{callback:this.formatEvents}}},computed:{sortedValues:function(){return this.values},showExpander:function(){return this.hasMoreValues||this.items.length>this.visibleCount}},methods:{formatEvents:function(e){e&&this.$emit("inviewport",this.items)}}},Y=(r("54174d"),Object(v.a)(U,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"detect-viewport",rawName:"v-detect-viewport.once",value:e.detectViewportSettings,expression:"detectViewportSettings",modifiers:{once:!0}}],staticClass:"multi-filter m-color"},[r("div",{class:["items",{"m-showall":e.showAll}]},[e._l(e.items,(function(t,n){return[e.isVisible(t,n)?r("label",{key:n,class:["label",{"m-active":t.isActive,"m-one-line":!e.showAll}]},[r("Checkbox",{staticClass:"checkbox-wrapper",attrs:{"data-test-id":"filter-block-color-item-"+t.key,value:t.isActive},on:{input:function(r){return e.onCheckboxClick(r,t)}}},[r("span",{staticClass:"color",class:{"m-white":"ffffff"===t.color.hex,"m-transparent":"fffdfa"===t.color.hex},style:{"background-color":"#"+t.color.hex}}),e._v(" "),r("span",{staticClass:"label-text"},[e._v("\n            "+e._s(t.color.name)+"\n          ")])])],1):e._e()]}))],2),e._v(" "),e.showExpander?r("span",{staticClass:"show"},[r("span",{directives:[{name:"show",rawName:"v-show",value:!e.showAll,expression:"!showAll"}],staticClass:"show-text",on:{click:e.show}},[e._v("Посмотреть все")]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.showAll,expression:"showAll"}],staticClass:"show-text",on:{click:e.hide}},[e._v("Скрыть")])]):e._e()])}),[],!1,null,"1c5517de",null).exports),G=0,K={name:"ColorFilterItem",props:{item:{type:Object,required:!0},index:{type:Number,required:!0}},computed:{uid:function(){return G++}}},W=(r("f36ea0"),{name:"ColorFilter",components:{ColorFilterItem:Object(v.a)(K,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"item"},[r("input",{staticClass:"input",attrs:{id:e.uid,type:"checkbox"},domProps:{checked:e.item.isActive},on:{change:function(t){return e.$emit("change",{isActive:t.target.checked,item:e.item})}}}),e._v(" "),r("label",{key:e.index,class:["label",{"m-active":e.item.isActive}],attrs:{for:e.uid}},[r("span",{staticClass:"color",class:{"m-white":"ffffff"===e.item.color.hex,"m-transparent":"fffdfa"===e.item.color.hex},style:{"background-color":"#"+e.item.color.hex}}),e._v(" "),r("span",{staticClass:"label-text"},[e._v(e._s(e.item.color.name))])])])}),[],!1,null,"3caebd2e",null).exports},extends:O,data:function(){return{searchInput:"",isFound:!0}},computed:{sortedValues:function(){return this.values}},mounted:function(){this.$emit("inviewport",this.items)},methods:{isVisible:function(e,t){return this.showAll||t<this.visibleCount||e.isActive}}}),H=(r("6c6e8c"),Object(v.a)(W,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"multi-filter m-color"},[r("div",{staticClass:"items"},e._l(e.items,(function(t,n){return r("ColorFilterItem",{key:n,attrs:{index:n,item:t},on:{change:function(t){return e.onCheckboxClick(t.isActive,t.item)}}})})),1),e._v(" "),r("span",{staticClass:"show"},[r("span",{directives:[{name:"show",rawName:"v-show",value:e.isShowButton,expression:"isShowButton"}],staticClass:"show-text",on:{click:e.show}},[e._v("Показать еще")]),e._v(" "),e.isMobile?e._e():r("span",{directives:[{name:"show",rawName:"v-show",value:e.showAll,expression:"showAll"}],staticClass:"show-text",on:{click:e.hide}},[e._v("Скрыть")])])])}),[],!1,null,"424d4ba3",null).exports);function z(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Q(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?z(source,!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):z(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var X={name:"FilterBlockPure",props:{filter:{required:!0,type:Object,validator:function(e){var t=e.ftype,r=e.key,n=e.values;return t&&r&&Array.isArray(n)}},forceHideTitle:{type:Boolean,default:!1}},inject:{trackingInfo:{default:function(){return{}}}},data:function(){return{shouldSendShowEvent:!0}},computed:{components:function(){var e;return e={},Object(n.a)(e,o.a.TYPES.RANGE,m),Object(n.a)(e,o.a.TYPES.MULTI,this.isMobile?B:j),Object(n.a)(e,o.a.TYPES.BOOL,L.a),Object(n.a)(e,o.a.TYPES.RADIO,R),Object(n.a)(e,o.a.TYPES.RATING,M),Object(n.a)(e,o.a.TYPES.COLOR,this.isMobile?H:Y),e},isComponentExists:function(){return Boolean(this.components[this.filter.ftype])},filterValues:function(){var e,t={key:this.filter.key,name:this.filter.name};return e={},Object(n.a)(e,o.a.TYPES.RANGE,Q({},this.filter.values[0]?this.filter.values[0].range:{},{filterBlock:t})),Object(n.a)(e,o.a.TYPES.MULTI,{filterBlock:t,hasMoreValues:this.filter.hasMoreValues,values:this.filter.values,externalShowAll:this.filter.showAll}),Object(n.a)(e,o.a.TYPES.RADIO,{filterBlock:t,values:this.filter.values}),Object(n.a)(e,o.a.TYPES.BOOL,Q({},this.filter.values[0],{filterBlock:t,value:this.filter.name})),Object(n.a)(e,o.a.TYPES.RATING,Q({},this.filter.values[0],{filterBlock:t,value:this.filter.name})),Object(n.a)(e,o.a.TYPES.COLOR,{filterBlock:t,hasMoreValues:this.filter.hasMoreValues,values:this.filter.values,externalShowAll:this.filter.showAll}),e},showTitle:function(){return!this.forceHideTitle&&!this.isMobile&&this.filter.name&&!this.isBool&&!this.isRating},isBool:function(){return this.filter.ftype===o.a.TYPES.BOOL},isRating:function(){return this.filter.ftype===o.a.TYPES.RATING},isRange:function(){return this.filter.ftype===o.a.TYPES.RANGE},isInstallment:function(){return this.isBool&&"is_installment"===this.filter.key}},mounted:function(){var e=this;this.$when("composer/GET_LAYOUT",(function(){e.shouldSendShowEvent=!0}))},methods:{onChange:function(e){this.$emit("change",{key:this.filter.key,ftype:this.filter.ftype,value:e}),this.sendAnalyticsClick(e)},onLoad:function(){this.$emit("load",this.filter)},sendAnalyticsShow:function(e){if(this.shouldSendShowEvent){var t=this.filter.ftype,r={filterKey:this.filter.key,context:this.filter.index+1,value:null,widget:this.trackingInfo.name};if(t===o.a.TYPES.RANGE){var n=e.from,c=e.to,l=this.filterValues[t],f=l.min,d=l.max;r.value="".concat(n||f,":").concat(c||d)}if(-1!==[o.a.TYPES.BOOL,o.a.TYPES.RATING].indexOf(t)&&(r.value=e),-1!==[o.a.TYPES.COLOR,o.a.TYPES.MULTI].indexOf(t)){var h=e.filter((function(e){return e.isActive})).map((function(e){return e.key}));r.value=h.join(",")}this.$analytics.send("search/filterView",{trackerEvent:r}),this.shouldSendShowEvent=!1}},sendAnalyticsClick:function(e){var t=this.filter.ftype,r={filterKey:this.filter.key,context:this.filter.index+1,value:null,widget:this.trackingInfo.name};if(t===o.a.TYPES.RANGE&&!this.isMobile){var n=e.from,c=e.to,l=this.filterValues[t],f=l.min,d=l.max;r.value="".concat(n||f,":").concat(c||d)}if(-1!==[o.a.TYPES.BOOL,o.a.TYPES.RATING].indexOf(t)&&(r.value=e.isActive),-1!==[o.a.TYPES.COLOR,o.a.TYPES.MULTI].indexOf(t)){var h=this.filterValues[t].values.filter((function(e){return e.isActive})).map((function(e){return e.key}));r.value=h.join(",")}this.$analytics.send("search/filterClick",{trackerEvent:r})}}},J=(r("ef456f"),Object(v.a)(X,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isComponentExists?r("div",{class:["filter",{"m-bool":e.isBool,"m-range":e.isRange,"m-installment":e.isInstallment}],attrs:{"data-test-id":"filter-block-"+e.filter.key}},[e.showTitle?r("div",{staticClass:"title"},[e._v("\n    "+e._s(e.filter.name)+"\n  ")]):e._e(),e._v(" "),r(e.components[e.filter.ftype],e._b({tag:"component",on:{change:function(t){return e.onChange(t)},hide:function(t){return e.$emit("hide",t)},inviewport:e.sendAnalyticsShow,load:e.onLoad,show:function(t){return e.$emit("show",t)}}},"component",e.filterValues[e.filter.ftype],!1))],1):e._e()}),[],!1,null,"0858ede2",null));t.a=J.exports},"83fcd3":function(e,t,r){},"84f30f":function(e,t,r){"use strict";var n=r("7b7ad4");r.n(n).a},"858a4f":function(e,t,r){"use strict";var n=r("aa843f"),o=r.n(n);t.default=o.a},"86ef15":function(e,t,r){},893202:function(e,t,r){"use strict";r("497371");var n=r("b69364"),o={name:"SearchFiltersMobilePopupButton",components:{Filters:r.n(n).a},props:{countActiveFilter:{type:Number,default:0}}},c=r("aa8f91"),l=r("b429cb");var component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.$style["filters-button"],on:{click:function(t){return e.$emit("setFiltersPopupVisibility",!0)}}},[e.countActiveFilter?r("span",{class:e.$style["filters-count"]},[e._v(e._s(e.countActiveFilter))]):e._e(),e._v(" "),r("Filters",{class:e.$style["filters-icon"]}),e._v(" "),r("span",{class:e.$style["filter-text"]},[e._v("\n    Фильтры\n  ")])],1)}),[],!1,(function(e){this.$style=c.default.locals||c.default}),null,null);t.a=component.exports},"894c97":function(e,t,r){},"89f9f0":function(e,t,r){"use strict";var n=r("0ddc3e"),o=r.n(n);t.default=o.a},"8b734b":function(e,t,r){},"8b7484":function(e,t,r){"use strict";var n=r("e8d8ec");r.n(n).a},"8fa1dc":function(e,t,r){"use strict";var n=r("86ef15");r.n(n).a},"9136cf":function(e,t,r){"use strict";r("c08bb9"),r("aae158"),r("12a106"),r("497371");var n={name:"BoolFilter",components:{NativeCheckbox:r("a122d7").a},props:{value:{required:!0,type:String},count:{type:Number,default:0},isActive:{type:Boolean,default:!1},filterBlock:{type:Object,default:function(){return{}},validator:function(e){return Object.keys(e).every((function(t){return e[t]&&"string"==typeof e[t]}))}}},data:function(){return{viewportSettings:{callback:this.formatEvents}}},methods:{onInput:function(e){this.$emit("change",{isActive:e})},formatEvents:function(e){e&&this.$emit("inviewport",this.isActive)}}},o=(r("f262da"),r("b429cb")),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"detect-viewport",rawName:"v-detect-viewport.once",value:e.viewportSettings,expression:"viewportSettings",modifiers:{once:!0}}],class:["bool-filter",{"m-mobile":e.isMobile}]},[r("NativeCheckbox",{attrs:{value:e.isActive},on:{input:e.onInput}},[r("span",{class:["label-text","f-subtitle",{"m-active":e.isActive}]},[e._v(e._s(e.value))])])],1)}),[],!1,null,"60e01be0",null);t.a=component.exports},"9406c4":function(e,t,r){"use strict";var n=r("8b734b");r.n(n).a},949695:function(e,t,r){"use strict";var filter=r("5eb4e9"),n={SALE_TYPES:{SINGLE:"TILE_SALE_TYPE_SINGLE",SINGLE_DIGITAL_SOFT:"TILE_SALE_TYPE_SINGLE_DIGITAL",MULTIPLE:"TILE_SALE_TYPE_MULTIPLE",BAD_AVAILABILITY:"TILE_SALE_TYPE_BAD_AVAILABILITY",PRE_ORDER:"TILE_SALE_TYPE_PREORDER",NOT_PURCHASABLE:"TILE_SALE_TYPE_NOT_PURCHASABLE"},TYPE:{BOOK_INVALID:"ITEM_BOOK_TYPE_INVALID",BOOK_AUDIO:"ITEM_BOOK_TYPE_AUDIO",BOOK_ANTIQUES:"ITEM_BOOK_TYPE_ANTIQUES",BOOK_DIGITAL:"ITEM_BOOK_TYPE_DIGITAL",BOOK_DIGITAL_AUDIO:"ITEM_BOOK_TYPE_DIGITAL_AUDIO",BOOK_PRINTING:"ITEM_BOOK_TYPE_REQUESTABLE_PRINTING",BOOK_EDITION:"ITEM_BOOK_TYPE_ANTIQUES_EDITION",BOOK_BOUQUINISTES:"ITEM_BOOK_TYPE_BOUQUINISTES"}};r.d(t,"a",(function(){return filter.a})),r.d(t,"b",(function(){return n}))},"9b1b5d":function(e,t,r){e.exports={"category-container":"_8268ca",icon:"e59bbc",category:"_501b80",":hover":"_412ea0",active:"_18b172",children:"_9a0e20",more:"d5f54c","icon-more":"eca6dd","m-inverted":"_2a4445",blink:"_7e2d40"}},"9ca28f":function(e,t,r){},"9d8fd6":function(e,t,r){},a84c38:function(e,t,r){"use strict";r.r(t);r("1c750e"),r("41d819"),r("c08bb9"),r("aae158"),r("12a106"),r("cb1771"),r("e28425");var n=r("5eabea"),o=(r("497371"),r("487109")),c=r("846c0d"),l=r("3ced62"),f={name:"SubtreeCategory",components:{ComposerLink:l.a},mixins:[Object(c.a)("emitViewport",{once:!0})],props:{categories:{type:Array,default:function(){return[]}},currentCategory:{type:Object,required:!0},maxLevel:{type:Number,required:!0},currentLevel:{type:Number,default:1}},data:function(){return{showAll:!1,MAX_VISIBLE:4}},computed:{visibleChildren:function(){var e=this.maxLevel,t=this.currentLevel,r=this.showAll;return e!==t+1||r?this.categories:this.categories.slice(0,4)},showChildren:function(){return this.categories.length&&this.currentLevel+1<=this.maxLevel}},methods:{setShowAll:function(e){this.showAll=e},emitViewport:function(){this.$emit("categoryView",this.currentCategory)}}},d=r("22d93c"),h=r("b429cb");var v=Object(h.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:[e.$style.category,e.$style["m-current-level-"+e.currentLevel],e.$style["m-max-level-"+e.maxLevel]]},[r("ComposerLink",{class:e.$style["category-link"],attrs:{href:e.currentCategory.href},on:{click:function(t){return e.$emit("categoryClick",e.currentCategory)}}},[e._v("\n    "+e._s(e.currentCategory.name)+"\n  ")]),e._v(" "),e.showChildren?[e._l(e.visibleChildren,(function(t){return r("SubtreeCategory",{key:t.id,attrs:{categories:t.categories,"current-category":t,"current-level":e.currentLevel+1,"max-level":e.maxLevel},on:{categoryClick:function(t){return e.$emit("categoryClick",t)},categoryView:function(t){return e.$emit("categoryView",t)}}})})),e._v(" "),e.visibleChildren.length!==e.categories.length?r("span",{class:[e.$style["category-cat-control"],e.$style["m-show"]],on:{click:function(t){return e.setShowAll(!0)}}},[e._v("\n      Показать все\n    ")]):e._e(),e._v(" "),e.visibleChildren.length>e.MAX_VISIBLE?r("span",{class:[e.$style["category-cat-control"],e.$style["m-hide"]],on:{click:function(t){return e.setShowAll(!1)}}},[e._v("\n      Скрыть все\n    ")]):e._e()]:e._e()],2)}),[],!1,(function(e){this.$style=d.default.locals||d.default}),null,null).exports;function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var y=o.a.extend({name:"CategorySubtreeWidget",components:{SubtreeCategory:v},props:{level:{type:Number,default:0}},computed:{categories:function(){var e=this,t=this.widgetState.categories||[];return((t[0]||{}).categories||[]).map((function t(r,o){var c=r.categories||[];return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(source,!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},r,{name:r.info.name,href:e.urlBase.replace("{value}",r.info.urlValue),categories:c.length?c.map(t):[],index:o})}))},urlBase:function(){return this.widgetState.urlBaseCategory||""}},methods:{sendCategoryClickEvent:function(e){this.$analytics.send("category/click",{trackerEvent:{widget:"catalog.searchResultsFilters.categories",categoryId:e.info.id}})},sendViewEvent:function(e){this.$analytics.send("search/filterView",{trackerEvent:{widget:"catalog.searchResultsFilters.categories",filterKey:e.info.id,context:e.index+1}})}}}),w=r("1c08a9");var _=Object(h.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("aside",{class:e.$style.aside},e._l(e.categories,(function(t){return r("SubtreeCategory",{key:t.id,attrs:{categories:t.categories,"current-category":t,"max-level":e.level+1},on:{categoryClick:e.sendCategoryClickEvent,categoryView:e.sendViewEvent}})})),1)}),[],!1,(function(e){this.$style=w.default.locals||w.default}),null,null);t.default=_.exports},aa843f:function(e,t,r){e.exports={cat:"d36e26","img-container":"cb73cc",img:"c41620","m-adult-logo":"_6734a7",title:"ef6c8e",blink:"_66499c"}},aa8f91:function(e,t,r){"use strict";var n=r("e1229c"),o=r.n(n);t.default=o.a},adeecf:function(e,t,r){"use strict";var n=r("8ec695"),o={name:"SearchBarMobile",components:{Cross:r.n(n).a},props:{value:{type:String,default:""},placeholder:{type:String,default:""},autofocus:{type:Boolean,default:!1}},data:function(){return{initialValue:this.value,searchText:this.value,focused:!1,wasFocused:!1}},watch:{value:function(e){this.searchText=e}},mounted:function(){this.$refs.searchInput===document.activeElement?this.onFocus():this.autofocus&&this.$refs.searchInput.focus()},methods:{onFocus:function(){this.focused=!0,this.wasFocused=!0,this.$emit("focus")},onBlur:function(){this.focused=!1,this.searchText||(this.searchText=this.initialValue),this.$emit("blur")},clear:function(){this.searchText="",this.$emit("input",this.searchText),this.$refs.searchInput.focus()},cancel:function(){this.searchText=this.initialValue,this.wasFocused=!1,this.$emit("input",this.initialValue),this.$emit("blur"),this.$refs.searchInput.blur(),this.$emit("cancel")},reemitKeyUp:function(e){this.$emit("keyup",e)}}},c=(r("71f427"),r("b429cb")),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"search"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],ref:"searchInput",staticClass:"search-input",attrs:{placeholder:e.placeholder,autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false",title:"search"},domProps:{value:e.searchText},on:{blur:e.onBlur,focus:e.onFocus,input:[function(t){t.target.composing||(e.searchText=t.target.value)},function(t){return e.$emit("input",e.searchText)}],keyup:e.reemitKeyUp}}),e._v(" "),r("transition",{attrs:{name:"clear"}},[e.focused&&e.value.length?r("span",{staticClass:"clear",on:{click:function(t){return t.preventDefault(),e.clear(t)}}},[r("Cross",{staticClass:"cross-img",attrs:{"view-box":"0 0 16 16"}})],1):e._e()]),e._v(" "),r("transition",{attrs:{name:"cancel"}},[e.wasFocused?r("span",{staticClass:"cancel",on:{click:e.cancel}},[e._v("\n      Отмена\n    ")]):e._e()])],1)}),[],!1,null,"522f7448",null);t.a=component.exports},c4c57c:function(e,t,r){},ca17d3:function(e,t,r){"use strict";var n=r("07fbaf");r.n(n).a},cbe9a2:function(e,t,r){"use strict";var n=r("34e489");r.n(n).a},cf100e:function(e,t,r){},d39dad:function(e,t,r){"use strict";var n=r("268a2e");r.n(n).a},d56c1f:function(e,t,r){"use strict";var n=r("2aff9f"),o=r.n(n);t.default=o.a},da5baa:function(e,t,r){},dad7dd:function(e,t,r){},e059ba:function(e,t,r){e.exports={category:"_7ca305","category-link":"_7eb738","m-current-level-1":"dcc319","m-max-level-1":"b0e483","m-max-level-2":"_8a6452","m-max-level-3":"b15eb4","m-current-level-2":"e473f5","m-current-level-3":"b270d3","category-cat-control":"_34807a",":hover":"bd3784","m-hide":"c6a9bc","m-show":"_5aee4a",blink:"_364389"}},e0c736:function(e,t,r){},e1229c:function(e,t,r){e.exports={"filters-button":"b3ae7d","filter-text":"_9b9109","filters-count":"f3042e","filters-icon":"_992c07",blink:"_46f3bd"}},e5d3b1:function(e,t,r){},e647ef:function(e,t,r){"use strict";r("3fc8b4");var n={name:"SearchSortings",widgetName:"catalog.searchResultsSort",components:{OzonSelect:r("279d73").a},props:{sortings:{type:Array,required:!0}},data:function(){return{selectSettings:{model:{name:"name",value:"id"}}}},computed:{tagView:function(){return Boolean(this.siteExperiments&&this.siteExperiments["cat.sortingTagView"])},activeItemIndex:function(){return this.sortings.findIndex((function(e){return e.isActive}))}},mounted:function(){var e=this;this.sortings.forEach((function(t,r){var n={sortId:t.id,index:r+1};e.$analytics.send("search/sortView",{trackerEvent:n})}))},methods:{onSelect:function(e,t){this.$emit("select",e.id);var r={sortId:e.id,index:t+1};this.$analytics.send("search/sortClick",{trackerEvent:r})}}},o=r("106ba3"),c=r("b429cb");var component=Object(c.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"search-sortings",expression:"'search-sortings'",arg:"id"}],class:e.$style.sortings},[e.tagView?[r("span",{class:e.$style.title},[e._v("Сортировка")]),e._v(" "),e._l(e.sortings,(function(t,n){var o;return r("button",{directives:[{name:"qa",rawName:"v-qa:id",value:t.id,expression:"item.id",arg:"id"}],key:t.name+"_"+n,class:[e.$style.tag,(o={},o[e.$style["m-active"]]=t.isActive,o)],on:{click:function(r){return e.onSelect(t,n)}}},[e._v("\n      "+e._s(t.name)+"\n    ")])}))]:[r("OzonSelect",{directives:[{name:"qa",rawName:"v-qa:id",value:"search-sortings",expression:"'search-sortings'",arg:"id"}],class:e.$style["sorting-select"],attrs:{"active-index":e.activeItemIndex,items:e.sortings,settings:e.selectSettings},on:{select:e.onSelect}})]],2)}),[],!1,(function(e){this.$style=o.default.locals||o.default}),null,null);t.a=component.exports},e8d8ec:function(e,t,r){},e90187:function(e,t,r){"use strict";var n=r("69f764");r.n(n).a},edc3fc:function(e,t,r){"use strict";var n=r("f0bc5c");r.n(n).a},ee3132:function(e,t,r){"use strict";var n=r("9b1b5d"),o=r.n(n);t.default=o.a},ef06a3:function(e,t,r){"use strict";var n=r("c4c57c");r.n(n).a},ef456f:function(e,t,r){"use strict";var n=r("da5baa");r.n(n).a},f0bc5c:function(e,t,r){},f262da:function(e,t,r){"use strict";var n=r("e0c736");r.n(n).a},f36ea0:function(e,t,r){"use strict";var n=r("9ca28f");r.n(n).a},f44fd5:function(e,t,r){"use strict";r("1c750e"),r("41d819"),r("c08bb9"),r("aae158"),r("12a106");var n=r("5eabea"),o=(r("393231"),r("feb3b9")),c=r.n(o),l=r("ff287e"),f=r.n(l),d=r("c7aace"),h={name:"CategoryV2",components:{ArrowIcon:c.a},inject:["emitSelectCategory"],props:{cat:{type:Object,required:!0},disableCrumbs:{type:Boolean,default:!1},categoriesToggleButton:{type:Boolean,default:!0},isRoot:{type:Boolean,default:!1}},data:function(){return{isMoreOpen:!1,detectViewportSettings:{setting:{offset:0,throttle:50,unbind:this.detectViewportOff},callback:this.onView}}},computed:{isActive:function(){return this.cat.isActive||f()(this.$store.state,"shared.catalog.category.id",0)===parseInt(this.cat.info.id)},isCrumb:function(){return!this.disableCrumbs&&0===this.cat.categories.length&&!this.isActive},showMoreButton:function(){return this.categoriesToggleButton&&this.cat.categories.length>10},showMoreText:function(){var e=this.cat.categories.length-10,t=Object(d.m)(e,["категория","категории","категорий"]);return this.isMoreOpen?"Скрыть":"Ещё ".concat(t)},shownCategories:function(){return this.showMoreButton?this.cat.categories.slice(0,this.isMoreOpen?this.cat.categories.length:10):this.cat.categories},testId:function(){return this.cat.info.urlValue?"category-filter-item":"category-filter-show-all"}},methods:{onCatClick:function(e){this.emitSelectCategory(e),this.sendClickEvent(e)},onView:function(e){e&&this.isRoot&&this.sendViewEvent()},toggleShowMore:function(){this.isMoreOpen=!this.isMoreOpen},sendClickEvent:function(e){this.$analytics.send("category/click",{GAEvent:{id:f()(e,"info.id",""),name:f()(e,"info.name",""),widgetPlacement:"left"},trackerEvent:{widget:"catalog.searchResultsFilters.categories",categoryId:e.info.id,context:e.index+1}})},sendViewEvent:function(){var e=this.cat.categories.find((function(e){return e.isActive}))||{};this.$analytics.send("search/filterView",{trackerEvent:{widget:"catalog.searchResultsFilters.categories",filterKey:this.cat.info.id,value:f()(e,"info.id"),context:this.cat.index+1}})}}},v=r("ee3132"),m=r("b429cb");function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var w={name:"CategoryFilterV2",components:{CategoryV2:Object(m.a)(h,(function(){var e,t,r=this,n=r.$createElement,o=r._self._c||n;return o("div",[o("div",{class:r.$style["category-container"]},[r.isCrumb?o("ArrowIcon",{class:r.$style.icon}):r._e(),r._v(" "),o("a",{directives:[{name:"detect-viewport",rawName:"v-detect-viewport.once",value:r.detectViewportSettings,expression:"detectViewportSettings",modifiers:{once:!0}}],class:[r.$style.category,(e={},e[r.$style.active]=r.isActive,e)],attrs:{"data-test-active":r.isActive,"data-test-category-id":r.cat.info.id,"data-test-id":r.testId,"data-test-is-crumb":r.isCrumb,href:r.cat.href},on:{mouseup:function(e){return"button"in e&&1!==e.button?null:r.sendClickEvent(r.cat)},click:function(e){return e.preventDefault(),r.onCatClick(r.cat)}}},[r._v("\n      "+r._s(r.cat.info.name)+"\n    ")])],1),r._v(" "),r.shownCategories.length?o("div",{class:r.$style.children},[r._l(r.shownCategories,(function(e){return o("CategoryV2",{key:e.info.id,attrs:{cat:e,"categories-toggle-button":!1,"disable-crumbs":!0}})})),r._v(" "),r.showMoreButton?o("div",{class:r.$style.more},[o("ArrowIcon",{class:[r.$style["icon-more"],(t={},t[r.$style["m-inverted"]]=r.isMoreOpen,t)]}),r._v(" "),o("span",{on:{click:r.toggleShowMore}},[r._v(r._s(r.showMoreText))])],1):r._e()],2):r._e()])}),[],!1,(function(e){this.$style=v.default.locals||v.default}),null,null).exports},provide:function(){return{emitSelectCategory:this.emitSelectCategory}},props:{categories:{type:Array,default:function(){return[]}},activeCategory:{type:Object,default:function(){return{}}},categoriesToggleButton:{type:Boolean,default:!0}},computed:{isOnlyTopLevel:function(){return!this.categories.filter((function(e){return e.categories.length})).length},mappedCategories:function(){return this.categories.map((function(e,t){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(source,!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},e,{index:t})}))}},methods:{emitSelectCategory:function(e){this.$emit("select",e)}}},_=(r("4cf8b2"),Object(m.a)(w,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"category-filter",attrs:{"data-test-id":"category-filter"}},[r("header",{staticClass:"title"},[e._v("\n    Категория\n  ")]),e._v(" "),r("main",{staticClass:"container"},e._l(e.mappedCategories,(function(t){return r("CategoryV2",{key:t.info.id,attrs:{cat:t,"categories-toggle-button":e.categoriesToggleButton,"disable-crumbs":e.isOnlyTopLevel&&!e.activeCategory.id,"is-root":!0}})})),1)])}),[],!1,null,"5f957808",null));t.a=_.exports},f58690:function(e,t,r){},f8bc7c:function(e,t,r){},fb81b8:function(e,t,r){"use strict";r("497371");var n={name:"Radio",model:{prop:"modelValue",event:"input"},props:{id:{type:String,default:function(){return"radio-id-"+this._uid}},active:{type:Boolean,default:!1},name:{type:String,default:null},disabled:{type:Boolean,default:!1},value:{type:[String,Number,Boolean],default:""},modelValue:{type:[String,Number,Boolean],default:void 0}},computed:{state:function(){return void 0===this.modelValue?this.active:this.modelValue===this.value}},watch:{checked:function(e){e!==this.state&&this.toggle()}},mounted:function(){this.active&&!this.state&&this.toggle()},methods:{onChange:function(){this.toggle()},toggle:function(){this.$emit("input",this.state?"":this.value),this.$emit("change")}}},o=(r("2ea633"),r("b429cb")),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{staticClass:"radio",class:{mActive:e.state,mDisabled:e.disabled},attrs:{for:e.id}},[r("input",{staticClass:"radio-input",attrs:{id:e.id,disabled:e.disabled,name:e.name,type:"radio"},domProps:{checked:e.state,value:e.value},on:{change:e.onChange}}),e._v(" "),e._t("default")],2)}),[],!1,null,"e7703e9e",null);t.a=component.exports},fe4fea:function(e,t,r){"use strict";var n=r("224698");r.n(n).a}}]);