(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{0:function(e,t,n){e.exports=n("ae72c9")},"011ab6":function(e,t,n){"use strict";n.r(t),n.d(t,"mutations",(function(){return d})),n.d(t,"getters",(function(){return f})),n.d(t,"actions",(function(){return h}));n("f8695b"),n("41d819"),n("aae158");var r=n("bbfe95"),o=n("ed745a"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},l=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},d={setTradeIn:function(e,t){var n=t.stateId,r=t.tradeIn;o.default.set(e,n,r)},updateFormFieldValue:function(e,t){var n=t.stateId,r=t.index,c=t.value;o.default.set(e[n].form.fields[r],"value",c)}},f={getParamsByStateId:function(e){return function(t){return e[t]}}},h={ACTION:function(e,t){var n=e.commit,o=t.stateId,d=t.params;return c(this,void 0,void 0,(function(){var e,t;return l(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.$api.action.tradeIn.post(d)];case 1:return e=c.sent(),n("setTradeIn",{stateId:o,tradeIn:e}),[3,3];case 2:return t=c.sent(),this.$logger.error({exception:t,message:r.j.ERROR_GETTING_TRADE_IN}),[3,3];case 3:return[2]}}))}))},UPDATE_FORM_FIELD_VALUE:function(e,t){var n=e.commit,o=t.stateId,d=t.index,f=t.value;return c(this,void 0,void 0,(function(){return l(this,(function(e){try{n("updateFormFieldValue",{stateId:o,index:d,value:f})}catch(e){this.$logger.error({exception:e,message:r.j.ERROR_UPDATING_TRADE_IN})}return[2]}))}))}}},"012164":function(e,t,n){"use strict";var r=n("47c523"),o=n.n(r);t.default=o.a},"01be4b":function(e,t,n){"use strict";var r,o;n.d(t,"a",(function(){return o})),function(e){e.IMAGE="IMAGE"}(r||(r={})),function(e){e.TEXT="TEXT",e.FILE="FILE",e.IMAGE="IMAGE",e.WIDGET="WIDGET"}(o||(o={}))},"01c783":function(e,t,n){"use strict";n.r(t);n("c08bb9"),n("aae158"),n("12a106"),n("1bc30e");t.default=function(e){e.store;var t=e.req||{},n=(t.isComposer,t.headers),r=void 0===n?{}:n;t.cookie,r["user-agent"]}},"01dcc3":function(e,t,n){"use strict";n("c08bb9"),n("340dbd"),n("413112"),n("aae158");var r=n("f05c35"),o=(n("c9390b"),0),c={},l=function(){function e(e){var t=this,n=(void 0===e?{}:e).offset,l=void 0===n?o:n;if(this.callbacks=new Map,c[l])return c[l];c[l]=this,this.observer=new IntersectionObserver((function(e){e.forEach((function(e){var n=e.isIntersecting,o=e.target,c=e.boundingClientRect,l=e.rootBounds,d=t.callbacks.get(o);n&&(n=Object(r.a)(l,c)),d(n,{element:o,elementRect:c,containerRect:l})}))}),{rootMargin:l+"px 0px"})}return e.prototype.observe=function(e,t){this.observer&&(this.callbacks.set(e,t),this.observer.observe(e))},e.prototype.unobserve=function(e){this.observer&&(this.callbacks.delete(e),this.observer.unobserve(e))},e}(),d=function(e){var t=document.documentElement,n=t.clientWidth,o=t.clientHeight,c={left:0,top:0,right:n,bottom:o,x:0,y:0,width:n,height:o};return Object(r.a)(c,e)},f=function(e){var t=(void 0===e?{}:e).offset,n=void 0===t?0:t;return{name:"InViewportContainerMixin",created:function(){var e=this;this.viewportObserver=new l({offset:n}),this.observerPromise=new Promise((function(t){e.resolveObserver=t})),this.callbacks=new Map},mounted:function(){this.resolveObserver(this.createObserver())},provide:function(){return{registerInViewport:this.registerInViewport,unregisterInViewport:this.unregisterInViewport}},methods:{registerInViewport:function(e,t){var o=this;this.getObserver().then((function(c){if(o.callbacks.has(e))throw new Error("callback for "+e+" already defined");var l=o.handleViewportIntersectionChange(t),f=Object(r.b)(e.getBoundingClientRect(),[n,0,n,0]);o.callbacks.set(e,t),c.observe(e),o.viewportObserver.observe(e,l),d(f)&&l(!0,{elementRect:f})}))},unregisterInViewport:function(e){var t=this;this.callbacks.has(e)&&this.getObserver().then((function(n){t.callbacks.delete(e),n.unobserve(e),t.viewportObserver.unobserve(e)}))},createObserver:function(){var e=this,t=function(t){var n=t.target,o=t.isIntersecting,c=t.boundingClientRect,l=t.rootBounds,f=e.callbacks.get(n);o&&(o=Object(r.a)(l,c)),o&&(o=d(c)),f(o,{element:n,elementRect:c,containerRect:l})};return new IntersectionObserver((function(e){return e.forEach(t)}),{root:this.$el,rootMargin:n+"px 0px"})},getObserver:function(){return this.observerPromise},handleViewportIntersectionChange:function(e){var t=this;return function(n,o){n&&(n=Object(r.a)(t.$el.getBoundingClientRect(),o.elementRect)),e(n,o)}}}}},h=function(e){var t=(void 0===e?{}:e).offset;return{name:"LazyContainerMixin",mixins:[f({offset:void 0===t?0:t})],provide:function(){return{registerLazyImage:this.registerInViewport,unregisterLazyImage:this.unregisterInViewport}}}},m=(n("1c750e"),n("41d819"),n("12a106"),n("cb1771"),n("5eabea")),v=n("2c5f00"),y=n.n(v),E=n("6876d5"),_=n("e2e38d"),S=(n("497371"),n("4633b5")),O=n.n(S),T={name:"Img",props:{src:{type:String,default:null},srcset:{type:String,default:null},maxWidth:{type:Number,default:null},maxHeight:{type:Number,default:null},alt:{type:String,default:null},disableLoadEmit:{type:Boolean,default:!1}},data:function(){return{loaded:!1}},computed:{props:function(){return O()(this.$props,["maxWidth","maxHeight"])},style:function(){var style={};return this.maxWidth&&(style["max-width"]="".concat(this.maxWidth,"px")),this.maxHeight&&(style["max-height"]="".concat(this.maxHeight,"px")),style}},watch:{src:function(){this.loaded=!1}},mounted:function(){if(this.$el.complete){var e=document.createEvent("Event");e.initEvent("load",!1,!1),this.$el.dispatchEvent(e)}},methods:{handleLoad:function(e){this.loaded||(this.loaded=!0,!this.disableLoadEmit&&this.$emit("load",e))}}},I=n("77a5d0"),w=n("b429cb");var C=Object(w.a)(T,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("img",e._b({class:e.$style.image,style:e.style,on:{click:function(t){return e.$emit("click",t)},error:function(t){return e.$emit("error",t)},load:e.handleLoad}},"img",e.props,!1))}),[],!1,(function(e){this.$style=I.default.locals||I.default}),null,null).exports;function k(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var P={name:"LazyImage",inject:["registerLazyImage","unregisterLazyImage"],components:{Img:C},props:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(source,!0).forEach((function(t){Object(m.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):k(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},C.props),data:function(){return{error:!1,loaded:!1,inViewport:!1}},computed:{imageProps:function(){return y()(this.$props,Object.keys(C.props))}},watch:{src:function(){this.loaded=!1,this.error=!1,this.checkLoaded()},inViewport:function(){this.loaded||this.checkLoaded()},loaded:function(){this.loaded&&this.unregisterLazyImage(this.$el)},error:function(){this.error&&this.unregisterLazyImage(this.$el)}},created:function(){this.handleVisibilityChange=this.handleVisibilityChange.bind(this)},mounted:function(){var e=this;this._mounted=!0,this.loaded||this.$nextTick((function(){e.registerLazyImage(e.$el,e.handleVisibilityChange)}))},beforeDestroy:function(){this.unregisterLazyImage(this.$el)},methods:{handleVisibilityChange:function(e){this.inViewport=e},handleLoad:function(e){this.loaded=!0,this.$emit("load",e)},handleError:function(e){this.error=!0,this.$emit("error",e)},checkLoaded:function(){var e=this;if(this.inViewport){var image=new Image;this.srcset&&(image.srcset=this.srcset),image.src=this.src,image.complete?this.handleLoad({target:image}):(image.onload=function(t){e._mounted&&e.handleLoad(t)},image.onerror=function(t){e._mounted&&e.handleError(t)})}}}},R=n("64f6ea");var x=Object(w.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.error?n("div",{class:e.$style.error}):e.loaded?n("Img",e._b({on:{click:function(t){return e.$emit("click",t)},error:e.handleError}},"Img",e.imageProps,!1)):n("div",{class:e.$style.preloader})}),[],!1,(function(e){this.$style=R.default.locals||R.default}),null,null).exports;function A(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function L(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?A(source,!0).forEach((function(t){Object(m.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):A(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var D=[2],$={name:"BaseImageWrapper",inject:{registerLazyImage:{default:!1},forceLazyImage:{default:!1},useImageWebP:{default:!1}},components:{LazyImage:x,Img:C},props:L({},x.props,{lazy:{type:Boolean,default:!1},disableSrcSet:{type:Boolean,default:!1},imageGrey:{type:Boolean,default:!1}}),data:function(){return{error:!this.src}},computed:L({},Object(E.e)({resultSrc:function(e){var t=e.browser;return t&&t.hasWebP&&this.useImageWebP?this.src.replace(/\.[^.]+$/i,".webp"):this.src},resultSrcset:function(e){var t=this,n=e.browser;if(this.disableSrcSet||n&&n.isMobile)return null;if(this.srcset)return this.srcset;var r=Object(_.b)(this.resultSrc),o=r.url,c=r.size;return c?D.map((function(e){return"".concat(Object(_.a)(o,c*e,t.imageGrey)," ").concat(e,"x")})).join(","):null}}),{isLazy:function(){return!!this.src&&(!(!this.forceLazyImage&&!this.lazy)&&(!!this.registerLazyImage||(console.warn("Image forced to be NO lazy because LazyContainer isn't defined up the tree"),!1)))},imageProps:function(){return y()(this.$props,Object.keys(C.props))},lazyImageProps:function(){return y()(this.$props,Object.keys(x.props))}}),watch:{src:function(){this.error=!1}},methods:{handleError:function(e){this.error=!0,this.$emit("error",e)}}},M=n("c1554f");var N=Object(w.a)($,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.root},[e.error?[e.$scopedSlots.error||e.$slots.error?e._t("error",null,{errorClass:e.$style.error}):n("div",{class:e.$style.error},[e._v("\n      Изображение не загружено\n    ")])]:e.isLazy?n("LazyImage",e._g(e._b({attrs:{src:e.resultSrc,srcset:e.resultSrcset},on:{error:e.handleError}},"LazyImage",e.lazyImageProps,!1),e.$listeners)):n("Img",e._g(e._b({attrs:{src:e.resultSrc,srcset:e.resultSrcset},on:{error:e.handleError}},"Img",e.imageProps,!1),e.$listeners))],2)}),[],!1,(function(e){this.$style=M.default.locals||M.default}),null,null).exports;n.d(t,"b",(function(){return F})),n.d(t,"a",(function(){return B})),n.d(t,"c",(function(){return N}));var j,F=h(),B=(void 0===j&&(j={}),{name:"LazyContainer",mixins:[h(j)],render:function(e){return e("div",this.$slots.default)}})},"0249eb":function(e,t,n){"use strict";n.r(t);n("393231"),n("f8695b"),n("41d819"),n("aae158"),n("c08bb9"),n("340dbd"),n("413112");var r=n("9471e7"),o=new Map([[r.a.BankCard,{type:r.b.Online,usePaymentForm:!0}],[r.a.Cash,{type:r.b.Offline,usePaymentForm:!1}],[r.a.MoneyTransfer,{type:r.b.Offline,usePaymentForm:!1}],[r.a.OzonAccount,{type:r.b.Online,usePaymentForm:!1}],[r.a.Account,{type:r.b.Offline,usePaymentForm:!1}],[r.a.YandexMoney,{type:r.b.Online,usePaymentForm:!0}],[r.a.QiwiWallet,{type:r.b.Offline,usePaymentForm:!1}],[r.a.WebMoney,{type:r.b.Online,usePaymentForm:!0}],[r.a.SberbankOnline,{type:r.b.Online,usePaymentForm:!0}],[r.a.Spasibo,{type:r.b.Online,usePaymentForm:!0}],[r.a.PayPal,{type:r.b.Online,usePaymentForm:!0}],[r.a.CashOrBankCard,{type:r.b.Offline,usePaymentForm:!1}],[r.a.ApplePay,{type:r.b.Offline,usePaymentForm:!1}],[r.a.GooglePay,{type:r.b.Offline,usePaymentForm:!1}]]),c=n("ff287e"),l=n.n(c),d=n("ed745a");n.d(t,"state",(function(){return m})),n.d(t,"getters",(function(){return v})),n.d(t,"mutations",(function(){return y})),n.d(t,"actions",(function(){return E}));var f=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},h=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},m=function(){return{paymentMethods:[],restrictions:[],paymentMethodId:void 0,userSavedCardToken:void 0,points:null,usePoints:!1,balance:null,useBalance:!1,errors:[],discountCodeAvailable:!1}},v={activePaymentMethod:function(e){var t=e.paymentMethods,n=e.paymentMethodId,r=e.userSavedCardToken;if(n&&t&&t.length)return t.find((function(e){var t=l()(e,"savedCardInfo.cardToken");return e.id===n&&t===r}))},pointsAmount:function(e){var t=e.usePoints,n=e.paymentMethodId,r=e.points;return t&&n&&r&&r.available?r.available:0},balanceAmount:function(e){var t=e.useBalance,n=e.paymentMethodId,r=e.balance;return t&&n&&r&&r.available?r.available:0},isPaymentCoveredByBalanceOrPoints:function(e,t,n){var r=n.checkout.total.discountedPrice;return e.useBalance&&0===r},isPaymentUsingForm:function(e,t){if(t.isPaymentCoveredByBalanceOrPoints)return!1;var n=e.paymentMethodId&&o.get(e.paymentMethodId);return n&&n.usePaymentForm}},y={setPaymentMethods:function(e,t){e.paymentMethods=t},setPaymentRestrictions:function(e,t){e.restrictions=t},setPaymentMethodId:function(e,t){d.default.set(e,"paymentMethodId",t)},setUserSavedCardToken:function(e,t){d.default.set(e,"userSavedCardToken",t)},setPoints:function(e,t){e.points=t},setUsePoints:function(e,t){e.usePoints=t},setBalance:function(e,t){e.balance=t},setUseBalance:function(e,t){e.useBalance=t},setErrors:function(e,t){e.errors=t},setDiscountCodeAvailable:function(e,t){e.discountCodeAvailable=t}},E={SET_PAYMENT_METHODS:function(e,t){var n=e.commit,r=void 0===t?{}:t,o=r.paymentMethods,c=void 0===o?[]:o,l=r.restrictions,d=void 0===l?[]:l;return f(this,void 0,void 0,(function(){return h(this,(function(e){return n("setPaymentMethods",c),n("setPaymentRestrictions",d),[2]}))}))},RESET_PAYMENT:function(e){var t=e.commit,n=e.dispatch;t("setPaymentMethods",null),t("setPaymentRestrictions",null),t("setPaymentMethodId",void 0),t("setUserSavedCardToken",void 0),n("SET_POINTS",null),n("SET_USE_POINTS",!1),n("SET_BALANCE",null),n("SET_USE_BALANCE",!1)},SET_PAYMENT_METHOD_ID:function(e,t){(0,e.commit)("setPaymentMethodId",t)},SET_USER_SAVED_CARD_TOKEN:function(e,t){(0,e.commit)("setUserSavedCardToken",t)},SET_POINTS:function(e,t){(0,e.commit)("setPoints",t)},SET_USE_POINTS:function(e,t){(0,e.commit)("setUsePoints",t)},SET_BALANCE:function(e,t){(0,e.commit)("setBalance",t)},SET_USE_BALANCE:function(e,t){(0,e.commit)("setUseBalance",t)},SET_ERRORS:function(e,t){var n=e.commit;t&&t.length?n("setErrors",t):n("setErrors",[])},SET_DISCOUNT_CODE_AVAILABLE:function(e,t){void 0===t&&(t=!1),(0,e.commit)("setDiscountCodeAvailable",t)}}},"027383":function(e,t,n){"use strict";n.r(t),n.d(t,"CREATE_NEW_NOTIFICATION",(function(){return l})),n.d(t,"state",(function(){return d})),n.d(t,"mutations",(function(){return f})),n.d(t,"getters",(function(){return h})),n.d(t,"actions",(function(){return m}));n("f8695b"),n("41d819"),n("aae158");var r,o=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},c=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},l="CREATE_NEW_NOTIFICATION",d=function(){return{}},f={},h={},m=((r={})[l]=function(e,t){return o(this,void 0,void 0,(function(){return c(this,(function(e){return[2,Promise.resolve(t)]}))}))},r)},"032c49":function(e,t,n){e.exports={progress:"_2f4ca8",mainBar:"_8fd0d4",innerBar:"b22f09",progressInner:"a8e3d4",blink:"_209533"}},"039d9b":function(e,t,n){"use strict";n("c08bb9"),n("aae158"),n("12a106");var r=n("af73d5"),o=function(){return function(e){var t=e.checkRules;return Object.keys(t).every((function(n){return Object.keys(t[n]).every((function(r){return!t[n][r](e)}))}))}},c=function(){return function(e){var t=e.checkRules,n=e.id;Object.keys(t).forEach((function(o){var c=Object.keys(t[o]),l=!1;c.forEach((function(c){t[o][c](e)&&!l&&(e.errorText=r.a[c][n],l=!0)}))}))}};n.d(t,"a",(function(){return l}));var l={errorText:"",isValid:o(),validate:c()}},"047512":function(e,t,n){"use strict";var r=n("66e6a0"),o=n.n(r);t.default=o.a},"05b994":function(e,t,n){e.exports={formWrapper:"_397df1",blink:"_48721c"}},"05da3f":function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106"),n("497371");var r=n("5eabea"),o=n("2c5f00"),c=n.n(o),l=n("c7aace"),d=n("e2e38d"),f=n("01dcc3");function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var m="https://cdn1.ozone.ru/graphics/new_no_photo.png",v={name:"CDNImage",components:{BaseImage:f.c},props:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},f.c.props,{src:{type:String,default:m},size:{type:Number,default:1200,required:!1},hasDefaultImage:{type:Boolean,default:!0},disableSrcSet:{type:Boolean,default:!1}}),computed:{lazyImageProps:function(){return c()(this.$props,Object.keys(f.c.props))},resultSrc:function(){if(this.hasDefaultImage&&!this.src)return m;var e=Object(l.a)(this.src);return this.hasDefaultImage&&e===m||"string"!=typeof e||this.size>4e3?m:Object(d.a)(e,this.size,this.imageGrey)}},methods:{onError:function(e){this.$el.src!==m&&(this.$emit("error",e),this.$el.src=m)}}},y=(n("d33449"),n("b429cb")),component=Object(y.a)(v,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("BaseImage",e._b({staticClass:"img",attrs:{"disable-src-set":e.disableSrcSet,src:e.resultSrc},on:{click:function(t){return e.$emit("click",t)},error:e.onError,load:function(t){return e.$emit("load",t)}}},"BaseImage",e.lazyImageProps,!1))}),[],!1,null,"01c12fae",null);t.a=component.exports},"06d57d":function(e,t,n){"use strict";var r=n("dbe526");n.n(r).a},"06da66":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return d})),n.d(t,"mutations",(function(){return f})),n.d(t,"actions",(function(){return h}));n("f8695b"),n("41d819"),n("aae158");var r=n("ff287e"),o=n.n(r),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},l=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},d=function(){return{visibility:!1,redirectLink:""}},f={setVisibility:function(e,t){e.visibility=t},setRedirectLink:function(e,link){e.redirectLink=link}},h={TOGGLE_MODAL_LOGIN:function(e,t){var n=e.commit;return c(this,void 0,void 0,(function(){return l(this,(function(e){return n("setVisibility",t),t||n("setRedirectLink",""),[2]}))}))},SHOW_MODAL_LOGIN:function(e,data){var t=e.commit;return c(this,void 0,void 0,(function(){var e;return l(this,(function(n){return t("setVisibility",!0),(e=o()(data,"redirectLink",""))&&t("setRedirectLink",e),[2]}))}))},HIDE_MODAL_LOGIN:function(e){var t=e.commit;return c(this,void 0,void 0,(function(){return l(this,(function(e){return t("setVisibility",!1),t("setRedirectLink",""),[2]}))}))}}},"0774ea":function(e,t,n){e.exports={authorizationService:"_406e34",title:"_786148",titleSetPassword:"_3c49fa",note:"d78168",enterOtp:"d42d82",blockWithLinks:"edc3c8",linkBase:"_9710b8",forgotPassword:"_6197c4",message:"_0cf47d",resendAfter:"_23d18a",phoneSpan:"_3899a9",setPassword:"_8262b2",mobile:"b88dd1",setPasswordWrapper:"_1eb203",additionalInfo:"_19b4e8",buttonOk:"f95005",errorBlock:"_5316c6",successIcon:"_34c4b0",errorMessage:"da96d7",blink:"cc0349"}},"083898":function(e,t,n){"use strict";var r=n("43bd26");n.n(r).a},"08bd83":function(e,t,n){"use strict";var r=n("1f7fdc"),o=n.n(r);t.default=o.a},"092724":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return l})),n.d(t,"mutations",(function(){return d})),n.d(t,"actions",(function(){return f}));n("f8695b"),n("41d819"),n("aae158");var r=n("bbfe95"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},c=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},l=function(){return{token:""}},d={setToken:function(e,t){e.token=t}},f={GET_TOKEN:function(e,t){var n=e.commit;return o(this,void 0,void 0,(function(){var e,o;return c(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.$api.orderDone.creditToken.get(t)];case 1:return e=c.sent(),n("setToken",e),[2,!0];case 2:return o=c.sent(),this.$logger.error({exception:o,message:r.t.ERROR_TOKEN_FETCH}),[3,3];case 3:return[2]}}))}))}}},"0933aa":function(e,t,n){"use strict";var r=n("934171"),o=n.n(r);t.default=o.a},"093f6c":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=1},"0a5f77":function(e,t,n){"use strict";var r=n("2812ad");n.n(r).a},"0b5e40":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o})),n.d(t,"getters",(function(){return c})),n.d(t,"actions",(function(){return l}));var r=function(){return{}},o={},c={},l={}},"0d49ab":function(e,t,n){},"10cdcc":function(e,t,n){"use strict";n.r(t);var r={CommonEmptyState:{content:function(){return n.e(135).then(n.bind(null,"903bbe"))},places:["container.content"],extendPlaces:!0},CsmaContainer:{content:function(){return Promise.all([n.e(1),n.e(136)]).then(n.bind(null,"165bb2"))}},CsmaTitle:{content:function(){return n.e(169).then(n.bind(null,"dd8aef"))},places:["orderListContainer.preview","container.title"],extendPlaces:!0},CsmaTabsContainer:{content:function(){return n.e(168).then(n.bind(null,"764a35"))},places:["orderListContainer.preview","container.title"],extendPlaces:!0},CsmaOrderListContainer:{content:function(){return Promise.all([n.e(1),n.e(148)]).then(n.bind(null,"4f7da4"))}},CsmaOrderList:{content:function(){return Promise.all([n.e(1),n.e(147)]).then(n.bind(null,"1a3e25"))}},CsmaOrderDetails:{content:function(){return Promise.all([n.e(1),n.e(4),n.e(145)]).then(n.bind(null,"e8689d"))},places:["orderListContainer.details","orderTrackingPopup.details"]},CsmaOrderFilters:{content:function(){return n.e(149).then(n.bind(null,"dd2922"))},places:["orderListContainer.preview"]},CsmaOrderAtTheDoor:{content:function(){return n.e(8).then(n.bind(null,"82685c"))},extendPlaces:!0},CsmaOrderCancelModal:{content:function(){return Promise.all([n.e(1),n.e(4),n.e(143)]).then(n.bind(null,"78102a"))},extendPlaces:!0},CsmaWebCancelPostings:{content:function(){return n.e(144).then(n.bind(null,"5e488a"))},extendPlaces:!0},CsmaBarcode:{content:function(){return n.e(8).then(n.bind(null,"82685c"))},extendPlaces:!0},CsmaOrderInfo:{content:function(){return n.e(146).then(n.bind(null,"59fa7c"))},places:["header.orderInfo","header.userMenu"]},CsmaOrderTracking:{content:function(){return n.e(150).then(n.bind(null,"b1cacd"))},places:["orderInfo.tracking"],extendPlaces:!0},CsmaOrderTrackingPopup:{content:function(){return Promise.all([n.e(1),n.e(151)]).then(n.bind(null,"005964"))},extendPlaces:!0},CsmaOrdersCount:{content:function(){return n.e(152).then(n.bind(null,"8c1255"))},places:["title.content"]},CsmaPurchasesTiles:{content:function(){return Promise.all([n.e(1),n.e(4),n.e(0),n.e(165)]).then(n.bind(null,"30cbdc"))}},CsmaPurchasesFilters:{content:function(){return n.e(164).then(n.bind(null,"21b4f8"))},places:["container.filters"]},CsmaPurchasesCount:{content:function(){return n.e(152).then(n.bind(null,"8c1255"))},places:["title.content"]},CsmaDigitalLibrary:{content:function(){return Promise.all([n.e(1),n.e(139)]).then(n.bind(null,"3e9f53"))},places:["container.content"]},CsmaCodes:{content:function(){return n.e(134).then(n.bind(null,"50466f"))}},CsmaAccount:{content:function(){return n.e(131).then(n.bind(null,"6496c8"))}},CsmaPoints:{content:function(){return n.e(155).then(n.bind(null,"e369c9"))}},CsmaCheque:{content:function(){return Promise.all([n.e(1),n.e(133)]).then(n.bind(null,"e26b17"))}},CsmaSubscription:{content:function(){return n.e(167).then(n.bind(null,"12c879"))}},CsmaMenu:{content:{default:function(){return Promise.all([n.e(1),n.e(140)]).then(n.bind(null,"a1f12a"))},versions:{2:function(){return Promise.all([n.e(1),n.e(140)]).then(n.bind(null,"28d1e6"))}}},places:["my-menu.content"],extendPlaces:!0},CsmaMyPremium:{content:function(){return Promise.all([n.e(1),n.e(142)]).then(n.bind(null,"722360"))}},CsmaMyGuest:{content:function(){return n.e(141).then(n.bind(null,"3479ab"))}},CsmaAuthorizationForms:{content:function(){return n.e(132).then(n.bind(null,"c8b939"))}},CsmaOzonIdWrapper:{content:function(){return n.e(153).then(n.bind(null,"d405c4"))}},CsmaPatchUserAccount:{content:function(){return n.e(154).then(n.bind(null,"a7cb8a"))}},CsmaSetPasswordForm:{content:function(){return n.e(166).then(n.bind(null,"31516c"))}},CsmaUserPublicSettings:{content:function(){return n.e(174).then(n.bind(null,"8aa3bc"))}},CsmaUserPersonalSettings:{content:function(){return n.e(173).then(n.bind(null,"f90c9b"))}},CsmaUserCredentialSettings:{content:function(){return n.e(171).then(n.bind(null,"238e66"))}},CsmaUserLegalDetails:{content:function(){return n.e(172).then(n.bind(null,"cf0b0e"))}},CsmaUserCards:{content:function(){return n.e(170).then(n.bind(null,"a56351"))},places:["container.content"]},CsmaPremiumTitle:{content:function(){return n.e(163).then(n.bind(null,"e6bf87"))}},CsmaPremiumControls:{content:function(){return n.e(157).then(n.bind(null,"e326b6"))}},CsmaPremiumEcoNews:{content:{desktop:function(){return n.e(178).then(n.bind(null,"456ca2"))},mobile:function(){return n.e(181).then(n.bind(null,"c0a7b4"))}}},CsmaPremiumPrivilege:{content:function(){return n.e(161).then(n.bind(null,"2311e1"))}},CsmaPremiumChangeTariff:{content:{desktop:function(){return n.e(177).then(n.bind(null,"6241b1"))},mobile:function(){return n.e(180).then(n.bind(null,"8227bb"))}}},CsmaPremiumChangePopup:{content:function(){return Promise.all([n.e(1),n.e(156)]).then(n.bind(null,"91d111"))}},CsmaPremiumGive:{content:{desktop:function(){return n.e(179).then(n.bind(null,"8064c8"))},mobile:function(){return n.e(182).then(n.bind(null,"e8466d"))}}},CsmaPremiumPaymentsHistory:{content:function(){return n.e(160).then(n.bind(null,"ea12ed"))}},CsmaPremiumSellOut:{content:function(){return n.e(162).then(n.bind(null,"da8566"))}},CsmaPremiumFAQ:{content:function(){return n.e(158).then(n.bind(null,"620018"))}},CsmaPremiumGoodNews:{content:function(){return n.e(159).then(n.bind(null,"e46cf1"))}},CsmaDeleteAccount:{content:function(){return Promise.all([n.e(0),n.e(137)]).then(n.bind(null,"9be8e3"))}},CsmaDeleteAccountStatus:{content:function(){return n.e(138).then(n.bind(null,"0732d9"))}},CsmaWebbalance:{content:function(){return n.e(175).then(n.bind(null,"b7932f"))}},CsmaWeboperations:{content:function(){return n.e(176).then(n.bind(null,"000172"))}}};t.default=r},"11e180":function(e,t,n){"use strict";var r=n("e10f53");n.n(r).a},122762:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return c})),n.d(t,"actions",(function(){return l}));n("f8695b"),n("41d819"),n("aae158");var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},o=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},c=function(){return{}},l={ADD:function(e,t){var n=e.dispatch;return r(this,void 0,void 0,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.$api.sisFavorite.favorite.post(t)];case 1:return r.sent(),n("SELLER_HAS_SUBSCRIBED"),[2,!0];case 2:return e=r.sent(),this.$logger.error(e),[2,!1];case 3:return[2]}}))}))},REMOVE:function(e,t){var n=e.dispatch;return r(this,void 0,void 0,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.$api.sisFavorite.favorite.delete(t)];case 1:return r.sent(),n("SELLER_HAS_UNSUBSCRIBED"),[2,!0];case 2:return e=r.sent(),this.$logger.error(e),[2,!1];case 3:return[2]}}))}))},SELLER_HAS_SUBSCRIBED:function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){return[2]}))}))},SELLER_HAS_UNSUBSCRIBED:function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){return[2]}))}))}}},"12a694":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return y})),n.d(t,"mutations",(function(){return E})),n.d(t,"getters",(function(){return _})),n.d(t,"actions",(function(){return S}));n("afced8"),n("f8695b"),n("41d819"),n("aae158");var r=n("bbfe95"),o=n("9471e7"),c=n("ff287e"),l=n.n(c),d=function(){return(d=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},f=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},h=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},m=Object.freeze(r.q),v={FIRST:1e4,NEXT:5e3,get MAX(){return 3e4-this.NEXT},INFINITY:3e4},y=function(){return{isLoading:!0,number:"",order:{orderNumber:"",userIsLegal:!1,cartType:"",addressee:null,postings:[],isPaid:!1,totalCost:0,deliveryCost:0,paymentType:null,isCredit:!1},paymentGroup:"",paymentStatus:r.q.PAYMENT_STATUS.INIT,paymentStatusExtended:"",creditStatus:r.q.CREDIT_STATUS.INIT,isCheckStatusError:!1,startTime:0,error:null}},E={setOrder:function(e,t){e.order=d({},e.order,t)},setIsLoading:function(e,t){e.isLoading=t},setNumber:function(e,t){e.number=t},setPaymentStatus:function(e,t){var n=t.status,r=t.statusExtended,o=t.needUpdate;n||(n=void 0!==o&&o?m.PAYMENT_STATUS.LOADING:m.PAYMENT_STATUS.UNKNOWN),e.paymentStatusExtended=r,e.paymentStatus=n},setCreditStatus:function(e,t){e.creditStatus=t},setPaymentGroup:function(e,t){e.paymentGroup=t},setIsCheckStatusError:function(e,t){e.isCheckStatusError=t},setStartTime:function(e,t){e.startTime=t},setError:function(e,t){e.error=t}},_={isCartMain:function(e){return e.order&&e.order.cartType===m.CART_TYPES.MAIN},isCartDigital:function(e){return e.order&&e.order.cartType===m.CART_TYPES.DIGITAL},isCartDigitalCertificate:function(e){return e.order&&e.order.cartType===m.CART_TYPES.DIGITAL_CERTIFICATE},isOrderPaid:function(e){return e.order&&e.order.isPaid||e.paymentStatus===m.PAYMENT_STATUS.SUCCESS||e.creditStatus===m.CREDIT_STATUS.APPROVED},isOnlinePayment:function(e){return l()(e,"order.paymentType.isPrepay")},isBankPayment:function(e){var t=l()(e,"order.paymentType.id");return t===o.a.MoneyTransfer||t===o.a.Account}},S={INIT:function(e){var t=e.state,n=e.commit,o=e.dispatch,c=e.getters;return f(this,void 0,void 0,(function(){var data,e;return h(this,(function(l){switch(l.label){case 0:return l.trys.push([0,5,6,7]),[4,this.$api.orderDone.orderdone.get(t.number)];case 1:return data=l.sent(),n("setOrder",data),t.order&&t.order.isCredit?(o("CHECK_STATUS_DELAYED",v.FIRST),[3,4]):[3,2];case 2:return c.isOnlinePayment?(n("setStartTime",O()),[4,o("CHECK_STATUS")]):[3,4];case 3:l.sent(),l.label=4;case 4:return[3,7];case 5:return e=l.sent(),this.$logger.error({exception:e,message:r.r.ERROR_INIT}),[2,e];case 6:return n("setIsLoading",!1),[7];case 7:return[2]}}))}))},CHECK_STATUS:function(e){var t=e.state,n=e.commit,o=e.dispatch;return f(this,void 0,void 0,(function(){var e,c,data,l,d;return h(this,(function(f){switch(f.label){case 0:n("setIsCheckStatusError",!1),n("setError",null),f.label=1;case 1:return f.trys.push([1,3,,4]),e=void 0,c=void 0,[4,this.$api.orderDone.checkpaymentstatus.get(t.number)];case 2:switch(data=f.sent(),l=m.PAYMENT_GROUP,n("setPaymentGroup",data.paymentTypeGroupName||""),t.paymentGroup){case l.CREDIT:n("setCreditStatus",data.status),data.needUpdate&&o("CHECK_STATUS_DELAYED",v.NEXT);break;case l.PREPAY:e=!data.status,c=O()-t.startTime<v.MAX?v.NEXT:v.INFINITY,data.status===m.PAYMENT_STATUS.FAIL&&n("setError",data.error),n("setPaymentStatus",{status:data.status,statusExtended:data.statusExtended,needUpdate:e}),e&&o("CHECK_STATUS_DELAYED",c);break;default:n("setIsCheckStatusError",!0)}return[3,4];case 3:return d=f.sent(),this.$logger.error({exception:d,message:r.r.ERROR_CHECK_PAYMENT_STATUS}),n("setIsCheckStatusError",!0),[3,4];case 4:return[2]}}))}))},CHECK_STATUS_DELAYED:function(e,t){var n=e.dispatch;setTimeout((function(){return n("CHECK_STATUS")}),t)},SET_NUMBER:function(e,t){(0,e.commit)("setNumber",t)}};function O(){return+new Date}},"1396c2":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o})),n.d(t,"getters",(function(){return c})),n.d(t,"actions",(function(){return l}));var r=function(){return{}},o={},c={},l={}},"13ac93":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return d})),n.d(t,"getters",(function(){return f})),n.d(t,"actions",(function(){return h}));n("f8695b"),n("41d819"),n("aae158");var r=n("bbfe95"),o=n("8848ed"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},l=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},d=function(){return{data:{inn:"",_inn:"",name:"",kpp:"",address:"",factAddress:"",accountNumber:"",bankName:"",correspNumber:"",bic:"",okpo:"",city:""}}},f={mappings:function(e){return Object(o.mergeStateWithMappings)(e.data,{})}},h={REQUEST_LEGAL_INFO:function(e,t){var n=e.dispatch;return c(this,void 0,void 0,(function(){var e,o,c;return l(this,(function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),10!==t.length&&12!==t.length?[3,2]:[4,this.$api.checkout.party.post({query:t})];case 1:(e=l.sent())&&e.length&&(o=e[0],["name","kpp","address","okpo"].forEach((function(e){n("checkout/form/UPDATE_FIELD",{name:e,formType:"legal",value:o[e]||""},{root:!0})}))),l.label=2;case 2:return[3,4];case 3:return c=l.sent(),this.$logger.error({exception:c,message:r.l.ERROR_FETCH_PARTY}),[3,4];case 4:return[2]}}))}))}}},"13d0b4":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106");var r=n("5eabea"),o=(n("393231"),n("cb1771"),n("164449")),c=n("8f7bb4"),l=(n("578d8d"),n("878394"));function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var f="suggestionsHistory",h=function(e){return e.title+e.link},m=function(){function e(t){var n=t.key,r=void 0===n?f:n,c=t.max,l=void 0===c?4:c;Object(o.a)(this,e),this.key=r;var data=this.restoreData();data||(data={items:[]}),this.data=data,this.max=l,this._removeDuplicate(),this.listeners=[]}return Object(c.a)(e,[{key:"restoreData",value:function(){return Object(l.b)(this.key)}},{key:"add",value:function(e){if(this.isDuplicate(e))this.replace((function(t){return t.title.toLowerCase()===e.title.toLowerCase()}),(function(){return e}));else{var t=this.data.items;t.unshift(e),t.length>this.max&&(t=t.slice(0,this.max),this.data.items=t),this.save(),this.fire("add")}}},{key:"isDuplicate",value:function(e){var t=e.title.toLowerCase(),n=this.data.items.find((function(e){return e.title.toLowerCase()===t}));return Boolean(n)}},{key:"_removeDuplicate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t={};this.data.items=this.data.items.filter((function(n){var r=e(n);if(void 0===t[r])return t[r]=!0,!0})),this.save()}},{key:"remove",value:function(e){this.data.items=this.data.items.filter((function(t){var title=t.title,link=t.link;return title!==e.title&&link!==e.link})),this.save(),this.fire("remove")}},{key:"replace",value:function(e,t){this.data.items=this.data.items.map((function(n){return e(n)?t(n):n})),this._removeDuplicate(),this.save()}},{key:"clear",value:function(){this.data.items=[],this.save(),this.fire("clear")}},{key:"subscribe",value:function(e){var t=this;return this.listeners.push(e),function(){t.listeners=t.listeners.filter((function(t){return t!==e}))}}},{key:"fire",value:function(e){this.listeners.forEach((function(t){return t(e)}))}},{key:"save",value:function(){Object(l.c)(this.key,this.data)}}]),e}(),v={};function y(e,t){return v[e]?v[e]:(v[e]=new m(function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},t,{key:e})),v[e])}},"143b02":function(e,t,n){e.exports={textSmall:"e60b5a",modClickable:"ff4d21",modAddressEdit:"a535f3",modAddressEditDetailMetro:"aee3cc",modCartSplitTitle:"d2f538",modPremiumBannerDetails:"e66230",description:"_9cfea8",text:"_137e62",icon:"_7880a5",blink:"b99c31"}},"14cf42":function(e,t,n){"use strict";n("497371");var r={name:"DropdownItem",components:{LinksStub:n("17e9e6").a},props:{link:{type:String,default:""},title:{type:String,default:""},subtitle:{type:[String,Number],default:null},subtitleTwo:{type:[String,Number],default:null},counter:{type:Number,default:null},type:{type:String,default:""}}},o=n("4a562f"),c=n("b429cb");var component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[n("LinksStub",{class:e.$style["dropdown-link"],attrs:{href:e.link,type:"button"},on:{click:function(t){return e.$emit("click")},inViewport:function(t){return e.$emit("inViewport")}}},[e._v("\n    "+e._s(e.title)+"\n    "),e.counter?n("span",{class:e.$style.counter},[e._v(e._s(e.counter))]):e._e(),e._v(" "),e.subtitle?n("span",{class:e.$style.subtitle},[e._v(e._s(e.subtitle))]):e._e(),e._v(" "),e.subtitleTwo?n("span",{class:e.$style.subtitle},[e._v(e._s(e.subtitleTwo))]):e._e()])],1)}),[],!1,(function(e){this.$style=o.default.locals||o.default}),null,null);t.a=component.exports},153092:function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106");var r=n("5eabea"),o=(n("393231"),n("aef563"),n("e28425"),n("42f576"),n("be62e4")),c={name:"ConfirmLocation",props:{city:{type:String,default:"Москва"}}},l=(n("f24e40"),n("b429cb")),d=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"confirm-location",class:{"m-mobile":e.isMobile}},[e.isMobile?e._e():n("span",[e._v("Город доставки ваших покупок — "+e._s(e.city)+"?")]),e._v(" "),n("div",{staticClass:"buttons"},[n("div",{staticClass:"yes button",on:{click:function(t){return e.$emit("input",!0)}}},[e._v("\n      Да, всё верно\n    ")]),e._v(" "),n("div",{staticClass:"no button",on:{click:function(t){return e.$emit("input",!1)}}},[e._v("\n      Нет, изменить "),e.isMobile?e._e():n("span",[e._v("город")])])])])}),[],!1,null,"01ac6d30",null).exports,f=n("ff287e"),h=n.n(f),m=(n("c7aace"),n("331f86")),v=n.n(m);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var E={DEFAULT:"",CART:"m-cart",COMPOSER_CART:"m-composer-cart",CHECKOUT:"m-checkout",PDP:"m-pdp",FORCE_DESKTOP:"m-force-desktop"},_={components:{Autocomplete:o.a,Confirm:d},props:{mods:{type:Array,default:function(){return[]}},toShowConfirm:{type:Boolean,default:!0},showBtn:{type:Boolean,default:!1},desktopHeader:{type:Boolean,default:!1},overrideCurrentLocation:{type:Object,default:null},toChangeLocationOnSelect:{type:Boolean,default:!0}},data:function(){return{showInput:!1,debounceChange:v()(this.onValueChanged,200),autocomplete:[],bodyElement:void 0,numberOfItemsInAutocomplete:this.isMobile?5:10}},computed:{suggestions:function(){var e=this;return""===this.currentLocation.name||0===this.autocomplete.length?this.topCities.map((function(t){return Object.assign({},t,{suggest:e.getSuggestText(t)})})):this.autocomplete.map((function(t){return Object.assign(t,{suggest:e.getSuggestText(t)})})).slice(0,this.numberOfItemsInAutocomplete)},currentLocation:function(){return this.overrideCurrentLocation||this.location.current||{}},isExact:function(){return this.location.isExact},topCities:function(){return this.location.suggested||[]},location:function(){return h()(this.$store,"state.location")||{}}},watch:{showInput:function(e){!0===e?(this.bodyElement.click(),this.bodyElement.addEventListener("click",this.closeOnBodyClick)):this.bodyElement.removeEventListener("click",this.closeOnBodyClick)}},beforeMount:function(){this.bodyElement=document.querySelector("body")},beforeDestroy:function(){this.bodyElement.removeEventListener("click",this.closeOnBodyClick)},methods:{closeOnBodyClick:function(){this.showInput=!1},onValueChanged:function(e){var t=this;""!==e?this.$api.location.search.get({query:e}).then((function(e){t.autocomplete=e})):this.autocomplete=[]},onSelectValue:function(e){var t=(0===this.autocomplete.length?this.topCities:this.autocomplete).find((function(t){return t.areaId===e.areaId})),n=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},this.currentLocation);this.$emit("change",{newLocation:t,oldLocation:n}),this.toChangeLocationOnSelect&&this.changeLocation(t)},onLocationConfirm:function(e){e?this.$store.dispatch("location/CONFIRM_LOCATION",this.currentLocation):this.showInput=!0},getSuggestText:function(e){var t=e.region?", ".concat(e.region):"";return"".concat(e.name).concat(t)},changeLocation:function(e){this.$store.dispatch("location/CHANGE_LOCATION",e),this.$analytics.send("site/cityChange",{region_name:e.city||e.name,areaId:e.areaId}),this.$emit("onChangeCity",e)}}};n("cbe1db");n.d(t,"a",(function(){return E}));var S=Object(l.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["city-selector",{"m-mobile":e.isMobile}].concat(e.mods),attrs:{"data-test-id":"city-selector"},on:{click:function(e){e.stopPropagation()}}},[e.showInput?n("Autocomplete",{attrs:{"desktop-header":e.desktopHeader,suggestions:e.suggestions,autofocus:"","close-on-blur":"",placeholder:"Поиск по городу, индексу","text-key":"suggest"},on:{close:function(t){e.showInput=!1},input:e.debounceChange,selected:e.onSelectValue}}):[n("span",{staticClass:"city-name",on:{click:function(t){t.stopPropagation(),e.showInput=!0}}},[n("span",{staticClass:"city-name-inner"},[e._v(e._s(e.currentLocation.name))]),e._v(" "),e.currentLocation.region&&!e.desktopHeader?n("span",{staticClass:"region"},[e._v("\n        , "+e._s(e.currentLocation.region)+"\n      ")]):e._e(),e._v(" "),e.showBtn?n("span",{directives:[{name:"qa",rawName:"v-qa:id",value:"change-city-name-btn",expression:"'change-city-name-btn'",arg:"id"}],staticClass:"city-name-btn"},[e._v("\n        Изменить\n      ")]):e._e()]),e._v(" "),!e.isExact&&e.toShowConfirm?n("Confirm",{attrs:{city:e.currentLocation.name},on:{input:e.onLocationConfirm}}):e._e()]],2)}),[],!1,null,"52dc1d18",null);t.b=S.exports},"1543cd":function(e,t,n){"use strict";var r=n("8f136d"),o=n.n(r);t.default=o.a},"15596c":function(e,t,n){"use strict";var r={name:"BlockingLoader",components:{PreLoader:n("e4cd70").a},props:{triggerBlur:{type:Boolean,default:!1},invisible:{type:Boolean,default:!1},mod:{type:String,default:"five-dots"}},data:function(){return{activeElement:void 0}},mounted:function(){this.triggerBlur&&document.activeElement instanceof HTMLElement&&(this.activeElement=document.activeElement,this.activeElement.blur())},beforeDestroy:function(){this.triggerBlur&&this.activeElement&&this.activeElement.focus()}},o=(n("1d2687"),n("b429cb")),component=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["loading",{"m-invisible":this.invisible}]},[t("div",{class:["preloader",{"m-invisible":this.invisible}]},[t("PreLoader",{attrs:{mod:this.mod}})],1)])}),[],!1,null,"361c78f8",null);t.a=component.exports},"164a37":function(e,t,n){},"16e75f":function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106");var r=n("5eabea"),o=n("6876d5"),c=n("ff287e"),l=n.n(c),d=n("75d3ef"),f=n("2e2898"),h=n("8e8a8a");function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var v={name:"OzonFooterSimpleBase",components:{SocialIcons:f.a,Copyright:d.a,Phone:h.a},props:{widgetState:{type:Object,default:function(){return{}}},groupStatePath:{type:String,default:""}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(o.c)({getParams:"cms/footer/getParamsByStateId"}),{footerState:function(){return 0!==Object.keys(this.widgetState).length?this.widgetState:this.getParams("default")},copyright:function(){return l()(this.footerState,"copyright",{})}})},y=n("012164"),E=n("b429cb");var component=Object(E.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"qa",rawName:"v-qa:id",value:e.groupStatePath,expression:"groupStatePath",arg:"id"}],class:e.$style.footer},[n("div",{class:e.$style.wrapper},[n("div",[n("Phone",{class:e.$style.simplePhone,attrs:{"has-icon":!1,phone:e.footerState.phone}}),e._v(" "),n("Copyright",{attrs:{link:e.copyright.link,title:e.copyright.title}})],1),e._v(" "),n("SocialIcons",{class:e.$style.socialShare})],1)])}),[],!1,(function(e){this.$style=y.default.locals||y.default}),null,null);t.a=component.exports},"1739ae":function(e,t,n){"use strict";var r=n("9098ba");n.n(r).a},"17ad72":function(e,t,n){"use strict";var r=n("e551b4"),o=n.n(r);t.default=o.a},"17e9e6":function(e,t,n){"use strict";n("f8695b"),n("41d819"),n("aae158");var r=n("3ced62"),o=n("846c0d"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},l=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},d={name:"LinksStub",components:{ComposerLink:r.a},mixins:[Object(o.a)("onInViewport",{once:!1,throttle:400,fromRight:!0})],props:{type:{type:String,default:"div"},href:{type:[String,Boolean],default:""},target:{type:String,default:""},fakeLink:{type:Boolean,default:!1},theme:{type:String,default:""}},data:function(){return{sendViewEvent:!1}},methods:{onInViewport:function(){this.sendViewEvent||(this.$emit("inViewport"),this.sendViewEvent=!0)},onClick:function(e){return c(this,void 0,void 0,(function(){return l(this,(function(t){if(this.$emit("click"),this.fakeLink){if(this.target)return this.$composerRouter.redirect(this.href,"_blank"),[2];!!e&&(e.ctrlKey||e.metaKey||2===e.which)?this.$composerRouter.redirect(this.href,"_blank"):this.$composerRouter.push(this.href)}return[2]}))}))}}},f=n("2c2732"),h=n("b429cb");var component=Object(h.a)(d,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return t.href&&!t.fakeLink?r("ComposerLink",{class:[t.$style.link,(e={},e[t.$style[t.theme]]=t.theme,e)],attrs:{href:t.href,target:t.target},on:{click:function(e){return t.$emit("click")}}},[t._t("default")],2):r(t.type,{tag:"component",on:{click:function(e){return t.onClick(e)}}},[t._t("default")],2)}),[],!1,(function(e){this.$style=f.default.locals||f.default}),null,null);t.a=component.exports},"1858a3":function(e,t,n){e.exports={root:"_96fa6d",error:"f3d1d9",blink:"_1781cd"}},"18e39b":function(e,t,n){},"197fce":function(e,t,n){e.exports={"location-btn":"d13f08",":hover":"_7d6a0d",":focus":"bc4aa6","location-title":"c11d10",icon:"d39cbc",blink:"a548bb"}},"198c1e":function(e,t,n){"use strict";n.r(t),n.d(t,"TOGGLE_CHANGE_PREMIUM_POPUP",(function(){return l})),n.d(t,"state",(function(){return d})),n.d(t,"mutations",(function(){return f})),n.d(t,"getters",(function(){return h})),n.d(t,"actions",(function(){return m}));n("f8695b"),n("41d819"),n("aae158");var r,o=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},c=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},l="TOGGLE_CHANGE_PREMIUM_POPUP",d=function(){return{}},f={},h={},m=((r={})[l]=function(e,t){return o(this,void 0,void 0,(function(){return c(this,(function(e){return[2,Promise.resolve(t)]}))}))},r)},"19af75":function(e,t,n){},"19b9ce":function(e,t,n){"use strict";var r=n("8cdf78"),o=n.n(r);t.default=o.a},"1a32d0":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("4047f7"),o=500,c=new(function(){function e(){var e=this;this.cache=[],window.addEventListener("DOMContentLoaded",(function(){return setTimeout(e.load.bind(e),o)}))}return e.prototype.add=function(e){-1===this.cache.indexOf(e)&&this.cache.push(e)},e.prototype.load=function(){var e=this;this.cache.map((function(t){Object(r.d)(t).catch(e.error)}))},e.prototype.error=function(e){console.info(e)},e}())},"1ace75":function(e,t,n){e.exports={popover:"_0548dd",dropdown:"ccf056",blink:"cb7b02"}},"1aff32":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return f})),n.d(t,"mutations",(function(){return h})),n.d(t,"actions",(function(){return m}));n("c08bb9"),n("5dd61c"),n("66914a"),n("340dbd"),n("0a5193"),n("e28425"),n("f8695b"),n("41d819"),n("aae158");var r=n("bbfe95"),o=n("2e5e4a"),c=function(){return(c=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},l=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},d=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},f=function(){return{deliveryReview:{info:{shipmentId:"",price:0,date:""},answers:[],modal:!1,isReadOnly:!1,isCreated:!1}}},h={deliveryReviewInfo:function(e,t){e.deliveryReview.info=t},deliveryReviewAnswers:function(e,t){e.deliveryReview.answers=t},deliveryReviewIsReadOnly:function(e,t){e.deliveryReview.isReadOnly=t},deliveryReviewIsCreated:function(e,t){e.deliveryReview.isCreated=t},deliveryModal:function(e,t){e.deliveryReview.modal=t}},m={REPORT_REVIEW:function(e,t){var data=t.data;return l(this,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.$api.pdpOpinion["report-abuse"].post(data)];case 1:return t.sent(),[3,3];case 2:throw e=t.sent(),this.$logger.error({exception:e,message:r.v.ERROR_REPORT_ABUSE}),e;case 3:return[2]}}))}))},CLIENT_UPLOAD_PHOTOS:function(e,t){var n=t.newPhotos,r=t.uploadedPhotos;return l(this,void 0,void 0,(function(){var e,t,f,h,m,v,y=this;return d(this,(function(E){switch(E.label){case 0:return e=r.map((function(e){return e.name})),t=Array.from(n),f=t.filter((function(t){return!e.includes(t.name)})),h=e.length+f.length,m=o.a.removeExcess(f,10,h),v=m.files.map((function(image){return l(y,void 0,void 0,(function(){var e,t,n,r;return d(this,(function(l){switch(l.label){case 0:return e=image.name,[4,o.a.resizeImage(image)];case 1:return t=l.sent().dataURL,n=o.a.dataURLToBlob(t),[4,o.a.getImageSizeByBase64(t)];case 2:return r=l.sent(),[2,c({file:n,name:e,dataURL:t},r)]}}))}))})),[4,Promise.all(v)];case 1:return[2,{data:E.sent(),error:m.error}]}}))}))},SERVER_UPLOAD_PHOTOS:function(e,t){return l(this,void 0,void 0,(function(){var e,n=this;return d(this,(function(r){return e=t.map((function(e){var t=e.file,r=e.name;return l(n,void 0,void 0,(function(){var e;return d(this,(function(n){switch(n.label){case 0:return(e=new FormData).append("file",t,r),[4,this.$api.pdpOpinion.upload.post(e)];case 1:return[2,{url:n.sent().url}]}}))}))})),[2,Promise.all(e)]}))}))},SERVER_UPLOAD_DELIVERY_PHOTOS:function(e,t){return l(this,void 0,void 0,(function(){var e,n=this;return d(this,(function(r){return e=t.map((function(e){var t=e.file,r=e.name;return l(n,void 0,void 0,(function(){var e,n,o,c;return d(this,(function(l){switch(l.label){case 0:return(e=new FormData).append("file",t,r),[4,this.$api.reviewMedia.v2.post({photo:e,bucket:"delivery"})];case 1:return n=l.sent(),o=n.url,c=n.filename,[2,{url:o,filename:c}]}}))}))})),[2,Promise.all(e)]}))}))},DELIVERY_RESOLVE_REVIEW:function(e,t){return(0,e.commit)("deliveryModal",!1),t},OPEN_DELIVERY_REVIEW_POPUP:function(e,t){var n=e.commit;return l(this,void 0,void 0,(function(){var e,r,o=this;return d(this,(function(c){return e=t.readOnly,r=t.info,n("deliveryReviewInfo",r),n("deliveryReviewIsReadOnly",e),n("deliveryModal",!0),[2,new Promise((function(e){o.$when("reviews/DELIVERY_RESOLVE_REVIEW",(function(t){var n=t.payload;e(n)}))}))]}))}))},UNSUCCESSFUL_CREATE_REVIEW:function(e,t){return l(this,void 0,void 0,(function(){var e;return d(this,(function(n){return e=[],t.rating&&e.push("stars"),t.comment&&e.push("text"),this.$analytics.send("pdp/unsuccessfulCreateReview",e.join(", ")),[2]}))}))},CREATE_DELIVERY_REVIEW:function(e,t){return l(this,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return[4,this.$api.deliveryReview.createReviewByShipmentId.post({review:t.data})];case 1:return e.sent(),[2]}}))}))},DELETE_MY_REVIEW:function(e,t){return l(this,void 0,void 0,(function(){var e;return d(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.$api.pdpOpinion["delete-my-review"].post({opinionId:t})];case 1:return[2,n.sent()];case 2:throw e=n.sent(),this.$logger.error({exception:e,message:r.v.ERROR_DELETE_MY_REVIEW}),e;case 3:return[2]}}))}))}}},"1c8607":function(e,t,n){"use strict";n("e28425");var r=n("c7b40a"),o=n.n(r),c=n("4a02d3"),l=n("ff287e"),d=n.n(l),f=n("f71271"),h=n.n(f),m=n("7b6138"),v=n.n(m);function y(e){var t=e.actionType,n=d()(e.cell,"type","");if("product"===n){if(t===c.EActionTypes.VIEW_ACTION&&"pdp-widget"===e.widget.name)return function(e){return{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"productDetail",ecommerce:{detail:{products:[E(e)]}}}}(e);if(t===c.EActionTypes.CLICK_ACTION)return function(e){return{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"productClick",ecommerce:{click:{actionField:{list:e.widget.name,action:"click"},products:[E(e)]}}}}(e);if(t===c.EActionTypes.TO_CART_ACTION||t===c.EActionTypes.INCREMENT_ACTION)return function(e){return{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"addToCart",ecommerce:{add:{actionField:{list:e.widget.name,action:"add"},products:[E(e)]}}}}(e);if(t===c.EActionTypes.REMOVE_ACTION||t===c.EActionTypes.DECREMENT_ACTION)return function(e){return{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"removeFromCart",ecommerce:{remove:{products:[E(e)]}}}}(e);if(t===c.EActionTypes.FAVORITE_ACTION)return function(e){return{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"addToWishlist",ecommerce:{add:{actionField:{list:e.widget.name,action:"add"},products:[E(e)]}}}}(e);if(t===c.EActionTypes.UNFAVORITE_ACTION)return function(e){return{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"removeFromWishlist",ecommerce:{remove:{actionField:{list:e.widget.name,action:"remove"},products:[E(e)]}}}}(e)}if("banner"===n){if(t===c.EActionTypes.VIEW_ACTION)return function(e){return{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"promoView",ecommerce:{promoView:{promotions:[_(e)]}}}}(e);if(t===c.EActionTypes.CLICK_ACTION)return function(e){return{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"promoClick",ecommerce:{promoClick:{promotions:[_(e)]}}}}(e)}return t===c.EActionTypes.ORDER_ACTION?function(e){return{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"purchase",ecommerce:{purchase:{actionField:{step:2,action:"purchase"},products:[E(e)]}}}}(e):null}function E(e){var t=e.cell;return h()({name:t.title||"",id:""+t.id,price:t.finalPrice||t.price,category:t.category,position:t.index,brand:t.brand,list:e.widget.name,quantity:d()(e,"custom.quantity")||1,dimension12:t.sellerId,dimension112:t.stock,dimension132:t.availableInDays,dimension150:t.deliverySchema,dimension145:t.storehouseId},v.a)}function _(e){var t=e.cell;return{name:t.title||"",id:t.id||null,position:t.index||null}}var S=function(){function e(){this.cacheImpressions=[]}return e.prototype.reinit=function(e){var t=this.getGTMDataLayer();t&&t[e]&&(t[e].dataLayer.reset(),this.clear())},e.prototype.push=function(e){var t=this.getDataLayer();t&&t.push(e)},e.prototype.pushEcomerceImpression=function(e){var t,n=this.getCacheEcomerceImpression();if(n.push(e),6===n.length){var r=(t=n).length?{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"impressions",ecommerce:{impressions:t.map(E)}}:null;r&&this.push(r),this.clearCacheEcomerceImpression()}},e.prototype.pushEcomerce=function(e){if(e.actionType!==c.EActionTypes.VIEW_ACTION||"product"!==d()(e,"cell.type")){var t=this.getEcomerceData(e);t&&this.push(t)}else this.pushEcomerceImpression(e)},e.prototype.getDataLayer=function(){return"undefined"==typeof window?[]:("undefined"==typeof window||window.dataLayer||(window.dataLayer=[]),window.dataLayer)},e.prototype.getGTMDataLayer=function(){return"undefined"!=typeof window&&window.google_tag_manager&&window.google_tag_manager},e.prototype.getEcomerceData=function(e){return y(e)},e.prototype.getCacheEcomerceImpression=function(){return this.cacheImpressions},e.prototype.clearCacheEcomerceImpression=function(){var e=this.getCacheEcomerceImpression();e.splice(0,e.length)},e.prototype.clear=function(){var e=this.getDataLayer();e&&Array.isArray(e)&&e.splice(0,e.length),this.clearCacheEcomerceImpression()},e}(),O=function(){function e(){}return e.prototype.push=function(e){var t=this.getTracker();t&&t.push(e)},e.prototype.getTracker=function(){return"undefined"==typeof window?[]:("undefined"==typeof window||window[c.PUBLIC_FIELD]||(window[c.PUBLIC_FIELD]=[]),window[c.PUBLIC_FIELD])},e}();n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return c.EActionTypes}));var T=new(function(){function e(){this.tracker=new O,this.dataLayer=new S}return e.prototype.reinitDataLayer=function(e){this.dataLayer.reinit(e)},e.prototype.sendDataLayer=function(e){this.dataLayer.push(e)},e.prototype.sendTracker=function(e){this.tracker.push(e)},e.prototype.send=function(e,t){var n=t.widget,r=t.slice,c=t.cell,l=t.custom,d="string"==typeof n?JSON.parse(n):n,f="string"==typeof r?JSON.parse(r):r,h="string"==typeof c?JSON.parse(c):c,m={actionType:e,eventId:o()(),widget:d,slice:f,cell:h,custom:l};this.dataLayer.pushEcomerce(m),this.tracker.push(m)},e}())},"1d2687":function(e,t,n){"use strict";var r=n("5774c6");n.n(r).a},"1d28b5":function(e,t,n){"use strict";var r=n("4cf0df"),o=n.n(r);t.default=o.a},"1e3950":function(e,t,n){e.exports={buttons:"_32ef3e",button:"cb5f79",blink:"a7037d"}},"1e8b3a":function(e,t,n){"use strict";n("497371");var r={name:"HeaderIcon",components:{LinksStub:n("17e9e6").a},props:{counter:{type:Number,default:null},link:{type:String,default:""},title:{type:String,default:""}}},o=n("45e5c0"),c=n("b429cb");var component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LinksStub",{class:e.$style.icon,attrs:{href:e.link},on:{click:function(t){return e.$emit("clickOnIcon")}}},[n("no-ssr",[e.counter?n("span",{directives:[{name:"qa",rawName:"v-qa:id",value:"counter",expression:"'counter'",arg:"id"}],staticClass:"f-caption--bold",class:e.$style.counter},[e._v("\n      "+e._s(e.counter)+"\n    ")]):e._e()]),e._v(" "),e._t("default"),e._v(" "),e.title?n("span",{directives:[{name:"qa",rawName:"v-qa:id",value:"header-my-ozon-title",expression:"'header-my-ozon-title'",arg:"id"}],class:e.$style.title},[e._v("\n    "+e._s(e.title)+"\n  ")]):e._e()],2)}),[],!1,(function(e){this.$style=o.default.locals||o.default}),null,null);t.a=component.exports},"1f7fdc":function(e,t,n){e.exports={modalContainer:"_730fd8",modal:"_1cb8d8",fullScreen:"b609d3",close:"_9c089a",":hover":"_2aff50",blink:"_2aff2f"}},"1f88f0":function(e,t,n){"use strict";var r=n("f6ec0f");n.n(r).a},"1f8f91":function(e,t,n){"use strict";var r=n("38e724"),o=n.n(r);t.default=o.a},"1fb7bd":function(e,t,n){"use strict";var r,o;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),function(e){e.ERROR="error",e.SUCCESS="success",e.INFO="info"}(r||(r={})),function(e){e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_CENTER="bottom-center",e.BOTTOM_LEFT="bottom-left",e.TOP_RIGHT="top-right",e.TOP_CENTER="top-center",e.TOP_LEFT="top-left"}(o||(o={}))},"200b67":function(e,t,n){"use strict";var r=n("9e67e4"),o=n.n(r);t.default=o.a},"205eb6":function(e,t,n){},"20ec74":function(e,t,n){"use strict";var r=n("0d49ab");n.n(r).a},"211be1":function(e,t,n){"use strict";n.r(t),n.d(t,"statuses",(function(){return E})),n.d(t,"state",(function(){return _})),n.d(t,"mutations",(function(){return S})),n.d(t,"getters",(function(){return O})),n.d(t,"actions",(function(){return T}));n("f8695b"),n("41d819"),n("aae158");var r=n("667e87"),o=n("bbfe95"),c=n("8f426e"),l=n("9e82e9"),d=n("0fe46d"),f=n("a0d0bf"),h=n("ff287e"),m=n.n(h),v=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},y=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},E={ACCESS_DENIED:"access_denied",UNKNOWN:"invalid_client",INVALID_OLD_PASSWORD:"Invalid 'oldPassword'"},_=function(){return{token:"",sessionId:"",tokenExpiration:"",refreshToken:"",cookieWasChecked:!1}},S={setToken:function(e,t){var n=t.token,r=t.tokenExpiration,o=t.refreshToken;Object.assign(e,{token:n,tokenExpiration:r,refreshToken:o})},setSession:function(e,t){var n=t.sessionId;e.sessionId=n},markCookieAsChecked:function(e){e.cookieWasChecked=!0}},O={},T={REFRESH_SESSION_COOKIE:function(e,t){var n=e.dispatch,d=e.rootState,f=t.res;return v(this,void 0,void 0,(function(){var e,t,h;return y(this,(function(m){switch(m.label){case 0:return e=Object(c.a)(d),[3,5];case 1:return m.trys.push([1,4,,5]),[4,this.$api.oauth.ticket.get()];case 2:return(t=m.sent().sessionId)||this.$logger.error("Session ID was not returned by server!"),[4,n("SET_SESSION",{sessionId:t})];case 3:return m.sent(),r.a.addCookieToResponse(f,r.a.serialize(o.c.sessionId,t,{maxAge:31535999,httpOnly:!0,path:"/"})),[3,5];case 4:return h=m.sent(),this.$logger.error({exception:h,message:l.t.AUTH_ERRORS.ERROR_GETTING_SESSION_ID,payload:e}),[3,5];case 5:return[2]}}))}))},REFRESH_TOKEN_FROM_SERVICE:function(e,t){var n=e.state,d=e.dispatch,f=e.rootState,h=void 0===t?{}:t,m=h.abGroup,E=h.reason,_=void 0===E?"":E;h.res;return v(this,void 0,void 0,(function(){var e,t,h,data,v,E;return y(this,(function(y){switch(y.label){case 0:if((e=n.refreshToken)||(e=Object(r.b)("refresh_token")),t=Boolean(e),h=Object(c.a)(f),!t)return[3,4];y.label=1;case 1:return y.trys.push([1,3,,4]),[4,this.$api.token.refreshToken(e,m,_+"-hasRefresh")];case 2:return data=y.sent(),[3,4];case 3:return v=y.sent(),this.$logger.error({exception:v,message:l.t.AUTH_ERRORS.ERROR_REFRESHING_TOKEN,payload:h}),[3,4];case 4:if(data&&t)return[3,8];y.label=5;case 5:return y.trys.push([5,7,,8]),[4,this.$api.token.getAnonymousToken(m,_+"-"+(t?"refreshFailed":"noRefresh"))];case 6:return data=y.sent(),[3,8];case 7:return E=y.sent(),this.$logger.error({exception:E,message:l.t.AUTH_ERRORS.ERROR_GETTING_ANON_TOKEN,payload:h}),[3,8];case 8:return data?[4,d("SET_TOKEN",Object(c.c)(data))]:[3,10];case 9:return y.sent(),Object(r.d)("ozonShopLoggedIn",!1),[3,11];case 10:this.$logger.error({message:o.d.CANT_GET_TOKEN,payload:h}),y.label=11;case 11:return[2]}}))}))},RESET_PASSWORD:function(e,t){var n=e.dispatch,r=t.resetToken,o=t.newPassword;return v(this,void 0,void 0,(function(){var data,e,t;return y(this,(function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),e=c.c,[4,this.$api.oauth.resetPassword.post({resetToken:r,newPassword:o})];case 1:return data=e.apply(void 0,[d.sent()]),[4,n("userInfo/SUCCESSFUL_ACCESS",data,{root:!0})];case 2:return d.sent(),[2,{success:!0}];case 3:return t=d.sent(),this.$logger.error({exception:t,message:l.t.AUTH_ERRORS.ERROR_RESETING_PASSWORD}),[2,{success:!1,error:t.response&&t.response.data&&t.response.data.errorCode||"network_error"}];case 4:return[2]}}))}))},SAVE_TOKEN_IN_COOKIES:function(e,t){var n=e.state,c=t.res;return v(this,void 0,void 0,(function(){var e,t,i,l;return y(this,(function(d){for(t=function(e){return r.a.serialize(o.c[e],n[e],{path:"/",maxAge:31535999,encode:"tokenExpiration"===e?function(e){return e}:void 0})},i=0,l=(e=["token","tokenExpiration","refreshToken"]).length;i<l;i++)if(!n[e[i]])return[2,!1];try{"undefined"!=typeof window&&e.forEach((function(e){document.cookie=t(e)})),c&&c.setHeader&&r.a.addCookieToResponse(c,e.map((function(e){return t(e)})))}catch(e){this.$logger.error({message:"SAVE_TOKEN_IN_COOKIES",exception:e})}return[2]}))}))},DROP_COOKIES:function(){if("undefined"!=typeof window){["token","tokenExpiration","refreshToken"].forEach((function(e){document.cookie=function(e){return r.a.serialize(o.c[e],_[e],{path:"/",maxAge:-1})}(e)}))}},MARK_AS_CHECKED:function(e){return(0,e.commit)("markCookieAsChecked")},SET_TOKEN:function(e,t){return(0,e.commit)("setToken",{token:t.token,tokenExpiration:t.tokenExpiration,refreshToken:t.refreshToken})},SET_SESSION:function(e,t){return(0,e.commit)("setSession",{sessionId:t.sessionId})},AUTH_SET_TOKEN:function(e,data){var t=e.dispatch;return v(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,t("OZON_SHOP_AUTH",data)];case 1:return e.sent(),[4,t("userInfo/SUCCESSFUL_ACCESS",data,{root:!0})];case 2:return e.sent(),[2]}}))}))},PREMIUM_COOKIE_SETTER:function(e){var t=e.rootState;if(m()(t,"userInfo.user.loyaltyStatus.id",0)===f.a){var n=new Date(Date.now()+36e5);Object(r.d)("o_fupr",!0,{expires:n})}},OZON_SHOP_AUTH:function(e,t){var n=e.dispatch,r=t.token,c=t.refreshToken,l=t.expiresIn;return v(this,void 0,void 0,(function(){var e,t,f,h;return y(this,(function(m){switch(m.label){case 0:return m.trys.push([0,2,,4]),[4,Object(d.a)({token:r,refreshToken:c,expiresIn:l})];case 1:return e=m.sent(),[3,4];case 2:return t=m.sent(),[4,n("GET_OZON_SHOP_LOGIN_ERROR_MESSAGE",t)];case 3:if((f=m.sent())===o.d.NONE)return[2];throw new Error(f);case 4:if((h=e.data.d)&&h.code&&1===h.code)throw new Error(o.d.SERVER_ERROR);return[2]}}))}))},GET_OZON_SHOP_LOGIN_ERROR_MESSAGE:function(e,t){var n=t.response;if(!n)return o.d.NETWORK_ERROR;switch(n.status){case 404:return o.d.NONE;default:return n.status>=500?o.d.SERVER_ERROR:(console.error("Unhandled status",n.status),o.d.UNKNOWN)}},CHANGE_PASSWORD:function(e,t){var n=t.password,r=t.oldPassword;return v(this,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.$api.oauth.changePassword.post({password:n,oldPassword:r})];case 1:return t.sent(),[3,3];case 2:throw e=t.sent(),this.$logger.error({exception:e,message:l.t.AUTH_ERRORS.ERROR_CHANGING_PASSWORD}),e;case 3:return[2]}}))}))},SET_PASSWORD:function(e,t){var n=t.password,r=t.reset_token;return v(this,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.$api.oauth.setPassword.post({password:n,reset_token:r})];case 1:return t.sent(),[3,3];case 2:throw e=t.sent(),this.$logger.error({exception:e,message:l.t.AUTH_ERRORS.ERROR_SETTING_PASSWORD}),new Error(e);case 3:return[2]}}))}))}}},"21410c":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r}));var r=function(){return{}}},"214d13":function(e,t,n){"use strict";n.r(t);var r={RpProductListAuthorReviews:{content:{default:function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(0),n.e(277)]).then(n.bind(null,"d27218"))},versions:{2:function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(0),n.e(278)]).then(n.bind(null,"223ee3"))}}},extendPlaces:!0},RpProductListExternalReviewsPDP:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(279)]).then(n.bind(null,"95a568"))},extendPlaces:!0,places:["pdp.reviews"]},RpProductListSubscriptions:{content:function(){return n.e(282).then(n.bind(null,"a3430b"))},extendPlaces:!0},RpDeliveryDeliveryReviewsWeb:{content:function(){return Promise.all([n.e(0),n.e(276)]).then(n.bind(null,"567524"))},extendPlaces:!0},RpProductRateBoughtItems:{content:function(){return Promise.all([n.e(1),n.e(0),n.e(283)]).then(n.bind(null,"b5ad77"))},extendPlaces:!0},RpProductListReviewsDesktop:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(0),n.e(281)]).then(n.bind(null,"719396"))},extendPlaces:!0},RpProductReviewProductScore:{content:function(){return Promise.all([n.e(0),n.e(284)]).then(n.bind(null,"cdd7e7"))},extendPlaces:!0,places:["pdp.reviews","pdp.grid.default"]},RpProductCreateReview:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(0),n.e(274)]).then(n.bind(null,"3eb3bd"))},extendPlaces:!0},RpProductCreateReviewForm:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(0),n.e(275)]).then(n.bind(null,"9d107b"))},extendPlaces:!0},RpProductReviewsTitle:{content:function(){return Promise.all([n.e(0),n.e(285)]).then(n.bind(null,"a9a443"))},extendPlaces:!0},RpProductContextQuestionsStatistic:{content:function(){return Promise.all([n.e(0),n.e(273)]).then(n.bind(null,"9eb6af"))},extendPlaces:!0},RpProductListPhotos:{content:function(){return Promise.all([n.e(2),n.e(3),n.e(0),n.e(280)]).then(n.bind(null,"b12e22"))},extendPlaces:!0,places:["pdp.detailPanel","pdp.grid.default"]},RpProductAuthorInfo:{content:function(){return Promise.all([n.e(0),n.e(272)]).then(n.bind(null,"8ea6b2"))},extendPlaces:!0}};t.default=r},"21919a":function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106"),n("88baaa"),n("497371");var r=n("5eabea"),o=n("6876d5"),c=n("05da3f"),l=n("6823ad"),d=n("01dcc3");function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={name:"CDNImageRetinaWrapper",components:{OzonIcon:l.a,CDNImage:c.a},props:h({},d.c.props,{src:{type:String,default:"https://cdn1.ozone.ru/graphics/new_no_photo.png"},size:{type:Number,default:1200,required:!1},isAdult:{type:Boolean,default:!1},imgClass:{type:String,default:""}}),computed:h({},Object(o.e)("browser",{userAgent:function(e){return e.browser||""}}),{browserBlur:function(){var e=this.userAgent.indexOf("Edge")>-1,t=this.userAgent.indexOf("MSIE")>-1;return!(t=t||this.userAgent.match(/Trident.*rv:11\./))&&!e}})},v=(n("ef990d"),n("b429cb")),component=Object(v.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[e.isAdult?r("div",{staticClass:"overlay"},[r("div",{staticClass:"adult-comm",attrs:{"data-test-id":"18-placeholder"}},[r("OzonIcon",{attrs:{icon:n("3b5aa2"),height:"24",width:"24"}}),e._v(" "),r("span",{staticClass:"adult-text"},[e._v("Товар для взрослых")])],1)]):e._e(),e._v(" "),r("CDNImage",e._b({class:["img",e.imgClass,{"m-adult":e.isAdult,"m-old-browser":!e.browserBlur}],on:{click:function(t){return e.$emit("click",t)},error:function(t){return e.$emit("error",t)},load:function(t){return e.$emit("load",t)}}},"CDNImage",e.$props,!1))],1)}),[],!1,null,"1ed0ca45",null);t.a=component.exports},"22abae":function(e,t,n){"use strict";var r=n("68e0fc");n.n(r).a},"22fb9a":function(e,t,n){},"2336c4":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r="#005bff",o=0},"235ad7":function(e,t,n){"use strict";n("42f576");var r=n("64fdd4"),o=n("164449"),c=n("8f7bb4"),l=n("a71f0b"),d=n("878394"),f=n("1c8607"),h="".concat("analytics",":lastShopShelf"),m="".concat("analytics",":settingsSortFilter"),v="".concat("analytics",":suggestionText"),y="".concat("analytics",":searchBox"),E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o.a)(this,e),this.state=t}return Object(c.a)(e,[{key:"lastShopShelf",get:function(){return Object(d.b)(h)},set:function(e){Object(d.c)(h,e)}},{key:"settingsSortFilter",get:function(){return Object(d.b)(m)},set:function(e){Object(d.c)(m,e)}},{key:"suggestionTextDatalayer",get:function(){return Object(d.b)(v)},set:function(e){Object(d.c)(v,e)}},{key:"searchData",get:function(){return Object(d.b)(y)},set:function(e){Object(d.c)(y,e)}}]),Object(c.a)(e,[{key:"send",value:function(e,t){var data=this._getEventDefinition(e,t);if(data.ga){var n=Object.assign({},data.ga,{beacon:!0});f.a.sendDataLayer(n)}data.tracker&&f.a.sendTracker(data.tracker)}},{key:"_getEventDefinition",value:function(e,t){var n=e.split("/"),o=Object(r.a)(n,2),c=o[0],d=o[1],f=l[c]&&l[c][d];if(f){if("function"!=typeof f)return f;try{return f(t,{state:this.state,options:{suggestionTextDatalayer:this.suggestionTextDatalayer,lastShopShelf:this.lastShopShelf,settingsSortFilter:this.settingsSortFilter,lastSearchData:this.searchData}})}catch(e){console.error("analytics: cant get event definition ",e)}}else console.warn("analytics: no event definition ",e)}}]),e}();t.a=E},"23c58b":function(e,t,n){"use strict";n("497371");var r={name:"Portal",props:{mountTo:{type:String,default:"body"},name:{type:String,default:void 0},append:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},order:{type:Number,default:0}}},o=n("b429cb"),component=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("no-ssr",[t("MountingPortal",{attrs:{append:this.append,"mount-to":this.mountTo,multiple:this.multiple,name:this.name,order:this.order}},[this._t("default")],2)],1)}),[],!1,null,null,null);t.a=component.exports},"24ac90":function(e,t,n){e.exports={reportForm:"b393a5",form:"_3cf054",title:"_702ae2",subtitle:"_6628f4",fields:"d28dd3",button:"_665449",blink:"cfb8df"}},"24c270":function(e,t,n){"use strict";var r=n("eff339");n.n(r).a},"24f0cf":function(e,t,n){"use strict";var r=n("ccdad1"),o=n.n(r);t.default=o.a},"25f2a1":function(e,t,n){e.exports={preloader:"d2c972",error:"_56fe3b",blink:"_062b06"}},"2621de":function(e,t,n){"use strict";var r={name:"CarouselImage",components:{BaseImage:n("01dcc3").c},props:{image:{type:String,default:""},emptyImage:{type:String,default:"https://cdn1.ozone.ru/graphics/ozon/detail/noimg_300x300.gif"},imageGrey:{type:Boolean,default:!1}},computed:{computedImage:function(){var image=this.image,e=this.emptyImage;return image||e}}},o=n("b429cb"),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("BaseImage",{attrs:{src:e.computedImage,"image-grey":e.imageGrey},on:{load:function(t){return e.$emit("load",t)}}})}),[],!1,null,null,null);t.a=component.exports},276681:function(e,t,n){},"27b3ea":function(e,t,n){"use strict";var r=n("d24c85"),o=n.n(r);t.default=o.a},"2812ad":function(e,t,n){},289770:function(e,t,n){"use strict";n.d(t,"p",(function(){return o})),n.d(t,"o",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"e",(function(){return y})),n.d(t,"h",(function(){return E})),n.d(t,"j",(function(){return _})),n.d(t,"m",(function(){return S})),n.d(t,"n",(function(){return w})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return T})),n.d(t,"c",(function(){return I}));n("c08bb9"),n("aae158"),n("fcdb9f");var r,o=50,c=50,l="uploadfile",d=20971520,f="Размер файла не должен превышать {max} Мб",h="/my/chat",m=/(https?:\/\/)?(\.?[\w.-]*?\.)?ozon\.?ru((\/|\?|#)*[\S]*)*/gim,v=["jpeg","jpg","png","gif"],y=["jpeg","jpg","png","gif","txt","doc","docx","pdf"],E="Загружаемый файл должен соответствовать одному из форматов: {extensions}",_="Размер файла не должен превышать {max} Мб",S=5;!function(e){e.ENTER="Enter",e.CONTROL="Control",e.SHIFT="Shift",e.ALT="Alt",e.BACKSPACE="Backspace",e.META="Meta",e.TAB="Tab",e.ESCAPE="Escape"}(r||(r={}));Object.values(r).slice();var O,T,I,w=1e3;!function(e){e.SCROLL_TO_LAST_MESSAGE="SCROLL_TO_LAST_MESSAGE",e.SCROLL_TO_MESSAGE_INDEX="SCROLL_TO_MESSAGE_INDEX"}(O||(O={})),function(e){e.BY_KEY="BY_KEY",e.BY_ID="BY_ID"}(T||(T={})),function(e){e[e.ERROR_AUTH=4001]="ERROR_AUTH"}(I||(I={}))},"28e62f":function(e,t,n){var map={"./banner/composer-components":"89ce33","./cart/composer-components":"a55955","./chat/composer-components":"e282cf","./checkcart/composer-components":"6e8b0f","./checkout/composer-components":"514846","./cms/composer-components":"80743a","./communication/composer-components":"7e9e39","./composer/composer-components":"8639c4","./csma/composer-components":"10cdcc","./favorites/composer-components":"36f06f","./marketing/composer-components":"4da6de","./orderDone/composer-components":"46c3ce","./payments/composer-components":"2956ef","./pdp/composer-components":"539d21","./referral/composer-components":"e4caa4","./reviews/composer-components":"214d13","./rms/composer-components":"454a6a","./rtb/composer-components":"f8287a","./search/composer-components":"f766b3","./shared/composer-components":"ace05f","./shelf/composer-components":"9f4977","./subscriptions/composer-components":"7cab4f","./travel/composer-components":"74328c","./wallet/composer-components":"ebd959"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=o,e.exports=r,r.id="28e62f"},"29485d":function(e,t,n){},"2956ef":function(e,t,n){"use strict";n.r(t);var r={CheckcartPagesLoanPage:{content:function(){return n.e(231).then(n.bind(null,"46b2a5"))}},CheckcartPagesPaymentFormPage:{content:function(){return n.e(232).then(n.bind(null,"601365"))}}};t.default=r},"2c22d1":function(e,t,n){"use strict";var r=n("cfe548"),o=n.n(r);t.default=o.a},"2c2732":function(e,t,n){"use strict";var r=n("caf5a3"),o=n.n(r);t.default=o.a},"2c4104":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return h})),n.d(t,"mutations",(function(){return _})),n.d(t,"getters",(function(){return S})),n.d(t,"actions",(function(){return O}));n("c08bb9"),n("12a106"),n("51a5b6"),n("e28425"),n("5dd61c"),n("42f576"),n("f8695b"),n("41d819"),n("aae158");var r=n("ed745a"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},c=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},l="kladr",d={street:"street",region:"region",house_number:"house",district:"district",building:"building",locality:"city",kladr:"kladr"},f=["house_number","building"],h=function(){return{activeScreen:"landing",passportGroupName:"passport",form:{},anyFieldInvalid:!1,invalidFields:[],dateFields:[],scoresAmount:null,scoreFromBackend:0,delayedScore:0}};function m(e){if(!e||!/\d\d\.\d\d\.\d\d\d\d/g.test(e))return new Date;var t=e.split("."),n=t[0],r=t[1],o=t[2];return new Date(o,r-1,n)}var v="Проверьте правильность заполнения поля. Вводить можно только кириллицу",y="Поле не может быть пустым";function E(e,t,n){if(e!==l)try{var r=f.includes(e)?"":t[d[e]].typeShort+" "||!1;n.form.address[e]=""+r+t[d[e]].value}catch(t){n.form.address[e]="",console.info(t)}else!function(e,t,n){try{n.form.address[e]=t.street.kladrID}catch(e){console.info(e)}}(e,t,n)}var _={setActiveScreen:function(e,t){r.default.set(e,"activeScreen",t)},setScore:function(e,t){r.default.set(e,"scoresAmount",t)},setPromocodes:function(e,t){r.default.set(e,"appliedCodes",t)},setScoreFromApi:function(e,t){var n=t.score,o=t.delayedScore;e.scoreFromBackend=n/100,r.default.set(e,"delayedScore",o/100)},setCardForm:function(e,form){if(form){var t={};e.dateFields=[],form.groups.forEach((function(n){t[n.name]={},n.fields.forEach((function(r){var o=r.value;"DATE"===r.type&&(e.dateFields.push(r.name),r.validation.noFuture=!0),t[n.name][r.name]=o}))})),e.form=t,e.invalidFields=[]}},clearValidation:function(e,t){var n=t.field;n.validationError=!1,e.invalidFields=e.invalidFields.filter((function(e){return e!==n.name}))},validateField:function(e,t){var n=t.field,o=t.fieldValue,c=t.serverError,l=t.crimeaError;function d(e,t){var r=t.min_age,o=t.max_age,c=t.min,d=t.max;switch(e){case"required":n.errorText=y;break;case"address":n.errorText="Проверьте правильность заполнения адреса. Вы должны указать регион, населенный пункт, улицу и номер дома";break;case"min":n.errorText="Минимальное кол-во символов: "+c;break;case"max":n.errorText="Максиммальное кол-во символов: "+d;break;case"regexp":n.errorText=l?"К сожалению, мы не можем выдавать карты клиентам, зарегистрированным в Крыму":v;break;case"minage":n.errorText="Вы можете оформить карту, только если вам больше "+r+" лет";break;case"maxage":n.errorText="Вы можете оформить карту, только если вам меньше "+o+" лет";break;case"future":n.errorText="Дата не может быть в будущем"}}function f(e){var t=Date.now()-e.getTime(),n=new Date(t);return Math.abs(n.getUTCFullYear()-1970)}var h=n.validation,E=!1;c&&(E=!0,n.validationError=!0,d("address"===n.name?"address":"regexp",h));if(!E&&h.required&&(n.validationError=!o,n.validationError&&(E=!0,d("required",h))),!E&&h.min&&(n.validationError=o.length<h.min,n.validationError&&(E=!0,d("min",h))),!E&&h.max&&(n.validationError=o.length>h.max,n.validationError&&(E=!0,d("max",h))),!E&&h.regexp){var _=new RegExp(n.validation.regexp,"g");n.validationError=!!o&&!_.test(o),n.validationError&&(E=!0,d("regexp",h))}if(!E&&h.min_age&&(O=m(o))){var S=f(O);n.validationError=n.validation.min_age>S,n.validationError&&(E=!0,d("minage",h))}if(!E&&h.max_age&&(O=m(o))){S=f(O);n.validationError=n.validation.max_age<S,n.validationError&&d("maxage",h)}if(!E&&h.noFuture){var O=m(o);n.validationError=O>new Date,n.validationError&&(E=!0,d("future",h))}if(!c){var T=n.validationError;T&&!~e.invalidFields.indexOf(n.name)?r.default.set(e,"invalidFields",e.invalidFields.concat([n.name])):T||"address"===name||(e.invalidFields=e.invalidFields.filter((function(e){return e!==n.name})))}},formatDates:function(e){Object.keys(e.form).forEach((function(t){Object.keys(e.form[t]).forEach((function(n){if(~e.dateFields.indexOf(n)&&10===e.form[t][n].length){var r=e.form[t][n].split("."),o=r[0],c=r[1],l=r[2];e.form[t][n]=new Date(l,c-1,o).toISOString()}}))}))},updateFormField:function(e,t){var n=t.field,r=t.fieldValue;e.form[n.group][n.name]=r},setUnitInfo:function(e,t){e.form.passport.issue_place=t},setAdressSuggestion:function(e,t){if(t.city||(d.locality="county"),Object.keys(d).forEach((function(n){E(n,t,e)})),t.strucnum){var n=e.form.address.length?"/":"";e.form.address.building+=""+n+t.strucnum.value}e.form.address.address=t.formatted||"",e.form.address.postcode=""+(t.postalCode||"")}},S={},O={GET_SCORE:function(e){var t=e.commit;return o(this,void 0,void 0,(function(){var data,e;return c(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.$api.wallet.score.get()];case 1:return(data=n.sent())&&t("setScoreFromApi",data),[3,3];case 2:return e=n.sent(),this.$logger.error({exception:e}),[3,3];case 3:return[2]}}))}))}}},"2c8578":function(e,t,n){},"2c8a68":function(e,t,n){"use strict";var r=n("6d856b"),o=n.n(r);t.default=o.a},"2d0d7a":function(e,t,n){e.exports={icon:"_651b68",":hover":"d665ca",counter:"ef9580",pic:"c9f13a",title:"_440768",blink:"_1b6758"}},"2dd8b0":function(e,t,n){"use strict";var r=n("570f9b"),o=n.n(r);t.default=o.a},"2e2898":function(e,t,n){"use strict";var r=n("17e9e6"),o=[{href:"https://vk.com/ozon",title:"mVk",type:"ui"},{href:"https://www.facebook.com/ozon.ru",title:"mFb",type:"ui"},{href:"https://twitter.com/Ozon_ru/",title:"mTw",type:"ui"},{href:"https://www.instagram.com/ozonru/",title:"mInst",type:"ui"}],c={name:"SocialIcons",components:{LinksStub:r.a},computed:{socialList:function(){return o}}},l=n("a42aa4"),d=n("b429cb");var component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.share},e._l(e.socialList,(function(t){return n("LinksStub",{key:t.title,class:e.$style.shareLink,attrs:{href:t.href},on:{click:function(n){return e.$emit("clickOnItem",t)}}},[n("div",{class:[e.$style.sharePic,e.$style[t.title]]})])})),1)}),[],!1,(function(e){this.$style=l.default.locals||l.default}),null,null);t.a=component.exports},"2f83d0":function(e,t,n){e.exports={form:"b56dfc",blockRow:"a9d6e4",modMobile:"_763934",block:"_79ff87",elements:"_7dc81f",fieldset:"_542c95",blockTitle:"_3de333",fieldRow:"c0c9ed",field:"_94004e",blink:"_445148"}},"2fa8a1":function(e,t,n){e.exports={modal:"cb471c",title:"d2447c",content:"_45ae1f",actions:"bcd215",cancel:"e5a0f3",approve:"_6a2e99",blink:"_7c40db"}},"2faacb":function(e,t,n){},"30d258":function(e,t,n){"use strict";var r=n("4155b0"),o=n.n(r);t.default=o.a},314430:function(e,t,n){"use strict";var r="Отменить",o="Подтвердить",c={name:"CheckcartConfirmModal",components:{OzonButton:n("b902cb").b},props:{title:{type:String,default:"Подтвердите действие"},text:{type:String,default:void 0},hideRejectButton:{type:Boolean,default:!1},rejectButtonText:{type:String,default:r},resolveButtonText:{type:String,default:o}}},l=(n("5ff872"),n("b429cb")),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"confirm-modal"},[n("div",{staticClass:"title"},[e._v("\n    "+e._s(e.title)+"\n  ")]),e._v(" "),n("div",{staticClass:"confirm-modal-content"},[e._t("default",[e._v("\n      "+e._s(e.text)+"\n    ")])],2),e._v(" "),n("div",{class:["buttons",{"m-single":e.hideRejectButton}]},[e.hideRejectButton?e._e():n("OzonButton",{staticClass:"button",on:{click:function(t){return e.$emit("reject")}}},[e._v("\n      "+e._s(e.rejectButtonText)+"\n    ")]),e._v(" "),n("OzonButton",{staticClass:"button",attrs:{color:"blue","data-test-id":"checkcart-confirm-modal-confirm-button"},on:{click:function(t){return e.$emit("resolve")}}},[e._v("\n      "+e._s(e.resolveButtonText)+"\n    ")])],1)])}),[],!1,null,"1f4fa11a",null);t.a=component.exports},"323adb":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return y})),n.d(t,"mutations",(function(){return E})),n.d(t,"getters",(function(){return _})),n.d(t,"actions",(function(){return S}));n("42f576"),n("497371"),n("c08bb9"),n("12a106"),n("f8695b"),n("41d819"),n("aae158");var r=n("ed745a"),o=n("ff287e"),c=n.n(o),l=n("a1cf5d"),d=n.n(l),f=n("ffe2f9"),h=function(){return(h=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},m=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},v=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},y=function(){return{itemsHash:{},count:0,categoryId:0,listId:0,editMode:!1,catalogEditMode:!1,selectedItemsHash:{},filteredItemsCount:0,removedItems:[],sortedItems:[],activeFilters:[]}},E={setItemsHash:function(e,t){void 0===t&&(t={}),r.default.set(e,"itemsHash",t)},changeItemHash:function(e,t){var n=t.id,o=t.value;r.default.set(e.itemsHash,n,o)},clear:function(e){r.default.set(e,"itemsHash",{})},setCount:function(e,t){r.default.set(e,"count",t)},setCategoryId:function(e,t){r.default.set(e,"categoryId",t)},setEditMode:function(e,t){r.default.set(e,"editMode",t)},setCatalogEditMode:function(e,t){r.default.set(e,"catalogEditMode",t)},setSelectedItemsHash:function(e,t){void 0===t&&(t={}),r.default.set(e,"selectedItemsHash",t)},changeSelectedItemsHash:function(e,t){var n=t.id,o=t.value;r.default.set(e.selectedItemsHash,n,o)},setFilteredItemsCount:function(e,t){r.default.set(e,"filteredItemsCount",t)},setRemovedItems:function(e,t){void 0===t&&(t=[]),r.default.set(e,"removedItems",t)},setSortedItems:function(e,t){void 0===t&&(t=[]),r.default.set(e,"sortedItems",t)},setActiveFilters:function(e,t){void 0===t&&(t=[]),r.default.set(e,"activeFilters",t)}},_={count:function(e){return e.count||e.itemsHash&&Object.keys(e.itemsHash).length||0},categoryId:function(e){return e.categoryId||0},listId:function(e,t,n){return c()(n,"shared.favorites.listID",0)},selectedItems:function(e){return d()(e.selectedItemsHash)||d()(e.sortedItems)?[]:e.sortedItems.reduce((function(t,n){return t.concat(e.selectedItemsHash[n]?[n]:[])}),[])},allSelected:function(e){return!d()(e.selectedItemsHash)&&Object.keys(e.selectedItemsHash).every((function(t){return e.selectedItemsHash[t]}))},activeFilters:function(e){return e.activeFilters||[]}},S={GET_FAVORITES_COUNT:function(e){var t=e.commit;return m(this,void 0,void 0,(function(){var e,n;return v(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.$api.favorites.get()];case 1:return e=r.sent().count,t("setCount",e),[3,3];case 2:return n=r.sent(),this.$logger.error({exception:n,message:"favorites service error on get favorites count"}),[3,3];case 3:return[2]}}))}))},GET_FAVORITES:function(e){var t=e.commit,n=e.dispatch;return m(this,void 0,void 0,(function(){var e,r,o;return v(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),n("GET_FAVORITES_COUNT"),[4,this.$api.favorites.ids.get()];case 1:return e=c.sent(),r=(e||[]).reduce((function(e,t){return(e[t]=!0)&&e}),{}),t("setItemsHash",r),[3,3];case 2:return o=c.sent(),this.$logger.error({exception:o,message:"favorites service error on get favorites ids"}),[3,3];case 3:return[2]}}))}))},ADD:function(e,t){var n=e.dispatch,r=t.itemId;return m(this,void 0,void 0,(function(){var e;return v(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.$api.favorites.items.post(r)];case 1:return t.sent(),[2,n("GET_FAVORITES")];case 2:return e=t.sent(),this.$logger.error({exception:e,message:"favorites service error on add"}),[3,3];case 3:return[2]}}))}))},REMOVE:function(e,t){var n=e.dispatch,r=t.itemId;return m(this,void 0,void 0,(function(){var e;return v(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.$api.favorites.items.delete(r)];case 1:return t.sent(),[2,n("GET_FAVORITES")];case 2:return e=t.sent(),this.$logger.error({exception:e,message:"favorites service error on remove"}),[3,3];case 3:return[2]}}))}))},ADD_FAV:function(e,t){var n=e.commit,r=e.dispatch,o=t.itemId;return m(this,void 0,void 0,(function(){var e;return v(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,this.$api.favorites.items.post(o)];case 1:return t.sent(),n("changeItemHash",{id:o,value:!0}),[4,r("GET_FAVORITES_COUNT")];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),this.$logger.error({exception:e,message:"favorites service error on add"}),[3,4];case 4:return[2]}}))}))},REMOVE_FAV:function(e,t){var n=e.commit,r=e.dispatch,o=t.itemId;return m(this,void 0,void 0,(function(){var e;return v(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,this.$api.favorites.items.delete(o)];case 1:return t.sent(),n("changeItemHash",{id:o,value:!1}),[4,r("GET_FAVORITES_COUNT")];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),this.$logger.error({exception:e,message:"favorites service error on remove"}),[3,4];case 4:return[2]}}))}))},REFRESH_FAVORITES_LISTS:function(e){(0,e.dispatch)("TOGGLE_EDIT_MODE",!1)},REFRESH_FAVORITES:function(e,t){var n=t.id;return m(this,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return[4,this.dispatch("composer/GET_LAYOUT",{url:n?"/my/favorites/?list="+n:"/my/favorites/"})];case 1:return e.sent(),[2]}}))}))},SET_ACTIVE_CATEGORY:function(e){var t=e.rootState,n=e.commit,r=c()(t,"shared.favorites.filtersUrl","/"),o=c()(Object(f.a)(r),"searchParams.category",0);n("setCategoryId",Number(o))},SET_ACTIVE_FILTERS:function(e,t){(0,e.commit)("setActiveFilters",t)},ADD_ITEMS_TO_LIST:function(e,t){var n=t.skus,r=t.id;return m(this,void 0,void 0,(function(){var e;return v(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.$api.favoritesLists.addItemsToList.post({skus:n,id:r})];case 1:return t.sent(),[2,Promise.resolve(!0)];case 2:return e=t.sent(),this.$logger.error({exception:e,message:"favoritesLists service error on add item to list"}),[2,Promise.resolve(!1)];case 3:return[2]}}))}))},DELETE_LIST:function(e,t){var n=t.ids;return m(this,void 0,void 0,(function(){var e;return v(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.$api.favoritesLists.delete.post({ids:n})];case 1:return t.sent(),[2,Promise.resolve(!0)];case 2:return e=t.sent(),this.$logger.error({exception:e,message:"favoritesLists service error on remove list"}),[2,Promise.resolve(!1)];case 3:return[2]}}))}))},SET_ITEMS_HASH:function(e,t){var n=e.commit,r=t.items,o=t.value;n("setSelectedItemsHash",r?r.reduce((function(e,t){var n;return h({},e,((n={})[t]=o,n))}),{}):{}),n("setFilteredItemsCount",(r||[]).length)},GET_FILTERED_FAVORITE_ITEMS:function(e){var t=e.rootState,n=e.commit,r=e.dispatch;return m(this,void 0,void 0,(function(){var e,o,l,d;return v(this,(function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),e=c()(t,"shared.favorites.filtersUrl","/"),o="?"+e.split("?")[1]||!1,[4,this.$api.favoritesLists.getSkus.get(o)];case 1:return l=f.sent(),n("setSortedItems",l),r("SET_ITEMS_HASH",{items:l,value:!1}),[3,3];case 2:return d=f.sent(),this.$logger.error({exception:d,message:"favorites service error on get filtered skus"}),r("SET_ITEMS_HASH",{}),[3,3];case 3:return[2]}}))}))},TOGGLE_EDIT_MODE:function(e,t){var n=e.commit,r=e.dispatch;return m(this,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return n("setEditMode",t),t?[4,r("GET_FILTERED_FAVORITE_ITEMS")]:[3,2];case 1:return e.sent(),[3,3];case 2:r("SET_ITEMS_HASH",{}),e.label=3;case 3:return n("setCatalogEditMode",t),[2]}}))}))},TOGGLE_ITEM_SELECTED:function(e,t){var n=e.state,r=e.commit,o=t.itemId,c=n.selectedItemsHash;r("changeSelectedItemsHash",{id:o,value:!Object.hasOwnProperty.call(c,o)||!c[o]})},TOGGLE_SELECT_ALL_ITEMS:function(e){var t=e.state,n=e.getters,r=e.dispatch;return m(this,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return n.allSelected||0!==t.filteredItemsCount?[3,2]:[4,r("GET_FILTERED_FAVORITE_ITEMS")];case 1:e.sent(),e.label=2;case 2:return r("SET_ITEMS_HASH",{items:Object.keys(t.selectedItemsHash),value:!n.allSelected}),[2]}}))}))},REMOVE_SELECTED_ITEMS:function(e){var t=e.commit,n=e.dispatch,r=e.getters;return m(this,void 0,void 0,(function(){var e,o,c,l;return v(this,(function(d){switch(d.label){case 0:return d.trys.push([0,3,4,5]),e=r.listId,o=r.selectedItems,c=h({skus:o},e?{id:e}:{}),[4,this.$api.favoritesLists[e?"removeItemsFromList":"removeItems"].post(c)];case 1:return d.sent(),[4,n("REFRESH_FAVORITES",{id:e})];case 2:return d.sent(),t("setRemovedItems",o),[2,Promise.resolve(!0)];case 3:return l=d.sent(),this.$logger.error({exception:l,message:"favorites service error on remove"}),[2,Promise.resolve(!1)];case 4:return n("SET_ITEMS_HASH",{}),[7];case 5:return[2]}}))}))},RESTORE_REMOVED_ITEMS:function(e){var t=e.state,n=e.dispatch,r=e.getters;return m(this,void 0,void 0,(function(){var e,o,c;return v(this,(function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),t.removedItems.length?(e=r.listId,o=h({skus:t.removedItems},e?{id:e}:{}),[4,this.$api.favoritesLists[e?"addItemsToList":"addItems"].post(o)]):[2];case 1:return l.sent(),[4,n("REFRESH_FAVORITES",{id:r.listId})];case 2:return l.sent(),[3,4];case 3:return c=l.sent(),this.$logger.error({exception:c,message:"favorites service error on add items"}),[3,4];case 4:return[2]}}))}))}}},"33300a":function(e,t,n){"use strict";var r=n("3aacf1"),o=n("a17947"),c=n("e245b5"),l={isEmpty:function(e){return c.a.isPhoneEmpty(e)},isInvalid:function(e){return!c.a.isPhoneValid(e)}},d=n("039d9b");n.d(t,"a",(function(){return h}));var f=function(){return(f=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},h=f({},d.a,{id:r.a.PHONE,placeholder:"Телефон",value:o.b,mask:o.a,withIcon:!1,type:"text",autofocus:!0,required:!0,checkRules:{checkRulesPhone:l}})},"34372b":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o})),n.d(t,"getters",(function(){return c})),n.d(t,"actions",(function(){return l}));var r=function(){return{}},o={},c={},l={}},"34cf18":function(e,t,n){"use strict";var r=n("84bb94"),o=n.n(r);t.default=o.a},"35e16c":function(e,t,n){"use strict";var r=n("2fa8a1"),o=n.n(r);t.default=o.a},"360a68":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o})),n.d(t,"getters",(function(){return c}));n("42f576");var r=function(){return{config:{}}},o={setApplicationConfig:function(e,t){e.config=t}},c={clientName:function(e){var t,n=e.config,r=n.version||"";if(r)t=r;else{var o=n.commit&&n.commit.split(":")[1];o&&(t=o.slice(0,6))}return t?"ozon_new_"+t:"ozon_new"}}},"361dc1":function(e,t,n){e.exports={"swiper-slide":"_5a862f",blink:"b3bb67"}},"36390c":function(e,t,n){"use strict";var r=n("cb4790"),o=n.n(r);t.default=o.a},"36f06f":function(e,t,n){"use strict";n.r(t);var r={FavoritesCategoriesTree:{content:function(){return n.e(183).then(n.bind(null,"4577c2"))},extendPlaces:!0,places:["grid-column.default","search-results-filters.search-result-filters-placeholder"]},FavoritesShoppingLists:{content:{desktop:function(){return Promise.all([n.e(0),n.e(190)]).then(n.bind(null,"f1e549"))},mobile:function(){return Promise.all([n.e(1),n.e(0),n.e(194)]).then(n.bind(null,"2473f9"))}},extendPlaces:!0,places:["grid-column.default","block-vertical.default","mobile-header-container.panel-placeholder"]},FavoritesEditListPanel:{content:{desktop:function(){return Promise.all([n.e(1),n.e(0),n.e(187)]).then(n.bind(null,"69f4bf"))},mobile:function(){return Promise.all([n.e(0),n.e(191)]).then(n.bind(null,"eabcf5"))}},extendPlaces:!0,places:["header-container.panel-placeholder"]},FavoritesHeaderContainer:{content:function(){return Promise.all([n.e(0),n.e(189)]).then(n.bind(null,"747143"))}},FavoritesSearchResultsSort:{content:function(){return Promise.all([n.e(0),n.e(184)]).then(n.bind(null,"9dc09e"))},extendPlaces:!0,places:["block-vertical.default","header-container.filters-placeholder","mobile-header-container.filters-placeholder"]},FavoritesSearchResultsFilters:{content:{desktop:function(){return n.e(188).then(n.bind(null,"4317c0"))},mobile:function(){return Promise.all([n.e(0),n.e(192)]).then(n.bind(null,"621875"))}},extendPlaces:!0,places:["search-results-sort.filters-placeholder"]},FavoritesSharedListViewHeader:{content:{desktop:function(){return Promise.all([n.e(0),n.e(186)]).then(n.bind(null,"955c9f"))},mobile:function(){return Promise.all([n.e(0),n.e(193)]).then(n.bind(null,"6ca25a"))}}},FavoritesSearchResultsV2:{content:function(){return Promise.all([n.e(1),n.e(4),n.e(0),n.e(185)]).then(n.bind(null,"744700"))}},FavoritesSwitcher:{content:function(){return Promise.all([n.e(0),n.e(195)]).then(n.bind(null,"14e6ef"))}},FavoritesSearchResultsFiltersActive:{content:function(){return Promise.all([n.e(0),n.e(31)]).then(n.bind(null,"0cb940"))},extendPlaces:!0,places:["header-container.active-filters-placeholder"]}};t.default=r},372617:function(e,t,n){"use strict";var r=n("dbfd67"),o=n.n(r);t.default=o.a},"3728f9":function(e,t,n){"use strict";var r={};r.parseUA=n("01c783"),r.parseUA=r.parseUA.default||r.parseUA,t.a=r},"37885a":function(e,t,n){e.exports={content:"_107dbc",modPremiumBannerDetailsRecurrentPrice:"_7b4394",modPremiumBannerDetailsTotalPrice:"_3f9158",price:"_218e72",originalPrice:"_9307d0",blink:"c912bd"}},"384e52":function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("12a106");var r=n("5eabea"),o=(n("5dd61c"),n("66914a"),n("c08bb9"),n("aae158"),n("fcdb9f"),n("497371"),{"!":{escape:!0},"#":{pattern:/\d/},X:{pattern:/[0-9a-zA-Zа-яА-Я]/},S:{pattern:/[a-zA-Zа-яА-Я]/},A:{pattern:/[a-zA-Zа-яА-Я]/,transform:function(e){return e.toLocaleUpperCase()}},a:{pattern:/[a-zA-Zа-яА-Я]/,transform:function(e){return e.toLocaleLowerCase()}}});function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var l={SHORT:"m-short",ERROR:"m-error",MATERIAL:"m-material",GRAY:"m-gray",ZERO_SIDE_PADDING:"m-side-padding-zero",BLUE_BORDER:"m-blue-border",NEW_STYLE:"m-new-style"},d={name:"OzonInput",props:{value:{type:[String,Number],default:""},placeholder:{type:String,default:""},id:{type:String,default:void 0},type:{type:String,default:"text",validator:function(e){return-1!==["text","password","number","email","url","tel","date","time"].indexOf(e)}},maxlength:{type:[Number,String],default:void 0},min:{type:[Number,String],default:void 0},max:{type:[Number,String],default:void 0},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},mods:{type:Array,default:function(){return[]},validator:function(e){return 0===e.filter((function(e){return-1===Object.values(l).indexOf(e)})).length}},mask:{type:String,default:""},dataTestId:{type:String,default:""}},data:function(){return{lastValue:"",lastMask:""}},watch:{mask:function(e,t){if(e!==t&&e.length){var n=this.$refs.inputEl.value;this.maskedHandler(n)}}},mounted:function(){this.autofocus&&this.$refs.inputEl.focus()},methods:{onInput:function(e){var t=e.target.value;this.mask?this.maskedHandler(t):this.$emit("input",t)},onFocus:function(e){this.$emit("focus",e);var t=this.$refs.inputEl,n=t.value&&t.value.length||0;["number","date","time"].includes(this.type)||this.$refs.inputEl.setSelectionRange(n,n)},maskedHandler:function(e){var t=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},function(e,mask){void 0===e&&(e=""),void 0===mask&&(mask="");for(var t=0,n=0,r=[],c=[];t<mask.length&&n<e.length;){var l=mask[t],d=e[n],f=o[l];if(f&&!f.escape){if(f.pattern&&f.pattern.test(d)){var h=f.transform?f.transform(d):d;r.push(h),c.push(h),t++}n++}else f&&f.escape&&(l=mask[++t]),r.push(l),d===l&&n++,t++}for(var m=[];t<mask.length;){l=mask[t];if(o[l]){if(o[l].escape){var v=mask[t+1];v&&(m.push(v),t+=2);continue}m.splice(0);break}m.push(l),t++}return{masked:r.concat(m).join(""),raw:c.join("")}}(e,this.mask)),n=t.masked,l=t.raw;if(e.length<=this.lastValue.length)return this.$emit("input",e),void(this.lastValue=e);n!==this.lastValue?(this.lastValue=n,this.$emit("input",n),this.$emit("rawValue",l)):this.$refs.inputEl.value=n}}},f=(n("d56969"),n("b429cb"));n.d(t,"b",(function(){return l}));var component=Object(f.a)(d,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{ref:"inputEl",class:["input"].concat(e.mods),attrs:{id:e.id,"data-test-id":e.dataTestId,disabled:e.disabled,max:e.max,maxlength:e.maxlength,min:e.min,placeholder:e.placeholder,type:e.type,autocomplete:"off"},domProps:{value:e.value},on:{blur:function(t){return e.$emit("blur",t)},click:function(t){return e.$emit("click",t)},focus:function(t){return e.onFocus(t)},input:function(t){return e.onInput(t)},keydown:function(t){return e.$emit("keydown",t)},keyup:function(t){return e.$emit("keyup",t)}}})}),[],!1,null,"78efcbd8",null);t.a=component.exports},"386ba3":function(e,t,n){"use strict";var r=n("785018"),o=n.n(r);t.default=o.a},"3874e2":function(e,t,n){"use strict";var r=n("b8e6a0"),o=n.n(r);t.default=o.a},"38e724":function(e,t,n){e.exports={product:"_0631b8",imageBlock:"_0017a1",blink:"ab65af"}},"3921fa":function(e,t,n){"use strict";var r=n("3d3033");n.n(r).a},"39ba29":function(e,t,n){"use strict";var r=n("7d3a04"),o=n.n(r);t.default=o.a},"39e005":function(e,t,n){"use strict";var r=n("431dc3"),o=n.n(r);t.default=o.a},"39f766":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c}));var r,o={MOBILE:"MA",DESKTOP:"DT",FORCED_DESKTOP:"MDT"};!function(e){e.FBO="FBO",e.FBS="FBS",e.CROSS_BORDER="CROSSBORDER",e.DIGITAL="DIGITAL",e.DIGITAL_CERTIFICATE="DIGITALCERT",e.PRE_RELEASE="PRERELEASE",e.MERCHANT="MERCHANT",e.SUBSCRIPTION="SUBSCRIPTION"}(r||(r={}));var c="RUS"},"3aacf1":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.PHONE="phone",e.EMAIL="email",e.FULL_NAME="fullName",e.USER_NAME="userName",e.BIRTHDAY="birthday",e.PASSWORD="password",e.NEW_PASSWORD="newPassword",e.OLD_PASSWORD="oldPassword",e.DISCOUNT_CODE="discountCode",e.PATRONYMIC="patronymic",e.PASSPORT="passport",e.RELEASE_DATE="releaseDate",e.DEPARTMENT_CODE="departmentCode",e.RECEIVING_ADDRESS="receivingAddress",e.BIRTHPLACE="birthplace",e.REGISTRAQTION_ADDRESS="registrationAddress",e.FIRST_NAME="firstName",e.LAST_NAME="lastName",e.NAME="name",e.INN="inn",e.KPP="kpp",e.ADDRESS="address",e.FACT_ADDRESS="factAddress",e.ACCOUNT_NUMBER="accountNumber",e.BANK_NAME="bankName",e.CORRESP_NUMBER="correspNumber",e.BIC="bic",e.CITY="city",e.OKPO="okpo",e.OKVED="okved",e.FAX="fax"}(r||(r={}))},"3b0cdb":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return C})),n.d(t,"mutations",(function(){return k})),n.d(t,"actions",(function(){return P}));n("340dbd"),n("88baaa"),n("12a106");var r=n("8fd32c"),o=(n("29141d"),n("c08bb9"),n("b82e15"),n("f8695b"),n("41d819"),n("aae158"),n("bbfe95")),c=n("ff287e"),l=n.n(c),d=n("f2ef6f"),f=n.n(d),h=n("57fe5d"),m=n.n(h),v=n("ed745a"),y=n("498869"),E=n("6ca366"),_=n("da0937"),S=function(){return(S=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},O=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},T=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},I=function(e,t){if(f()(e))return t},w=function(e){return Object.entries(e).reduce((function(e,t){var n=t[0],r=t[1];return n.toLowerCase().startsWith("x-o3")&&(e[n]=r),e}),{})},C=function(){return{}},k={setRootState:function(e,body){var t=Object.assign({},e,body);this.replaceState(t),window.__NUXT__.state=t},mergeRootState:function(e,body){Object.assign(e,m()({},e,body,I))},deepSet:function(e,t){t.map&&Object(r.a)(t.map)&&(t.value=t.map(t.value),delete t.map),Object(y.VUEX_DEEP_SET)(e,t)},customCommit:function(e,t){t(e)},removeWidgetByPath:function(e,t){var n=t.layoutPath,r=t.index,o=n?l()(e.layout,n):e.layout;o instanceof Array&&o.splice(r,1)},setO3params:function(e,data){e.o3Params=Object.assign(e.o3Params||{},data)},setLayoutModal:function(e,t){v.default.set(e,"layoutModal",t)},setLayoutModalOptions:function(e,t){var n=t.options,data=t.data,r=void 0===n.showModal||n.showModal,o=S({},n,{showModal:r});"function"==typeof r&&(o.showModal=r(data)),v.default.set(e.shared,"layoutModalOptions",o)},setLayoutNotify:function(e,t){v.default.set(e,"layoutNotify",t)},setLayoutNotifyOptions:function(e,t){var n=t.options,r=void 0===n?{}:n,data=t.data,o=void 0===r.showNotify||r.showNotify,c=S({},r,{showNotify:o});"function"==typeof o&&(c.showNotify=o(data)),c.atoms&&c.atoms.length&&(c.nuclear=!0,delete c.atoms),v.default.set(e.shared,"layoutNotifyOptions",c)}},P={nuxtServerInit:function(e,t){return O(this,void 0,void 0,(function(){var n,r,c,body,d,f,h,m,v,y,E,O,I,C;return T(this,(function(T){switch(T.label){case 0:return n=l()(t,"store._actions",{}),r=Object.keys(n).filter((function(e){return e.match(/(.*)\/nuxtServerInit/)})),c=t.req,body=c.body,d=c.composerDebug,f=c.isComposer,h=c.apiVersion,body.apiVersion=parseInt(h),f?(body&&0!==Object.keys(body).length||(m=new _.a(o.o.COMPOSER_EMPTY_BODY),body={},this.$logger.error(m.getLoggerMessage(d))),body.isComposer=!0,d&&(body.debug=body.debug||{},body.debug.composer=d),body.shared&&"string"==typeof body.shared&&(body.shared=JSON.parse(body.shared)),e.commit("setRootState",body),[4,e.dispatch("authorization/MARK_AS_CHECKED")]):[3,2];case 1:return T.sent(),[3,6];case 2:return[4,e.dispatch("CHECK_TOKEN",t)];case 3:return T.sent(),[4,e.dispatch("userInfo/REFRESH_USER_DEPENDENCIES")];case 4:return T.sent(),v=[e.dispatch("cms/footer/GET_FOOTER")],this.isMobile||v.push(e.dispatch("cms/header/GET_HEADER"),e.dispatch("menu/GET_HORIZONTAL_MENU")),[4,Promise.all(v)];case 5:T.sent(),T.label=6;case 6:y=0,E=r,T.label=7;case 7:return y<E.length?(O=E[y],[4,e.dispatch(O,t)]):[3,10];case 8:T.sent(),T.label=9;case 9:return y++,[3,7];case 10:return I=w(c.headers),C=w(c.cookie),e.commit("setO3params",S({},I,C)),[2]}}))}))},MERGE_ROOT_STATE:function(e,t){var n=e.commit;return O(this,void 0,void 0,(function(){return T(this,(function(e){return n("mergeRootState",t),[2]}))}))},CHECK_TOKEN:function(e,t){var n=e.dispatch,r=t.req,o=t.res,c=t.store;return O(this,void 0,void 0,(function(){var e;return T(this,(function(t){switch(t.label){case 0:return[4,n("authorization/MARK_AS_CHECKED")];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,7,,8]),[4,E.a({store:c,req:r})];case 3:return t.sent(),[4,E.c({store:c,res:o,reason:"appinit"})];case 4:return t.sent(),[3,6];case 5:t.sent(),t.label=6;case 6:return[3,8];case 7:return e=t.sent(),this.$logger.error({exception:e}),[3,8];case 8:return[2]}}))}))},USER_DEPENDENSES_UPDATED:function(){},PROGRAM_SCROLL_START:function(){},PROGRAM_SCROLL_STOP:function(){}}},"3c34bb":function(e,t,n){"use strict";var r=n("bb54a7"),o=n.n(r);t.default=o.a},"3c6c86":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o})),n.d(t,"getters",(function(){return c})),n.d(t,"actions",(function(){return l}));var r=function(){return{}},o={},c={},l={}},"3cc9a1":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("4a02d3"),o=function(){return{version:"2",actionType:r.EActionTypes.PAGE_VIEW_ACTION,object:{type:"page"}}}},"3ced62":function(e,t,n){"use strict";n("f8695b"),n("41d819"),n("aae158");var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},o=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},c={name:"ComposerLink",props:{href:{type:[String,Boolean],default:!1},method:{type:String,default:"push"},silent:{type:Boolean,default:!1}},methods:{changeRoute:function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){return this.$attrs.target||!this.href?(this.$emit("click",e),[2]):(e.preventDefault(),t=!!e&&(e.ctrlKey||e.metaKey||2===e.which),this.$emit("click",e),t?this.$composerRouter.redirect(this.href,"_blank"):this.$composerRouter[this.method](this.href,{silent:this.silent}),[2])}))}))}}},l=n("b429cb"),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("a",{attrs:{href:e.href||!1},on:{click:function(t){return e.changeRoute(t)}}},[e._t("default")],2)}),[],!1,null,null,null);t.a=component.exports},"3d3033":function(e,t,n){},"3f58b0":function(e,t,n){"use strict";var r=n("dbf9bf"),o=n.n(r);t.default=o.a},"3f921b":function(e,t,n){"use strict";var r,o;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e.PAGE_VIEW="page_view",e.VIEW="view",e.CLICK="click",e.SELECT="select",e.UNSELECT="unselect",e.ADD="add",e.CLOSE="close",e.CLEAR="clear",e.INCREMENT="increment",e.DECREMENT="decrement",e.DISLIKE="dislike",e.LIKE="like",e.SET="set",e.TO_CART="to_cart",e.REMOVE="remove",e.AVAIL_ON="avail_on",e.AVAIL_OF="avail_of",e.FAVORITE="favorite",e.UNFAVORITE="unfavorite",e.COMPARE="compare",e.UNCOMPARE="uncompare",e.FULL_VIEW="full_view",e.RETURN="return",e.PRE_ORDER="pre_order",e.CANCEL="cancel",e.CANCEL_CONFIRM="cancel_confirm",e.TO_CHECKOUT="to_checkout",e.TO_CREDIT_CHECKOUT="to_credit_checkout",e.BACK_TO_CART="back_to_cart",e.BUTTON_CLICK_ADDRESS_CHANGE="button_click_address_change",e.CHANGE_DELIVERY_SERVICE="change_delivery_service",e.CHANGE_SAFE_ADDRESS="change_safe_address",e.SELECT_DELIVERY="select_delivery",e.CHANGE_DUE="change_due",e.CHANGE_TIME_SLOT="change_time_slot",e.ORDER="order",e.PROMOCODE_ACTIVATION="promocode_activation",e.SELECT_ADDRESS="select_address",e.COURIER_MAP_VIEW="courier_map_view",e.SUGGEST_REGION="suggest_region",e.SUGGEST_COUNTRY="suggest_country",e.SUGGEST_ADDRESS="suggest_address",e.MAP_ADDRESS="map_address",e.MAP_REGION="map_region",e.REVERSE_GEOCODE_FAIL="reverse_geocode_fail",e.CLICK_ALL_PAYMENT="click_on_all_payment",e.PAYMENT_SUCCESS="payment_success",e.SEARCH="search",e.SEARCH_HELPER="search_helper",e.CHOOSE_DEPARTAMENT="choose_department",e.LOGIN="login",e.LOGOUT="logout",e.REGISTRATION="registration",e.PHONE_CHANGE="phone_change",e.EMAIL_CHANGE="email_change",e.LOGIN_CHANGE="login_change",e.PASSWORD_CHANGE="password_change",e.REPORT="report",e.CARD_ORDER_CLICK="card_order_button_click",e.CARD_NEXT_BUTTON_CLICK="next_button_click",e.CARD_NAVI_CLICK="navigation_click",e.CARD_TERMS_CLICK="terms_of_use_link_click",e.CARD_DONE_BUTTON_CLICK="done_button_click"}(r||(r={})),function(e){e.PRODUCT="product",e.BANNER="banner",e.WIDGET="widget",e.SELLER="seller",e.PRODUCT_REVIEW="product_review",e.POSTING="posting",e.FILTER="filter",e.SORTING="sorting",e.CATEGORY="category",e.SEARCH_STRING="search_string",e.SUGGEST="suggest",e.ORDER="order",e.CART="cart",e.PAGE="page",e.CUSTOMER="customer",e.PROMOCODE="promocode",e.DELIVERY="delivery",e.DELIVERY_POINT="delivery_point",e.TIME_SLOT="time_slot",e.PAYMENT="payment",e.BRAND="brand",e.CROSSLINKS="crosslinks",e.DEPARTAMENTS="departments",e.PREMIUM="premium",e.SIZE_TABLE="size_table",e.CARD="ozon_card",e.CLOTHES_MODEL_PARAMETERS="model_parametrs"}(o||(o={}))},"3fa93b":function(e,t,n){"use strict";var r={name:"Logo",components:{LinksStub:n("17e9e6").a},props:{link:{type:String,default:""},image:{type:String,default:""},theme:{type:String,default:"2"}},computed:{background:function(){return this.image?{backgroundImage:"url('"+this.image+"')"}:{}}}},o=n("fe4c6d"),c=n("b429cb");var component=Object(c.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:this.$style.logo},[t("LinksStub",{class:[this.theme,this.$style.image],style:this.background,attrs:{href:this.link}})],1)}),[],!1,(function(e){this.$style=o.default.locals||o.default}),null,null);t.a=component.exports},"4155b0":function(e,t,n){e.exports={title:"_199356",item:"_787cbf",image:"d7aa5d",itemText:"c519ab",itemDeliveryText:"_606065",blink:"_22e6de"}},"418e06":function(e,t,n){"use strict";n("5dd61c"),n("66914a"),n("578d8d");var r=n("b274b9"),o={name:"Product",components:{CDNImage:n("05da3f").a},props:{image:{type:Object,default:function(){return{image:"",borderColor:""}}},elements:{type:Array,default:function(){return[]}},mods:{type:Array,default:function(){return[]}}},computed:{imageUrl:function(){return this.image.image},imageStyle:function(){return{borderColor:this.image.borderColor}}},methods:{getElementComponent:function(element){return Object(r.b)(element.type)}}},c=n("1f8f91"),l=n("b429cb");var d={name:"AtomProductsList",components:{Product:Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.product},[n("div",{class:e.$style.imageBlock,style:e.imageStyle},[e.imageUrl?n("CDNImage",{attrs:{size:40,src:e.imageUrl}}):e._e()],1),e._v(" "),n("div",{class:e.$style.content},e._l(e.elements,(function(element,t){return n(e.getElementComponent(element),e._b({key:t,tag:"component"},"component",Object.assign({},element,{mods:e.mods}),!1))})),1)])}),[],!1,(function(e){this.$style=c.default.locals||c.default}),null,null).exports},props:{products:{type:Array,default:function(){return[]}},mods:{type:Array,default:function(){return[]}}},methods:{onClick:function(){this.$emit("click",this.link)}}},f=n("6f5e0f");var h=Object(l.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.products,(function(t,r){return n("Product",{key:r,class:e.$style.product,attrs:{elements:t.elements,image:t.image,mods:e.mods}})})),1)}),[],!1,(function(e){this.$style=f.default.locals||f.default}),null,null).exports,m={name:"SplitProduct",props:{elements:{type:Array,default:function(){return[]}},mods:{type:Array,default:function(){return[]}}},methods:{getElementComponent:function(element){return Object(r.b)(element.type)}}},v=(n("eb30e0"),Object(l.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"product"},e._l(e.elements,(function(element,t){return n(e.getElementComponent(element),e._b({key:t,tag:"component"},"component",element,!1))})),1)}),[],!1,null,"70c1c730",null).exports),y={name:"AtomProductsSlider",components:{Product:v},props:{products:{type:Array,default:function(){return[]}},mods:{type:Array,default:function(){return[]}},link:{type:String,default:""}},computed:{enableHiddenItemsMechanics:function(){return!this.isMobile},isMoreButtonVisible:function(){return this.enableHiddenItemsMechanics&&this.products.length>5},moreButtonText:function(){return"Все (".concat(this.products.length,")")},visibleItems:function(){return this.enableHiddenItemsMechanics?this.products.slice(0,5):this.products}},methods:{onClick:function(){this.$emit("click",this.link)}}},E=n("953f90");var _=Object(l.a)(y,(function(){var e,t,n=this,r=n.$createElement,o=n._self._c||r;return o("div",{class:[n.$style.productsWrapper,(e={},e[n.$style.modMobile]=n.isMobile,e)]},[o("div",{class:[n.$style.products,(t={},t[n.$style.modMobile]=n.isMobile,t)]},[n._l(n.visibleItems,(function(e,t){return o("Product",{key:t,attrs:{elements:e.elements,mods:n.mods}})})),n._v(" "),n.isMoreButtonVisible?o("button",{class:n.$style.moreButton,on:{click:n.onClick}},[n._v("\n      "+n._s(n.moreButtonText)+"\n    ")]):n._e()],2)])}),[],!1,(function(e){this.$style=E.default.locals||E.default}),null,null).exports,S={name:"AtomProducts",props:{mods:{type:Array,default:function(){return[]}}},computed:{component:function(){return this.mods.includes("modAddressEditUnavailableItems")?h:_}},methods:{onClick:function(link){this.$emit("click",link)}}},O=Object(l.a)(S,(function(){var e=this.$createElement;return(this._self._c||e)(this.component,this._b({tag:"component",on:{click:this.onClick}},"component",Object.assign({},this.$attrs,{mods:this.mods}),!1))}),[],!1,null,null,null);t.a=O.exports},"41a9d4":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.ITEM=0]="ITEM",e[e.PRICE=1]="PRICE"}(r||(r={}))},425233:function(e,t,n){"use strict";var r=n("d8a3d1");n.n(r).a},"431dc3":function(e,t,n){e.exports={textMedium:"b4a242",modClickable:"f151e2",modAddressEditDetail:"_27d205",modWithExtraPadding:"_41dc09",modAddressInfo:"_4fb26d",modPaymentInfo:"_0ba64d",modAddressEditUnavailableItems:"d4edd9",modAtomList:"_1017fb",modPremiumBanner:"fb3a97",modMobile:"_799668",modAddressEditFormPrompt:"_7f4d5a",modAddressBook:"d17c66",imageWrapper:"d3de69",image:"c74f12",description:"_1018f5",text:"bd2f13",innerText:"_21d4e3",modSingleLine:"_276699",innerTextButton:"_354f01",modNotification:"dd8dfd",blink:"_5879a9"}},"43bd26":function(e,t,n){},"454a6a":function(e,t,n){"use strict";n.r(t);var r={RmsItemList:{content:function(){return Promise.all([n.e(1),n.e(0),n.e(9)]).then(n.bind(null,"cd9e45"))}},RmsStartReturn:{content:function(){return Promise.all([n.e(1),n.e(0),n.e(9)]).then(n.bind(null,"cd9e45"))}},RmsReturnsCardsList:{content:function(){return Promise.all([n.e(1),n.e(10)]).then(n.bind(null,"129023"))}},RmsReturnList:{content:function(){return Promise.all([n.e(1),n.e(10)]).then(n.bind(null,"129023"))}}};t.default=r},458910:function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("12a106"),n("aae158");var r=n("5eabea"),o=(n("2c09af"),n("dc77a5")),c=(n("e28425"),n("ed745a")),l=n("0d55f1"),d=n.n(l),f=n("5ddbed"),h=n("79116e"),m=function(){return Object(h.j)(n.e(230).then(n.bind(null,"61dba8")))},v=function(){return Object(h.j)(n.e(228).then(n.bind(null,"595d1c")))},y=function(){return Object(h.j)(n.e(229).then(n.bind(null,"e19477")))},E=function(){return Object(h.j)(Promise.all([n.e(1),n.e(2),n.e(0),n.e(300)]).then(n.bind(null,"b1b76d")))};c.default.use(f.a);var _=function(e,t,n){return n||{x:0,y:0}};var S=n("f0fc91");function O(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var T=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):O(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},n.n(S).a,{name:"NoSsr"}),I={name:"NuxtChild",functional:!0,props:{nuxtChildKey:{type:String,default:""},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0}},render:function(e,t){var n=t.parent,data=t.data,r=t.props;data.nuxtChild=!0;for(var o=n,c=n.$nuxt.nuxt.transitions,l=n.$nuxt.nuxt.defaultTransition,d=0;n;)n.$vnode&&n.$vnode.data.nuxtChild&&d++,n=n.$parent;data.nuxtChildDepth=d;var f=c[d]||l,h={};w.forEach((function(e){void 0!==f[e]&&(h[e]=f[e])}));var m={};C.forEach((function(e){"function"==typeof f[e]&&(m[e]=f[e].bind(o))}));var v=m.beforeEnter;m.beforeEnter=function(e){if(window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")})),v)return v.call(o,e)};var y=[e("router-view",data)];return r.keepAlive&&(y=[e("keep-alive",{props:r.keepAliveProps},y)]),e("transition",{props:h,on:m},y)}},w=["name","mode","appear","css","type","duration","enterClass","leaveClass","appearClass","enterActiveClass","enterActiveClass","leaveActiveClass","appearActiveClass","enterToClass","leaveToClass","appearToClass"],C=["beforeEnter","enter","afterEnter","enterCancelled","beforeLeave","leave","afterLeave","leaveCancelled","beforeAppear","appear","afterAppear","appearCancelled"],k=(n("340dbd"),n("cb1771"),n("aef563"),n("5dd61c"),n("66914a"),n("6876d5")),P=n("9dd930"),R=n("8619a0"),x=n("ff287e"),A=n.n(x);function L(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var D={components:{OzonHeader:P.a,HeaderMobile:R.a},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):L(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(k.c)({getParams:"cms/header/getParamsByStateId"}),{widgetState:function(){return this.getParams("default")},logo:function(){return A()(this.widgetState,"logo")||{}}}),created:function(){this.isMobile||this.getFullMenu()},methods:{getFullMenu:function(){this.$store.dispatch("menu/GET_CATEGORY_MENU")}}},$=n("b429cb"),header=Object($.a)(D,(function(){var e=this.$createElement,t=this._self._c||e;return this.isMobile?t("HeaderMobile",{directives:[{name:"qa",rawName:"v-qa:id",value:"header",expression:"'header'",arg:"id"}]}):t("OzonHeader",{directives:[{name:"qa",rawName:"v-qa:id",value:"header",expression:"'header'",arg:"id"}],attrs:{image:this.logo.image,link:this.logo.link}})}),[],!1,null,null,null).exports,M=n("16e75f"),N=n("667e87"),j=n("6823ad");function F(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var B={components:{OzonIcon:j.a},data:function(){return{hasCookies:!1}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?F(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):F(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(k.e)({isBot:function(e){return e.browser.isBot}})),mounted:function(){Object(N.b)("o_cdm")&&(this.hasCookies=!0)},methods:{setCookies:function(){var e=new Date,t=new Date(Date.now()+31536e6);Object(N.d)("o_cdm",e,{expires:t}),this.hasCookies=!0}}},U=(n("3921fa"),Object($.a)(B,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("no-ssr",[e.hasCookies||e.isBot?e._e():r("div",{ref:"cookiesInfo",staticClass:"cookies-info"},[r("button",{staticClass:"close",attrs:{"aria-label":"Закрыть сообщение"},on:{click:e.setCookies}}),e._v(" "),r("OzonIcon",{staticClass:"icon",attrs:{height:24,icon:n("372d48"),width:24}}),e._v(" "),r("p",[e._v("\n        Используя сайт OZON, вы соглашаетесь с использованием файлов cookie\n        "),e.isMobile?e._e():r("span",[e._v("\n          и сервисов сбора технических данных посетителей (IP-адресов, местоположения и др.)\n          для обеспечения работоспособности и улучшения качества обслуживания.\n        ")]),e._v(" "),r("a",{attrs:{href:"https://docs.ozon.ru/common/pravila-prodayoi-i-rekvizity/konfidentsial-nost-personal-noj-informatsii/"}},[e._v("\n          Подробнее\n        ")])])],1)])],1)}),[],!1,null,"47ef228a",null).exports),G=n("9d61e8"),V=n("ffe2f9"),H=n("670dd8"),z=n.n(H),input=n("b8ef3b"),Y=n.n(input),W=n("df2fe1"),K=n("331f86"),X=n.n(K);function Q(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Z(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Q(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Q(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var J,ee,te,ne={name:"LocationModal",components:{OzonModal:W.a,OzField:z.a,OzInput:Y.a},data:function(){return{getLocation:X()(this.onInput,200),focusedItemIndex:-1,suggestions:[],loading:!1,value:""}},computed:Z({},Object(k.e)({location:function(e){return e.location},show:function(e){return e.location.showLocationModal},current:function(e){return e.location.current}})),watch:{show:function(e){e?this.init():this.reset()}},methods:Z({},Object(k.b)({setShowLocationModal:"location/SET_SHOW_LOCATION_MODAL",updateSuggested:"location/GET_LOCATION"}),{init:(te=Object(o.a)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateSuggested();case 2:t=e.sent,n=t.suggested,this.suggestions=n;case 5:case"end":return e.stop()}}),e,this)}))),function(){return te.apply(this,arguments)}),setLocation:function(e){this.$store.dispatch("location/CHANGE_LOCATION",e),this.close()},getSuggestions:(ee=Object(o.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,this.$api.location.search.get({query:t});case 4:this.suggestions=e.sent,this.loading=!1,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),this.loading=!1,this.$logger.error({exception:e.t0});case 12:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return ee.apply(this,arguments)}),onInput:(J=Object(o.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.trim()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getSuggestions(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return J.apply(this,arguments)}),calcIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"down",t=this.focusedItemIndex,n=this.suggestions.length;return"up"===e?t<=0?n-1:t-1:n-1===t?0:t+1},movedToActiveSuggestions:function(e){this.focusedItemIndex=this.calcIndex(e),this.value=this.suggestions[this.focusedItemIndex].fullName||"",this.scrollToSeletedItem()},onKeydown:function(e){switch(e.keyCode){case 38:this.movedToActiveSuggestions("up");break;case 27:this.reset();break;case 9:case 40:this.movedToActiveSuggestions("down");break;case 13:var t=this.suggestions[this.focusedItemIndex]||this.suggestions[0];t&&this.setLocation(t)}},reset:function(){this.suggestions=[],this.focusedItemIndex=-1,this.value=""},scrollToSeletedItem:function(){var e=this,t=this.$refs.suggestions,n=t.scrollTop,r=t.clientHeight,o=t.childNodes;this.$nextTick((function(){if(e.$refs.suggestions){var t=o[e.focusedItemIndex],c=t.offsetTop,l=c+t.offsetHeight;(n+r<=l||c>n)&&t.scrollIntoView(!0)}}))},styleLink:function(e){return[this.$style.selectItem,Object(r.a)({},this.$style.active,this.focusedItemIndex===e)]},close:function(){this.setShowLocationModal(!1)}})},re=(n("25cc8d"),n("2bcfeb"),n("2c22d1"));var ie=Object($.a)(ne,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return t.show?r("OzonModal",{attrs:{theme:"redesign"},on:{close:t.close}},[r("div",{class:[t.$style.location,(e={},e[t.$style.mobile]=t.isMobile,e)],on:{keydown:t.onKeydown,mousemove:function(e){t.focusedItemIndex=-1}}},[r("h2",{class:[t.$style.title,"f-h2"]},[t._v("\n      Выберите город\n    ")]),t._v(" "),r("OzField",{class:t.$style.wrap},[r("OzInput",{directives:[{name:"qa",rawName:"v-qa:id",value:"city-selector-autocomplete-input",expression:"'city-selector-autocomplete-input'",arg:"id"}],attrs:{size:"l",loading:t.loading,autocomplete:"off",autofocus:"",placeholder:"Ваш город ...",type:"text"},on:{input:t.getLocation},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),r("ul",{ref:"suggestions",class:t.$style.select},t._l(t.suggestions,(function(element,e){return r("li",{key:e},[r("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"location-suggections",expression:"'location-suggections'",arg:"id"}],class:t.styleLink(e),attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.setLocation(element)}}},[t._v("\n          "+t._s(element.fullName)+"\n        ")])])})),0)],1)]):t._e()}),[],!1,(function(e){this.$style=re.default.locals||re.default}),null,null).exports,oe=n("869057");function ae(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var se={components:{OzonHead:header,OzonFooterSimpleBase:M.a,CookiesInfo:U,LocationModal:ie,TopBar:oe.a},provide:{composerComponents:G.a.params},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ae(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ae(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(k.c)({isMobile:"browser/showMobileVersion",getParams:"cms/header/getParamsByStateId"}),{showMobile:function(){return this.$store.getters["browser/showMobileVersion"]},showDesktopOnMobile:function(){return this.$store.state.browser.forceDesktop}},Object(k.e)({isSocketConnected:function(e){var t=e.socket;return t&&t.isConnected},token:function(e){return e.authorization.token}}),{headerState:function(){return this.getParams("default")},headerLinks:function(){return A()(this.headerState,"headerLinks")||[]}}),watch:{isSocketConnected:function(e,t){!t&&e&&this.$socket.sendObj({token:this.token})}},beforeCreate:function(){Object.keys(G.a.content).forEach((function(e){c.default.component(e,G.a.content[e])})),(location.search.includes("partner")||location.search.includes("partneragentid"))&&this.$composerRouter.replace(Object(V.b)(location.href,["partner","partneragentid"]),{silent:!0})},created:function(){this.$store.dispatch("userInfo/REFRESH_USER_TOTALS")},head:function(){return{link:[{rel:"manifest",href:"/manifest.json"}]}},mounted:function(){var e=this;this.$store.dispatch("compare/GET_COMPARE"),this.$when("location/CHANGE_LOCATION",Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.$store.dispatch("cms/header/GET_HEADER")]);case 2:case"end":return t.stop()}}),t)})))),this.$when("userInfo/SUCCESSFUL_ACCESS",Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("userInfo/REFRESH_USER_DEPENDENCIES");case 2:e.$store.dispatch("userInfo/REFRESH_USER_TOTALS");case 3:case"end":return t.stop()}}),t)}))))}},ce=(n("083898"),Object($.a)(se,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page",class:{mobile:e.showMobile,desktop:!e.showMobile,desktopOnMobile:e.showDesktopOnMobile}},[n("div",{staticClass:"header"},[e.showMobile?e._e():n("TopBar",{attrs:{"service-links":e.headerLinks}}),e._v(" "),n("OzonHead")],1),e._v(" "),n("div",{staticClass:"content"},[n("nuxt")],1),e._v(" "),n("div",{staticClass:"footer"},[n("OzonFooterSimpleBase")],1),e._v(" "),n("CookiesInfo"),e._v(" "),n("LocationModal")],1)}),[],!1,null,"286ca0fb",null).exports),ue={components:{Error:n("72c58d").a},props:{error:{type:Object,default:function(){return{}}}},mounted:function(){console.group("error"),console.warn("statusCode:",this.error.statusCode),console.warn("path:",this.error.path),console.warn("payload:",this.error.payload),console.groupEnd()},head:function(){return{title:this.error.message||"An error occurred"}}},le=(n("fe8f74"),Object($.a)(ue,(function(){var e=this.$createElement;return(this._self._c||e)("Error",{attrs:{"status-code":this.error.statusCode}})}),[],!1,null,"0c3be50a",null).exports);function de(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var fe,he={name:"NuxtError",components:{default:le},extends:ce,props:{error:{type:Object,default:function(){return{}}}},data:function(){return{componentName:this.error.page||"default"}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?de(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):de(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(k.c)({isMobile:"browser/showMobileVersion"})),created:function(){0},head:function(){return{title:this.error.payload||"An error occurred"}},mounted:function(){this.$store.dispatch("compare/GET_COMPARE")}},pe=(n("c48362"),Object($.a)(he,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"error-container"},[t(this.componentName,{tag:"component",attrs:{error:this.error}})],1)}),[],!1,null,"91c058a4",null).exports),me=(n("f8695b"),{name:"Nuxt",components:{NuxtChild:I,NuxtError:pe},props:{nuxtChildKey:{type:String,default:void 0},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0},name:{type:String,default:"default"}},computed:{routerViewKey:function(){if(void 0!==this.nuxtChildKey||this.$route.matched.length>1)return this.nuxtChildKey||Object(h.b)(this.$route.matched[0].path)(this.$route.params);var e=this.$route.matched[0]&&this.$route.matched[0].components.default;if(e&&e.options){var t=e.options,n=t.key,r=t.watchQuery;if(n)return"function"==typeof n?n(this.$route):n;if(r){if(r.length){var o={},c=!0,l=!1,d=void 0;try{for(var f,m=r[Symbol.iterator]();!(c=(f=m.next()).done);c=!0){var v=f.value;o[v]=this.$route.query[v]}}catch(e){l=!0,d=e}finally{try{c||null==m.return||m.return()}finally{if(l)throw d}}return this.$router.resolve({path:this.$route.path,query:o}).href}return this.$route.fullPath}}return this.$route.path}},beforeCreate:function(){c.default.util.defineReactive(this,"nuxt",this.$root.$options.nuxt)},render:function(e){return this.nuxt.err?e("NuxtError",{props:{error:this.nuxt.err}}):e("NuxtChild",{key:this.routerViewKey,props:this.$props})}}),ve={name:"NuxtLoading",data:function(){return{percent:0,show:!1,canSucceed:!0,reversed:!1,skipTimerCount:0,rtl:!1,throttle:200,duration:5e3,continuous:!1}},computed:{left:function(){return!(!this.continuous&&!this.rtl)&&(this.rtl?this.reversed?"0px":"auto":this.reversed?"auto":"0px")}},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var e=this;return this.clear(),this.percent=0,this.reversed=!1,this.skipTimerCount=0,this.canSucceed=!0,this.throttle?this._throttle=setTimeout((function(){return e.startTimer()}),this.throttle):this.startTimer(),this},set:function(e){return this.show=!0,this.canSucceed=!0,this.percent=Math.min(100,Math.max(0,Math.floor(e))),this},get:function(){return this.percent},increase:function(e){return this.percent=Math.min(100,Math.floor(this.percent+e)),this},decrease:function(e){return this.percent=Math.max(0,Math.floor(this.percent-e)),this},pause:function(){return clearInterval(this._timer),this},resume:function(){return this.startTimer(),this},finish:function(){return this.percent=this.reversed?0:100,this.hide(),this},hide:function(){var e=this;return this.clear(),setTimeout((function(){e.show=!1,e.$nextTick((function(){e.percent=0,e.reversed=!1}))}),500),this},fail:function(){return this.canSucceed=!1,this},startTimer:function(){var e=this;this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval((function(){e.skipTimerCount>0?e.skipTimerCount--:(e.reversed?e.decrease(e._cut):e.increase(e._cut),e.continuous&&(e.percent>=100?(e.skipTimerCount=1,e.reversed=!e.reversed):e.percent<=0&&(e.skipTimerCount=1,e.reversed=!e.reversed)))}),100)}},render:function(e){var t=e(!1);return this.show&&(t=e("div",{staticClass:"nuxt-progress",class:{"nuxt-progress-notransition":this.skipTimerCount>0,"nuxt-progress-failed":!this.canSucceed},style:{width:this.percent+"%",left:this.left}})),t}},be=(n("4d7d00"),Object($.a)(ve,void 0,void 0,!1,null,null,null).exports),ge=(n("fa58c1"),n("e8e723"),n("22fb9a"),n("7f4c08"),{components:{OzonHeaderSimple:n("eb6324").default,OzonFooterSimple:M.a},extends:ce,fetch:(fe=Object(o.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.next=3,n.dispatch("userInfo/REFRESH_USER_DEPENDENCIES");case 3:case"end":return e.stop()}}),e)}))),function(e){return fe.apply(this,arguments)})}),ye=(n("7279ac"),Object($.a)(ge,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page",class:{mobile:this.showMobile,desktopOnMobile:this.showDesktopOnMobile}},[t("div",{staticClass:"header"},[t("OzonHeaderSimple")],1),this._v(" "),t("div",{staticClass:"content"},[t("nuxt")],1),this._v(" "),t("div",{staticClass:"footer"},[t("OzonFooterSimple")],1)])}),[],!1,null,"71876956",null).exports),Ee=n("a2d7c8"),_e={name:"LightHeader",components:{Location:n("ec4a35").a,LocationModal:ie,ServiceLinks:Ee.a},props:{disabledLinkToMainPage:{type:Boolean,default:!1},serviceLinks:{type:Array,default:function(){return[]}}}};n("e3f012");function Se(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var Oe={components:{LightHeader:Object($.a)(_e,(function(){var e=this.$createElement,t=this._self._c||e;return t("header",{staticClass:"header"},[t("div",{staticClass:"header-row"},[t("Location"),this._v(" "),t("LocationModal"),this._v(" "),t("ServiceLinks",{attrs:{items:this.serviceLinks}})],1)])}),[],!1,null,"1479ad79",null).exports,HeaderMobile:R.a},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Se(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Se(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(k.c)({getParams:"cms/header/getParamsByStateId"}),{widgetState:function(){return this.getParams("default")},headerLinks:function(){return A()(this.widgetState,"headerLinks")||[]}})},Te=Object($.a)(Oe,(function(){var e=this.$createElement,t=this._self._c||e;return this.isMobile?t("HeaderMobile"):t("LightHeader",{attrs:{"service-links":this.headerLinks}})}),[],!1,null,null,null).exports,Ie=n("79ac67");function we(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var Ce={name:"LightHeaderLayout",components:{LightHeader:Te,OzonFooterSimpleBase:M.a,ModalLoginComponent:Ie.a},mixins:[ye],computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?we(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):we(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(k.e)("modalLogin",{modalLoginIsVisible:function(e){return e.visibility&&this.lightHeader&&!this.showMobile}}),{lightHeader:function(){return Boolean(this.siteExperiments["web.checkoutLightHeader"])}}),fetch:function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.next=3,n.dispatch("userInfo/REFRESH_USER_DEPENDENCIES");case 3:if(this.isMobile){e.next=6;break}return e.next=6,n.dispatch("menu/GET_HORIZONTAL_MENU");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),mounted:function(){var e=this;this.$when("location/CHANGE_LOCATION",Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.$store.dispatch("cms/footer/GET_FOOTER"),e.$store.dispatch("cms/header/GET_HEADER")]);case 2:case"end":return t.stop()}}),t)}))))}},ke=(n("dfddc9"),Object($.a)(Ce,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page",class:{mobile:e.showMobile,desktopOnMobile:e.showDesktopOnMobile}},[n("div",{staticClass:"header"},[e.lightHeader?n("LightHeader"):n("OzonHead")],1),e._v(" "),n("div",{staticClass:"content"},[n("nuxt")],1),e._v(" "),n("div",{staticClass:"footer"},[e.lightHeader?n("OzonFooterSimpleBase"):n("OzonFooter")],1),e._v(" "),n("ScrollTop"),e._v(" "),e.modalLoginIsVisible?n("ModalLoginComponent"):e._e()],1)}),[],!1,null,"449f3417",null).exports),Pe={},Re=Object($.a)(Pe,void 0,void 0,!1,null,null,null).exports,xe=(n("578d8d"),n("cf3dd1")),Ae=n("e0857b"),Le=n("6905f2"),De=n("a1cf5d"),$e=n.n(De),Me=n("41a9d4"),Ne=n("dc67af"),je=n.n(Ne),Fe=function(){return(Fe=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},Be=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},Ue=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},Ge={components:{Modal:W.a,OzButton:je.a,OzField:z.a,OzInput:Y.a},mixins:[Ae.validationMixin],validations:function(){return{email:{email:Le.email}}},data:function(){return{email:"",sending:!1,messageText:{},isSubscribe:!0}},computed:Fe({},Object(k.e)({isLoggedIn:function(e){return A()(e,"userInfo.user.isLoggedIn",!1)},subscriptionType:function(e){return A()(e,"subscriptionModal.subscriptionType")},userEmail:function(e){return A()(e,"subscriptions.email")}}),{hasEmail:function(){return!$e()(this.userEmail)},errors:function(){return this.$v.email.$dirty&&this.$v.email.$error?["Введен некорректный адрес электронной почты"]:[]},isItemSubscription:function(){return this.subscriptionType===Me.a.ITEM},isPriceSubscription:function(){return this.subscriptionType===Me.a.PRICE},modalTitle:function(){return"Узнайте о "+(this.isItemSubscription?"поступлении":"снижении цены")},modalSubtitle:function(){return this.hasEmail?"Мы отправим вам уведомление на указанную почту":"Оставьте почту и мы напишем, когда "+(this.isItemSubscription?"товар появится в наличии":"цена товара снизится")}}),mounted:function(){this.email=this.userEmail},methods:{subscribePrice:function(){return Be(this,void 0,void 0,(function(){var e,t;return Ue(this,(function(n){switch(n.label){case 0:return e=this.isLoggedIn?{}:{email:this.email},t=this.isSubscribe?"PRICE_ADD_EMAIL":"PRICE_REMOVE",this.email?[4,this.$store.dispatch("subscriptions/"+t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},subscribeItem:function(){return Be(this,void 0,void 0,(function(){return Ue(this,(function(e){switch(e.label){case 0:return this.email?[4,this.$store.dispatch("subscriptions/ITEM_ADD_EMAIL",{email:this.email})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},closeSubmitModal:function(){this.$store.dispatch("subscriptionModal/HIDE_MODAL"),this.$store.dispatch("subscriptions/SET_SUBSCRIPTION_DATA",{})},close:function(){return Be(this,void 0,void 0,(function(){return Ue(this,(function(e){switch(e.label){case 0:return e.trys.push([0,5,6,7]),this.sending=!0,this.isPriceSubscription?[4,this.subscribePrice()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.isItemSubscription?[4,this.subscribeItem()]:[3,4];case 3:e.sent(),e.label=4;case 4:return[3,7];case 5:return e.sent(),this.$store.dispatch("notifications/CREATE_NEW_NOTIFICATION",{type:"error",content:"Произошла ошибка! Пожалуйста, попробуйте снова"}),[3,7];case 6:return this.closeSubmitModal(),[7];case 7:return[2]}}))}))}}},Ve=(n("8c2bd8"),n("870262"),n("b9321c"));var content=Object($.a)(Ge,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{class:e.$style.reportForm,attrs:{theme:"empty"},on:{close:e.closeSubmitModal}},[n("form",{class:e.$style.form,attrs:{novalidate:"true"},on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.close(t)}}},[n("h1",{class:e.$style.title},[e._v("\n      "+e._s(e.modalTitle)+"\n    ")]),e._v(" "),n("p",{class:e.$style.subtitle},[e._v("\n      "+e._s(e.modalSubtitle)+"\n    ")]),e._v(" "),n("div",{class:e.$style.fields},[n("OzField",{class:e.$style.errors,attrs:{errors:e.errors}},[n("OzInput",{class:e.$style.input,attrs:{"has-error":e.errors.length>0,disabled:e.sending,placeholder:"Ваш e-mail",size:"l"},model:{value:e.$v.email.$model,callback:function(t){e.$set(e.$v.email,"$model",t)},expression:"$v.email.$model"}})],1)],1),e._v(" "),n("OzButton",{class:e.$style.button,attrs:{disabled:e.errors.length>0||e.sending,text:"Готово","data-test-id":"subscription-modal-confirm",size:"l",type:"submit"}})],1)])}),[],!1,(function(e){this.$style=Ve.default.locals||Ve.default}),null,null).exports,He=function(){return(He=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},qe={components:{SubscriptionModal:content},computed:He({},Object(k.e)({showDialog:function(e){return A()(e,"subscriptionModal.subscriptionModalVisible")}}))},ze=Object($.a)(qe,(function(){var e=this.$createElement,t=this._self._c||e;return this.showDialog?t("SubscriptionModal"):this._e()}),[],!1,null,null,null).exports,Ye=n("46feee"),We=n("027383"),Ke={name:"NotificationService",components:{SnackBar:Ye.a,OzButton:je.a},data:function(){return{notification:{},active:!1}},mounted:function(){var e=this;this.$when("notifications/"+We.CREATE_NEW_NOTIFICATION,(function(t){var n=t.payload;e.active=!0,e.notification=n}))},methods:{onSnackClose:function(){this.active=!1},clickOnButton:function(){this.active=!1,this.notification.button.action()}}},Xe=(n("f68d8d"),Object($.a)(Ke,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SnackBar",e._b({attrs:{active:e.active},on:{close:e.onSnackClose}},"SnackBar",e.notification,!1),[n("div",{staticClass:"notification-msg",domProps:{innerHTML:e._s(e.notification.content)}}),e._v(" "),e.notification.button?n("OzButton",{staticClass:"notification-btn",attrs:{type:"button",size:"m",text:e.notification.button.text},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.clickOnButton(t)}}}):e._e()],1)}),[],!1,null,"3321ee34",null).exports),Qe=n("093f6c"),Ze={name:"IndeterminateLoader",props:{status:{type:[String,null],default:null}},data:function(){return{percent:0,show:!1,skipTimerCount:0,throttle:10,duration:5e3,continuous:!1}},watch:{status:function(e,t){var n=this;this.$nextTick((function(){"pending"!==e||t&&"success"!==t||n.start(),"success"===e&&"pending"===t&&n.finish()}))}},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var e=this;this.clear(),this.percent=0,this.skipTimerCount=0,this.throttle?this._throttle=setTimeout((function(){return e.startTimer()}),this.throttle):this.startTimer()},increase:function(e){this.percent=Math.min(100,Math.floor(this.percent+e))},decrease:function(e){this.percent=Math.max(0,Math.floor(this.percent-e))},finish:function(){this.percent=100,this.hide()},hide:function(){var e=this;this.clear(),setTimeout((function(){e.show=!1,e.$nextTick((function(){e.percent=0}))}),500)},startTimer:function(){var e=this;this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval((function(){e.skipTimerCount>0?e.skipTimerCount--:(e.increase(e._cut),e.continuous&&(e.percent>=100?e.skipTimerCount=1:e.percent<=0&&(e.skipTimerCount=1)))}),100)}},render:function(e){return this.show?e("div",{staticClass:this.$style.progress,class:Object(r.a)({},this.$style["progress-notransition"],this.skipTimerCount>0)},[e("div",{staticClass:this.$style.loader,style:{width:this.percent+"%"}})]):e(!1)}},Je=n("5f114a");var et=Object($.a)(Ze,void 0,void 0,!1,(function(e){this.$style=Je.default.locals||Je.default}),null,null).exports,tt=n("c0bc28"),nt=n("746633"),it={name:"ModalLayout",components:{Close:n.n(nt).a,Fade:tt.a,LayoutBlockVertical:function(){return Promise.resolve().then(n.bind(null,"7f50c2"))}},computed:{options:function(){return A()(this.$store.state,"shared.layoutModalOptions",{})},placeholders:function(){return{default:A()(this.$store.state,"layoutModal",[])}}},mounted:function(){document.addEventListener("keydown",this.checkEscapeKey)},beforeDestroy:function(){document.removeEventListener("keydown",this.checkEscapeKey)},methods:{close:function(){this.$store.dispatch("composer/CLOSE_MODAL")},checkEscapeKey:function(e){var t=e.keyCode;t&&27===t&&this.close()},checkClose:function(e){e.target===this.$refs.modalContainer&&this.close()}}},ot=n("08bd83");var at=Object($.a)(it,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("Fade",[t.options.showModal?r("div",{directives:[{name:"body-scroll-lock",rawName:"v-body-scroll-lock"}],ref:"modalContainer",class:t.$style.modalContainer,on:{click:t.checkClose}},[r("div",{class:[t.$style.modal,(e={},e[t.$style.fullScreen]=t.options.fullScreen,e)]},[r("LayoutBlockVertical",{attrs:{placeholders:t.placeholders,root:!0,"component-name":"blockVertical",vertical:"layout"}}),t._v(" "),r("Close",{class:t.$style.close,on:{click:t.close}})],1)]):t._e()])}),[],!1,(function(e){this.$style=ot.default.locals||ot.default}),null,null).exports,st=n("b6b43f"),ct=n("b274b9"),ut=n("8ec695"),lt=n.n(ut),ft=n("9a07b7"),ht=n.n(ft),pt={name:"NotifyLayout",components:{Molecula:st.a,Fade:tt.a,LayoutBlockVertical:function(){return Promise.resolve().then(n.bind(null,"7f50c2"))}},data:function(){return{mods:[ct.e.NOTIFICATION],timeOut:null}},computed:{crossComponent:function(){return this.isMobile?lt.a:ht.a},options:function(){return A()(this.$store.state,"shared.layoutNotifyOptions",{})},show:function(){return this.options.showNotify},placeholders:function(){return{default:A()(this.$store.state,"layoutNotify",[])}}},watch:{show:function(e){e&&this.updateTimeout()},placeholders:function(e){e.default.length&&this.updateTimeout()}},methods:{close:function(){this.$store.dispatch("composer/CLOSE_NOTIFY")},updateTimeout:function(){var e=this;this.timeOut&&clearTimeout(this.timeOut),this.timeOut=setTimeout((function(){e.$store.commit("deepSet",{path:"shared.layoutNotifyOptions.showNotify",value:!1})}),5e3)},onSwipe:function(e){["left","right","top"].includes(e)&&this.close()},onTouchStart:function(e){this.baseTouchX=A()(e,"touches[0].clientX",0),this.baseTouchY=A()(e,"touches[0].clientY",0),this.movingX=null},onTouchEnd:function(){var e=this;setTimeout((function(){e.$refs.container&&(e.$refs.container.style.top="8px",e.$refs.container.style.left=0,e.$refs.container.style.right=0)}),0)},onMove:function(e){var t=this,n=this.baseTouchX-A()(e,"touches[0].clientX",0),r=this.baseTouchY-A()(e,"touches[0].clientY",0);this.movingX=null===this.movingX?Math.abs(n)>Math.abs(r):this.movingX,requestAnimationFrame((function(){t.$refs.container&&(t.movingX?(t.$refs.container.style.left="".concat(-n,"px"),t.$refs.container.style.right="".concat(n,"px")):r>0&&(t.$refs.container.style.top="".concat(8-r,"px")))}))}}},mt=n("0933aa");var vt=Object($.a)(pt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Fade",[e.options.showNotify&&e.placeholders.default.length?n("div",{directives:[{name:"touch",rawName:"v-touch:swipe",value:e.isMobile&&e.onSwipe,expression:"isMobile && onSwipe",arg:"swipe"},{name:"touch",rawName:"v-touch:start",value:e.isMobile&&e.onTouchStart,expression:"isMobile && onTouchStart",arg:"start"},{name:"touch",rawName:"v-touch:moving",value:e.isMobile&&e.onMove,expression:"isMobile && onMove",arg:"moving"},{name:"touch",rawName:"v-touch:end",value:e.isMobile&&e.onTouchEnd,expression:"isMobile && onTouchEnd",arg:"end"}],ref:"container",class:e.$style.notifyContainer},[e.options.nuclear?[n("Molecula",{class:e.$style.molecula,attrs:{atoms:e.placeholders.default,mods:e.mods}})]:[n("LayoutBlockVertical",{attrs:{placeholders:e.placeholders,root:!0,"component-name":"blockVertical",vertical:"layout"}})],e._v(" "),n(e.crossComponent,{tag:"component",class:e.$style.close,on:{click:e.close}})],2):e._e()])}),[],!1,(function(e){this.$style=mt.default.locals||mt.default}),null,null).exports;function bt(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var gt={components:{NotificationService:Xe,LocationModal:ie,AdultModal:xe.a,SubscribeModal:ze,CookiesInfo:U,PageLoader:et,ModalLayout:at,NotifyLayout:vt,LayoutBlockVertical:function(){return Promise.resolve().then(n.bind(null,"7f50c2"))}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?bt(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):bt(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(k.e)({isSocketConnected:function(e){var t=e.socket;return t&&t.isConnected},token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.authorization;return t.token},debug:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.debug;return t&&t.composer||{}},pageInfo:function(e){return e.pageInfo||{}},layoutTrackingInfo:function(e){return e.layoutTrackingInfo||{}},layout:function(e){return e.layout},browser:function(e){return e.browser||{}},seo:function(e){return e.seo||{}},loading:function(e){var t=e.shared;return t&&t.loading||null},apiVersion:function(e){return e.apiVersion||Qe.a}}),{},Object(k.c)({isMobile:"browser/showMobileVersion"}),{placeholders:function(){var e=this.layout;return 1===this.apiVersion?{default:e}:[{name:"default",widgets:e}]},showDesktopOnMobile:function(){return this.$store.state.browser.forceDesktop}}),watch:{isSocketConnected:function(e,t){!t&&e&&this.$socket.sendObj({token:this.token})}},beforeCreate:function(){(location.search.includes("partner")||location.search.includes("partneragentid"))&&this.$composerRouter.replace(Object(V.b)(location.href,["partner","partneragentid"]),{silent:!0})},head:function(){var e=this.seo||{},title=e.title,t=e.meta,meta=void 0===t?[]:t,n=e.link,link=void 0===n?[]:n;return{title:title||"OZON.ru",meta:this.formatMeta(meta),link:link}},mounted:function(){this.afterPageUpdate(),this.$when("composer/GET_LAYOUT",this.afterPageUpdate)},destroyed:function(){this.$when.unsubscribe("composer/GET_LAYOUT",this.afterPageUpdate)},methods:{afterPageUpdate:function(){this.$store.dispatch("compare/GET_COMPARE"),this.$store.dispatch("userInfo/REFRESH_USER_TOTALS")},formatMeta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach((function(e){var n=null;n=e.name?"name::".concat(e.name):n,n=e.property?"property::".concat(e.property):n,t.push(Object.assign({hid:n},e))})),t.push({name:"viewport",hid:"viewport",content:this.getViewport()}),t},getViewport:function(){var e=this.browser,t=e.isMobile,n=e.isTablet,r=e.platform,o=t&&"desktop"===r;return"width=".concat(o?"1024":"device-width",", height=device-height")+(o||n?"":",user-scalable=no, maximum-scale=1.0, minimum-scale=1.0, initial-scale=1.0")}}},yt=(n("58b7f9"),Object($.a)(gt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout-page",class:{mobile:e.isMobile,desktop:!e.isMobile,desktopOnMobile:e.showDesktopOnMobile}},[n("PageLoader",{attrs:{status:e.loading}}),e._v(" "),n("LayoutBlockVertical",{attrs:{placeholders:e.placeholders,root:!0,"component-name":"blockVertical",vertical:"layout"}}),e._v(" "),n("AdultModal"),e._v(" "),n("LocationModal"),e._v(" "),n("SubscribeModal"),e._v(" "),n("NotificationService"),e._v(" "),n("no-ssr",[n("portal-target",{attrs:{name:"modal"}})],1),e._v(" "),n("CookiesInfo"),e._v(" "),n("ModalLayout"),e._v(" "),n("NotifyLayout")],1)}),[],!1,null,null,null).exports),Et=yt,_t=Object($.a)(Et,void 0,void 0,!1,null,null,null).exports,St={},Ot=Object($.a)(St,(function(){var e=this.$createElement;return(this._self._c||e)("nuxt")}),[],!1,null,null,null).exports,Tt={},It=(n("9d82c9"),{"_checkout/default":ke,"_composer/default":Re,"_composer/dynamic":yt,_default:ce,_dynamic:_t,_empty:Ot,"_error/default":le,_simple:ye,_test:Object($.a)(Tt,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tests"},[t("nuxt")],1)}),[],!1,null,null,null).exports}),wt={head:{meta:[{charset:"utf-8"},{name:"yandex-verification",content:"2bccd09858554e85"},{name:"google",content:"notranslate"},{hid:"viewport",name:"viewport",content:"width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"},{name:"yandex-tableau-widget",content:"logo=/public/logo2019-y.png, color=#ffffff"}],link:[{rel:"icon",type:"image/x-icon",href:"/public/favicon.ico"},{rel:"apple-touch-icon",sizes:"152x152",href:"/public/touch-icon-ipad-retina.png"},{rel:"apple-touch-icon-precomposed",sizes:"152x152",href:"/public/touch-icon-ipad-retina.png"},{rel:"search",type:"application/opensearchdescription+xml",title:"Ozon",href:"/public/searchprovider.xml"},{rel:"manifest",href:"/public/manifest.json"},{rel:"dns-prefetch",href:"https://cdn1.ozone.ru"},{rel:"dns-prefetch",href:"https://cdn2.ozone.ru"}],script:[{src:"//cdn1.ozone.ru/graphics/js/initPerfMetrics-0.1.0.js",async:!0},{src:"//cdn-rum.ngenix.net/js/loader.js",async:!0}],style:[]},render:function(e,t){var n=e("NuxtLoading",{ref:"loading"}),r=e(this.layout||"nuxt"),o=e("div",{domProps:{id:"__layout"},key:this.layoutName},[r]),c=e("transition",{props:{name:"layout",mode:"out-in"},on:{beforeEnter:function(e){window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")}))}}},[o]);return e("div",{domProps:{id:"__nuxt"}},[n,c])},data:function(){return{isOnline:!0,layout:null,layoutName:""}},beforeCreate:function(){c.default.util.defineReactive(this,"nuxt",this.$options.nuxt)},created:function(){c.default.prototype.$nuxt=this,window.$nuxt=this,this.refreshOnlineStatus(),window.addEventListener("online",this.refreshOnlineStatus),window.addEventListener("offline",this.refreshOnlineStatus),this.error=this.nuxt.error},mounted:function(){this.$loading=this.$refs.loading},watch:{"nuxt.err":"errorChanged"},computed:{isOffline:function(){return!this.isOnline}},methods:{refreshOnlineStatus:function(){void 0===window.navigator.onLine?this.isOnline=!0:this.isOnline=window.navigator.onLine},errorChanged:function(){this.nuxt.err&&this.$loading&&(this.$loading.fail&&this.$loading.fail(),this.$loading.finish&&this.$loading.finish())},setLayout:function(e){return e&&It["_"+e]||(e="default"),this.layoutName=e,this.layout=It["_"+e],this.layout},loadLayout:function(e){return e&&It["_"+e]||(e="default"),Promise.resolve(It["_"+e])}},components:{NuxtLoading:be}};n("42f576");c.default.use(k.a);var Ct=console,kt=["state","getters","actions","mutations"],Pt={};(Pt=function(e,t){if((e=e.default||e).commit)throw new Error("[nuxt] ".concat(t," should export a method that returns a Vuex instance."));return"function"!=typeof e&&(e=Object.assign({},e)),At(e,t)}(n("3b0cdb"),"store/index.js")).modules=Pt.modules||{},xt(n("5d3fab"),"location.js"),xt(n("360a68"),"application.js"),xt(n("d7b1bb"),"browser.js"),xt(n("b33be6"),"cartGlobal.js"),xt(n("67cc50"),"compare.js"),xt(n("a8415b"),"discountCodes.js"),xt(n("8e604c"),"experiments.js"),xt(n("323adb"),"favorites.js"),xt(n("211be1"),"authorization.js"),xt(n("9629d6"),"menu.js"),xt(n("06da66"),"modalLogin.js"),xt(n("a5e442"),"modalSupermarket.js"),xt(n("027383"),"notifications.js"),xt(n("7d40cd"),"pageInfo.js"),xt(n("5af9f5"),"settings.js"),xt(n("6d9570"),"subscriptionModal.js"),xt(n("ef0277"),"userInfo.js"),xt(n("b80d48"),"types/browser.types.js"),xt(n("c6e557"),"communication.js",!1),xt(n("dab896"),"banner.js",!1),xt(n("ea14ec"),"chat.js",!1),xt(n("4d6028"),"checkcart.js",!1),xt(n("5a536f"),"travel.js",!1),xt(n("c9f5df"),"subscriptions.js",!1),xt(n("1396c2"),"shelf.js",!1),xt(n("34372b"),"rtb.js",!1),xt(n("835335"),"rms.js",!1),xt(n("1aff32"),"reviews.js",!1),xt(n("3c6c86"),"referral.js",!1),xt(n("c3e90b"),"pdp.js",!1),xt(n("a6746d"),"payments.js",!1),xt(n("12a694"),"orderDone.js",!1),xt(n("0b5e40"),"marketing.js",!1),xt(n("ceb02e"),"checkout.js",!1),xt(n("6f6d51"),"csma.js",!1),xt(n("fe0bd7"),"composer.js",!1),xt(n("21410c"),"cart.js",!1),xt(n("a5c8f4"),"cms.js",!1),xt(n("2c4104"),"wallet.js",!1),xt(n("60e14d"),"cms/catalogMenu.js",!1),xt(n("5d91fc"),"cms/header.js",!1),xt(n("49aead"),"checkout/total.js",!1),xt(n("011ab6"),"cms/tradeInCalculator.js",!1),xt(n("0249eb"),"checkout/payment.js",!1),xt(n("5b5f35"),"checkout/packages.js",!1),xt(n("4a9cdc"),"checkout/loaders.js",!1),xt(n("cf1cd4"),"csma/orderlist.js",!1),xt(n("198c1e"),"csma/premium.js",!1),xt(n("122762"),"marketing/favorite.js",!1),xt(n("992d97"),"travel/travelPopularDestinations.js",!1),xt(n("de3329"),"checkcart/marketingInfo.js",!1),xt(n("d5730a"),"checkcart/total.js",!1),xt(n("092724"),"payments/loan.js",!1),xt(n("84e7f5"),"cms/footer.js",!1),xt(n("a2bf97"),"shelf/productsCarousel.js",!1),xt(n("6a013d"),"reviews/external.js",!1),xt(n("8848ed"),"checkout/form.js",!1),xt(n("a2916e"),"checkout/delivery.js",!1),xt(n("95946f"),"checkout/delivery_map.js",!1),xt(n("4b4a3c"),"shelf/clubProductsCarousel.js",!1),xt(n("df09d2"),"checkout/addressBook.js",!1),xt(n("45f0fd"),"shelf/infinitiveScroll.js",!1),xt(n("bb0191"),"shelf/infinityScroll.js",!1),xt(n("dbd214"),"checkout/form/address.js",!1),xt(n("13ac93"),"checkout/form/legal.js",!1),xt(n("4e8d76"),"checkout/form/receiver.js",!1),xt(n("b0c954"),"checkout/form/user.js",!1),xt(n("b40b93"),"checkout/form/digital.js",!1);var Rt=Pt instanceof Function?Pt:function(){return new k.a.Store(Object.assign({strict:!1},Pt))};function xt(e,t,n){e=e.default||e;var r=t.replace(/\.(ts|tsx|mjs|js|ts|vue)$/,"").split("/"),o=r[r.length-1],c=n?"store/".concat(t):t;if(e="state"===o?function(e,t){if("function"!=typeof e){Ct.warn("".concat(t," should export a method that returns an object"));var n=Object.assign({},e);return function(){return n}}return At(e,t)}(e,c):At(e,c),kt.includes(o)){var l=o;Dt(Lt(Pt,r,{isProperty:!0}),e,l)}else{"index"===o&&(r.pop(),o=r[r.length-1]);var d=Lt(Pt,r),f=!0,h=!1,m=void 0;try{for(var v,y=kt[Symbol.iterator]();!(f=(v=y.next()).done);f=!0){var E=v.value;Dt(d,e[E],E)}}catch(e){h=!0,m=e}finally{try{f||null==y.return||y.return()}finally{if(h)throw m}}!1===e.namespaced&&delete d.namespaced}}function At(e,t){if(e.state&&"function"!=typeof e.state){Ct.warn("'state' should be a method that returns an object in ".concat(t));var n=Object.assign({},e.state);e=Object.assign({},e,{state:function(){return n}})}return e}function Lt(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).isProperty,r=void 0!==n&&n;if(!t.length||r&&1===t.length)return e;var o=t.shift();return e.modules[o]=e.modules[o]||{},e.modules[o].namespaced=!0,e.modules[o].modules=e.modules[o].modules||{},Lt(e.modules[o],t,{isProperty:r})}function Dt(e,t,n){t&&("state"===n?e.state=t||e.state:e[n]=Object.assign({},e[n],t))}var $t={install:function(e){e.mixin({computed:{siteAbGroup:function(){return A()(this.$store.state,"".concat("experiments",".abGroup"))||-1},siteExperiments:function(){return A()(this.$store.state,"".concat("experiments",".experiments"))||{}}}})}},Mt=Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.default.use($t);case 1:case"end":return e.stop()}}),e)})));var Nt=function(e,t){var n=e.nuxtState,r=(e.app,e.beforeNuxtRender,e.req,{}),o={};o=n.__CONFIG__,r.get=function(e){return o[e]},r.all=function(){return Object.assign({},o)},t("config",r)},jt=n("06c58f"),Ft=function(e,t){t("stateObserver",new jt.a(null))},Bt=(n("9e0ba8"),n("497371"),n("8fd32c")),Ut=(n("654ecb"),n("dc5bd1"),n("9e82e9"));function Gt(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Vt(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Gt(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Gt(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Ht={requests:5,debug:4,info:3,warning:2,error:1,critical:0},qt=["url","exception","stackTrace","userId","uuid","abGroup","payload","hostname","ip","sessionId","token","runTime","refreshToken","message","payload","zone","browser","os","platform","version","isMobile"],zt=function(e){return e instanceof Error?{exception:e.toString(),stackTrace:e.stack}:{}},Yt=function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};return data instanceof Error?Object.assign(e,zt(data)):"object"===Object(Bt.a)(data)?(Object.assign(e,data),"object"===Object(Bt.a)(data.message)&&(e.message=data.serviceName?data.message.value+" from service "+data.serviceName:data.message.value,e.zone=data.message.zone)):e.payload=JSON.stringify(data,null," "),e},Wt=function(e,t){var n=e.store,r=e.route,o=r&&r.fullPath,c={},l=function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,r={},c={};e=void 0===e?data.level:e;try{var l=n.state.browser.browser,d=n.state.browser.os,f=n.state.browser.platform,h=n.state.browser.version,m=Boolean(n.state.browser.isMobile);Object.assign(r,{browser:l,os:d,platform:f,version:h,isMobile:m})}catch(e){t({message:Ut.t.LOGGER.GETTING_STORE_FIELDS_ERROR,exception:e,level:Ht.critical})}try{var v=n.state.userInfo.user&&n.state.userInfo.user.userId,y=n.state.experiments.abGroup;Object.assign(r,{userId:v,url:o,abGroup:y})}catch(e){t({message:Ut.t.LOGGER.GETTING_STORE_FIELDS_ERROR,exception:e,level:Ht.critical})}try{Object.assign(r,Yt(data))}catch(e){t({message:Ut.t.LOGGER.PARSING_ERROR,exception:e,level:Ht.critical})}qt.forEach((function(e){return r[e]&&(c[e]=r[e])})),t(Vt({},c,{level:Ht[e]||Number(e)||Ht.info}))};return Object.keys(Ht).forEach((function(e){c[e]=function(data){return l(data,Ht[e])}})),c.log=l,c.ERRORS=Ut.t,c};function Kt(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var Xt=function(){},Qt=function(e,t){var n=e.req;Wt(e,(function(data){try{var e=n.span.context(),t=e.traceIdStr,o=e.spanIdStr;Xt(function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Kt(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Kt(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},data,{span_id:o,trace_id:t}))}catch(e){Xt(data)}}))},Zt=n("672d5f"),Jt=function(e,t){var n,r,o,l=e.app.$config,d=l.get("graylogApi"),f=l.get("logLevel"),h=l.get("graylogToken"),m=new Zt.ClientLogger({level:f,apiUrl:d,token:h}),v=Wt(e,m.log.bind(m));n=function(e){var t=e.message,n=e.exception,r=document.location.toString();v.error({message:t||(n?n.message:"Unhandled error"),url:r,exception:n})},r=window.onerror,o=c.default.config.errorHandler,window.onerror=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var c=t[0],l=(t[1],t[2],t[3],t[4]);r&&r.apply(void 0,t),n({message:c,exception:l})},c.default.config.errorHandler=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var c=t[0];o&&o.apply(void 0,t),n({exception:c})},t("logger",v)},en=n("c3c993"),tn=n("750968"),nn=n("815f37"),rn=n("965361"),on=n("4d8833"),an=n("c66232"),sn=n("c9b52c"),cn=n.n(sn),un=n("4a2c1c"),ln=n("8df9d8"),dn=n("2c2441"),fn=n("be4d05"),hn=n("1f71de"),pn=n("81a0d4"),mn=n("b8cee0"),vn=n("8885d0"),bn=n("016773"),gn=n("a79063"),yn=n("9c95ff"),En=n.n(yn),_n=n("1dec87"),Sn=n("afaf01"),On=n("e0bf45"),Tn=n("6ea288"),In=n("3d5188"),wn=n("b7c584");function Cn(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function kn(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Cn(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Cn(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}n.d(t,"b",(function(){return Rn})),n.d(t,"a",(function(){return pe})),c.default.component(T.name,T),c.default.component(I.name,I),c.default.component("NChild",I),c.default.component(me.name,me),c.default.use(d.a,{keyName:"head",attribute:"data-n-head",ssrAttribute:"data-n-head-ssr",tagIDKeyName:"hid"});var Pn={name:"page",mode:"out-in",appear:!1,appearClass:"appear",appearActiveClass:"appear-active",appearToClass:"appear-to"};function Rn(e){return xn.apply(this,arguments)}function xn(){return(xn=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,r,o,l,d,S,path,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new f.a({mode:"history",base:decodeURI("/"),linkActiveClass:"m-active",linkExactActiveClass:"m-exact",scrollBehavior:_,routes:[{path:"/layout",component:m,name:"layout"},{path:"/auth/reset",component:v,name:"auth-reset"},{path:"/",component:y,name:"index"},{path:"/checkout",component:E,name:"checkout"}],fallback:!1});case 2:return n=e.sent,(r=Rt(t)).$router=n,o=r.registerModule,r.registerModule=function(path,e,t){return o.call(r,path,e,Object.assign({preserveState:!0},t))},l=kn({router:n,store:r,nuxt:{defaultTransition:Pn,transitions:[Pn],setTransitions:function(e){return Array.isArray(e)||(e=[e]),e=e.map((function(e){return e=e?"string"==typeof e?Object.assign({},Pn,{name:e}):Object.assign({},Pn,e):Pn})),this.$options.nuxt.transitions=e,e},err:null,dateErr:null,error:function(e){e=e||null,l.context._errored=!!e,e=e?Object(h.l)(e):null;var n=this.nuxt||this.$options.nuxt;return n.dateErr=Date.now(),n.err=e,t&&(t.nuxt.error=e),e}}},wt),r.app=l,d=t?t.next:function(e){return l.router.push(e)},t?S=n.resolve(t.url).route:(path=Object(h.d)(n.options.base),S=n.resolve(path).route),e.next=13,Object(h.p)(l,{route:S,next:d,error:l.nuxt.error.bind(l),store:r,payload:t?t.payload:void 0,req:t?t.req:void 0,res:t?t.res:void 0,beforeRenderFns:t?t.beforeRenderFns:void 0,ssrContext:t});case 13:if(O=function(e,t){if(!e)throw new Error("inject(key, value) has no key provided");if(void 0===t)throw new Error("inject(key, value) has no value provided");l[e="$"+e]=t,r[e]=l[e];var n="__nuxt_"+e+"_installed__";c.default[n]||(c.default[n]=!0,c.default.use((function(){c.default.prototype.hasOwnProperty(e)||Object.defineProperty(c.default.prototype,e,{get:function(){return this.$root.$options[e]}})})))},window.__NUXT__&&window.__NUXT__.state&&r.replaceState(window.__NUXT__.state),"function"!=typeof Mt){e.next=18;break}return e.next=18,Mt(l.context,O);case 18:if("function"!=typeof Nt){e.next=21;break}return e.next=21,Nt(l.context,O);case 21:if("function"!=typeof Ft){e.next=24;break}return e.next=24,Ft(l.context,O);case 24:e.next=27;break;case 27:if("function"!=typeof Qt){e.next=30;break}return e.next=30,Qt(l.context,O);case 30:if("function"!=typeof Jt){e.next=33;break}return e.next=33,Jt(l.context,O);case 33:if("function"!=typeof en.default){e.next=36;break}return e.next=36,Object(en.default)(l.context,O);case 36:if("function"!=typeof tn.a){e.next=39;break}return e.next=39,Object(tn.a)(l.context,O);case 39:if("function"!=typeof nn.a){e.next=42;break}return e.next=42,Object(nn.a)(l.context,O);case 42:if("function"!=typeof rn.a){e.next=45;break}return e.next=45,Object(rn.a)(l.context,O);case 45:if("function"!=typeof on.a){e.next=48;break}return e.next=48,Object(on.a)(l.context,O);case 48:if("function"!=typeof an.a){e.next=51;break}return e.next=51,Object(an.a)(l.context,O);case 51:if("function"!=typeof cn.a){e.next=54;break}return e.next=54,cn()(l.context,O);case 54:if("function"!=typeof un.a){e.next=57;break}return e.next=57,Object(un.a)(l.context,O);case 57:if("function"!=typeof ln.a){e.next=60;break}return e.next=60,Object(ln.a)(l.context,O);case 60:if("function"!=typeof dn.default){e.next=63;break}return e.next=63,Object(dn.default)(l.context,O);case 63:if("function"!=typeof fn.default){e.next=66;break}return e.next=66,Object(fn.default)(l.context,O);case 66:if("function"!=typeof hn.default){e.next=69;break}return e.next=69,Object(hn.default)(l.context,O);case 69:if("function"!=typeof pn.default){e.next=72;break}return e.next=72,Object(pn.default)(l.context,O);case 72:if("function"!=typeof mn.default){e.next=75;break}return e.next=75,Object(mn.default)(l.context,O);case 75:if("function"!=typeof vn.a){e.next=78;break}return e.next=78,Object(vn.a)(l.context,O);case 78:if("function"!=typeof bn.a){e.next=81;break}return e.next=81,Object(bn.a)(l.context,O);case 81:if("function"!=typeof gn.a){e.next=84;break}return e.next=84,Object(gn.a)(l.context,O);case 84:if("function"!=typeof En.a){e.next=87;break}return e.next=87,En()(l.context,O);case 87:if("function"!=typeof _n.default){e.next=90;break}return e.next=90,Object(_n.default)(l.context,O);case 90:if("function"!=typeof Sn.a){e.next=93;break}return e.next=93,Object(Sn.a)(l.context,O);case 93:if("function"!=typeof On.a){e.next=96;break}return e.next=96,Object(On.a)(l.context,O);case 96:if("function"!=typeof Tn.a){e.next=99;break}return e.next=99,Object(Tn.a)(l.context,O);case 99:if("function"!=typeof In.default){e.next=102;break}return e.next=102,Object(In.default)(l.context,O);case 102:if("function"!=typeof wn.default){e.next=105;break}return e.next=105,Object(wn.default)(l.context,O);case 105:e.next=108;break;case 108:return e.abrupt("return",{app:l,store:r,router:n});case 109:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},"45e5c0":function(e,t,n){"use strict";var r=n("2d0d7a"),o=n.n(r);t.default=o.a},"45f0fd":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o})),n.d(t,"getters",(function(){return c})),n.d(t,"actions",(function(){return l}));var r=function(){return{default:{nextPage:"",items:[]}}},o={},c={},l={}},"46092a":function(e,t,n){"use strict";var r=n("83368c"),o=n.n(r);t.default=o.a},"4650bc":function(e,t,n){"use strict";var r=n("a3f609");n.n(r).a},"46c3ce":function(e,t,n){"use strict";n.r(t);var r={CheckcartPagesOrderDonePage:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(227)]).then(n.bind(null,"5c7408"))}}};t.default=r},"46feee":function(e,t,n){"use strict";n("497371");var r=n("23c58b"),o=n("33640c"),c=n.n(o),l=n("4127c0"),d=n.n(l),f=n("cfe2ac"),h=n.n(f),m=n("16ca86"),v=n.n(m),y=n("1fb7bd"),E={name:"SnackBar",components:{Portal:r.a,OzNotification:c.a},props:{id:{type:String,default:"component"},type:{type:String,default:"success"},active:{type:Boolean,default:!1},width:{type:[String,Number],default:256},timeout:{type:Number,default:5e3},infinity:{type:Boolean,default:!1},position:{type:String,default:""}},data:function(){return{showBar:this.active,timer:null,name:"snack-bar-"+this.id,infoIcon:d.a,dangerIcon:h.a,successIcon:v.a}},computed:{snackBarWidth:function(){return this.isMobile?"90%":this.width+"px"},snackBarPosition:function(){return this.isMobile?y.a.TOP_CENTER:y.a.BOTTOM_RIGHT},classes:function(){var e;return(e={})["snackbar--"+(this.position?this.position:this.snackBarPosition)]=!0,e},icon:function(){switch(this.type){case y.b.ERROR:return this.dangerIcon;case y.b.INFO:return this.infoIcon;default:return this.successIcon}},iconColor:function(){switch(this.type){case y.b.ERROR:return"#f91155";case y.b.SUCCESS:return"#06ca99";default:return"#fff"}}},watch:{active:function(e){this.showBar=e,this.setTimer()}},methods:{setTimer:function(){var e=this;this.timer&&clearTimeout(this.timer),this.infinity||(this.timer=setTimeout((function(){e.showBar=!1,e.$emit("close")}),this.timeout))}}},_=(n("a49fce"),n("b429cb")),component=Object(_.a)(E,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Portal",[n("transition",{attrs:{name:"snackbar"}},[e.showBar?n("div",{directives:[{name:"qa",rawName:"v-qa:id",value:e.name,expression:"name",arg:"id"}],staticClass:"snackbar",class:e.classes,style:{width:e.snackBarWidth}},[n("OzNotification",{attrs:{icon:e.icon,"icon-сolor":e.iconColor,theme:"dark","close-icon":""},on:{clickButtonClose:function(t){return e.$emit("close")}}},[e._t("default")],2)],1):e._e()])],1)}),[],!1,null,"72bd0bf0",null);t.a=component.exports},"4735ba":function(e,t,n){"use strict";var r=n("6afa05"),o=n.n(r);t.default=o.a},"47c523":function(e,t,n){e.exports={footer:"_575ce7",wrapper:"_9be9f7",socialShare:"_0ece64",simplePhone:"_548398",blink:"_46741f"}},487109:function(e,t,n){"use strict";n("e28425"),n("393231");var r=n("8fd32c"),o=(n("c08bb9"),n("aae158"),n("12a106"),n("497371"),n("ed745a")),c=n("498869"),l=n("ff287e"),d=n.n(l),f=n("bbfe95"),h=n("da0937");function m(e,t,n){var o=function(e,t,n){var o=t&&!n;return null!=e&&"object"===Object(r.a)(e)||!o?null:new h.a(f.o.WIDGET_STATE_NOT_FOUND)}(e,t,n);if(null!==o)throw o}var v=n("dafcf1"),y=n("b28e02"),E=(n("aef563"),n("f8695b"),n("41d819"),n("6876d5")),_=function(){return(_=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},S=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},O=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},T=["onViewport","onPageLoad"],I={mixins:[y.a],data:function(){return{isAsyncLoading:!1,isAsyncLoaded:!1,isAsyncDelay:!1,asyncLoadEvent:null}},props:{asyncType:{type:String,validator:function(e){return T.indexOf(e)>=0||void 0===e}},asyncHash:{type:String,default:""}},computed:{showAsyncLoader:function(){return this.asyncType&&!this.isAsyncLoaded}},created:function(){if(this.asyncType&&!this.asyncHash){var e=new h.a(f.o.WIDGET_ASYNC_WITHOUT_HASH);return this.logComposerError(e),!1}this._tryToRegisterViewEvent()},mounted:function(){return S(this,void 0,void 0,(function(){var e=this;return O(this,(function(t){switch(t.label){case 0:return[4,this._tryToLoadOnMount()];case 1:return t.sent(),this.$when("composer/GET_LAYOUT",(function(){e.$nextTick((function(){return S(e,void 0,void 0,(function(){return O(this,(function(e){switch(e.label){case 0:return this.widgetState&&Object.keys(this.widgetState).length?[2]:this.isAsyncLoaded||this.isAsyncLoading?(this.isAsyncLoaded=this.isAsyncLoading=!1,this._tryToRegisterViewEvent(),[4,this._tryToLoadOnMount()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),[2]}}))}))},methods:_({},Object(E.b)("composer",{_replaceSharedStoreAction:"REPLACE_SHARED_STORE"}),{preventAsyncFetch:function(){this.isAsyncDelay=!0},getCurrentUrl:function(){return"undefined"==typeof window?"":window.location.pathname+window.location.search},fetchAsyncState:function(e,t){return void 0===e&&(e=""),void 0===t&&(t=!1),S(this,void 0,void 0,(function(){var n,r,o,c,l,d;return O(this,(function(f){switch(f.label){case 0:return n=this._getAsyncWidgetApi(),o=(r=this).asyncHash,c=r.componentName,l=t||this.getCurrentUrl(),this.isAsyncLoading=!0,[4,n.post({asyncHash:o,extraBody:e,url:l,componentName:c})];case 1:d=f.sent();try{this._replaceAsyncState(d)}catch(e){this.logComposerError(e)}return this.isAsyncLoading=!1,this.isAsyncLoaded=!0,[2]}}))}))},_replaceAsyncState:function(e){e.isSkip&&this.$emit("onDestroy");var t=this.asyncWidgetMapper,n=this.asyncSharedMapper,o=this.vertical;if(!e||"object"!==Object(r.a)(e))throw new h.a(f.o.WIDGET_ASYNC_EMPTY_RESPONSE);var c=e.state,l=e.verticalShared;c&&Object.keys(c).length&&(t&&"function"==typeof t&&(c=t(c)),this.setWidgetState(c)),l&&Object.keys(l).length&&(n&&"function"==typeof n&&(l=n(l)),this._replaceSharedStoreAction({vertical:o,verticalShared:l}))},_getAsyncWidgetApi:function(){return this.$api.composer.widget},_tryToLoadOnMount:function(){return S(this,void 0,void 0,(function(){return O(this,(function(e){switch(e.label){case 0:return this._isAsyncByType("onPageLoad")?[4,this.fetchAsyncState()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},_tryToRegisterViewEvent:function(){this._isAsyncByType("onViewport")&&this.registerViewportEvent(this.fetchAsyncState,{once:!0})},_isAsyncByType:function(e){return this.asyncType===e&&this.asyncHash&&!this.isAsyncDelay}})},w=n("1c8607"),C={props:{trackingInfo:{type:[Object,String],default:function(){return{}}},trackingOn:{type:Boolean,default:!1},root:{type:Boolean,default:!1}},mounted:function(){this.trackingOn&&this.registerViewportEvent(this._sendViewEvent,{once:!0})},methods:{_sendViewEvent:function(){this._sendAnalyticEvent(w.b.WIDGET_VIEW_ACTION)},_sendAnalyticEvent:function(e){if(this.root||this.universalComponent)return!1;w.a.send(e,{widget:this.trackingInfo})}}},k={mounted:function(){d()(this.$store.state,"o3Params",{})["x-o3-debug-toolbar"]&&this.$el instanceof HTMLElement&&(this.$el.dataset.widgetId=d()(this,"trackingInfo.id"),this.$el.dataset.widgetName=d()(this,"componentName"),this.$el.dataset.vertical=d()(this,"vertical"))}},P=function(){return(P=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},R={name:"BaseWidget",provide:function(){return{parentLayoutPath:this.root?"":this.widgetLayoutPath}},data:function(){return{customWidgetState:null}},mixins:[Object(v.a)(),y.a,C,I,k],props:{stateId:{type:String,default:null},layoutPath:{type:String,default:""},vertical:{type:String,required:!0},componentName:{type:String,required:!0},version:{type:Number,default:null},index:{type:Number,default:0},root:{type:Boolean,default:!1},placeholders:{type:[Array,Object],default:function(){return[]}},state:{type:[Object,String],default:function(){return{}}},clientState:{type:String,default:function(){return""}},etag:{type:String,default:null},apiVersion:{type:Number,default:2}},beforeCreate:function(){var e=this.$options.propsData||{};if(2===e.apiVersion&&e.stateId){var t=d()(this.$vnode,"elm.dataset.clientState"),n=d()(this.$stateObserver,"value["+e.stateId+"]"),r=t||n;e.state=r?JSON.parse(r):{}}},created:function(){var e=this;2===this.apiVersion&&(this.state&&Object.keys(this.state).length&&this.setWidgetState(this.state),this.$stateObserver&&this.$stateObserver.asObservable().subscribe((function(t){if(null===t||null==t[e.stateId])return!1;e.setWidgetState(t[e.stateId])}))),this.checkState()},computed:P({},Object(E.e)({componentsState:function(e){return void 0===e&&(e={}),d()(e,this.groupStatePath,null)}}),{groupStatePath:function(){return[this.vertical,this.componentName].join(".")},widgetStatePath:function(){return[this.groupStatePath,this.stateId].join(".")},widgetState:function(){return 1===this.apiVersion?(this.componentsState||{})[this.stateId]||{}:null!==this.customWidgetState?this.customWidgetState:this.state},widgetLayoutPath:function(){var e=2===this.apiVersion&&this.layoutPath?".widgets":"";return this.layoutPath+(e+"[")+this.index+"]"}}),methods:P({},Object(E.b)("composer",{_replaceStateByPath:"REPLACE_STATE_BY_PATH"}),{vueSet:c.vueSet,checkState:function(){var e=this.componentsState,t=this.state,n=this.stateId,r=this.asyncType;try{m(1===this.apiVersion?e&&e[n]:t,n,void 0!==r)}catch(e){this.logError(e)}},setWidgetStateValue:function(path,e){if(1!==this.apiVersion)return null===this.customWidgetState&&(this.customWidgetState=Object.assign({},this.state)),this.vueSet(this.customWidgetState,path,e);path=[this.widgetStatePath,path].join("."),this._replaceStateByPath({path:path,value:e})},setWidgetState:function(e){if(1===this.apiVersion)return this._replaceStateByPath({path:this.widgetStatePath,value:e});switch(Object(r.a)(e)){case"string":e=JSON.parse(e);break;case"object":e=Object.assign({},e);break;default:return this.logError(new h.a(f.o.WIDGET_WRONG_SET_STATE)),!1}this.customWidgetState=e||{}},notEmptyPlaceholder:function(e){if(1===this.apiVersion)return this.placeholders[e]&&this.placeholders[e].length;var t=(this.placeholders||[]).find((function(t){return t.name===e}));return t&&t.widgets&&t.widgets.length},getLoggerParams:function(){return{widget:this.componentName,stateId:this.stateId,vertical:this.vertical,error:this.widgetState.error}},logError:function(e){this.logComposerError(e,this.getLoggerParams())}})};t.a=o.default.extend(R)},"49aead":function(e,t,n){"use strict";n.r(t);var r=n("d5730a");n.d(t,"state",(function(){return r.state})),n.d(t,"mutations",(function(){return r.mutations})),n.d(t,"actions",(function(){return r.actions}))},"4a26ec":function(e,t,n){"use strict";var r=n("1ace75"),o=n.n(r);t.default=o.a},"4a43b6":function(e,t,n){e.exports={header:"_5e14cb",modPickupDetailHeader:"_0b59f2",modPickupDetail:"_1ea05e",modAddressInfo:"cd3b03",modPaymentInfo:"f9775f",modAddressEditDetail:"_1e0e7f",modPremiumBanner:"_41ad15",modAtomList:"c2a35f",modAddressEditForm:"ad8906",icon:"c04382",title:"_6a4785",isClickable:"_3a9386",":hover":"cdfe74",blink:"_547c2f"}},"4a562f":function(e,t,n){"use strict";var r=n("da3774"),o=n.n(r);t.default=o.a},"4a9cdc":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o})),n.d(t,"getters",(function(){return c})),n.d(t,"actions",(function(){return l}));n("12a106"),n("c08bb9"),n("aae158"),n("b82e15");var r=function(){return{user:{block:!1},delivery:{types:!1,modal:!1},packages:{block:!1},payment:{block:!1},banners:{premium:!1,premiumSold:!1}}},o={setLoading:function(e,t){var n=t.block,r=t.target,o=t.status;e[n][r]=o}},c={isTotalLoading:function(e){return Object.entries(e).some((function(e){return Object.entries(e[1]).some((function(e){return!0===e[1]}))}))}},l={SET_LOADING:function(e,t){(0,e.commit)("setLoading",{block:t.block,target:t.target,status:t.status})},SET_LOADING_ALL:function(e,t){var n=e.state,r=e.commit;Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach((function(n){r("setLoading",{block:e,target:n,status:t})}))}))}}},"4aabb9":function(e,t,n){"use strict";n("cb1771");var input=n("b8ef3b"),r=n.n(input),o=n("670dd8"),c=n.n(o),l=n("a17947"),d={name:"FormFieldPhone",components:{OzInput:r.a,OzField:c.a},props:{field:{type:Object,required:!0},testId:{type:String,required:!0},disabled:{type:Boolean,default:function(){return!1}},maxLength:{type:String,default:function(){return"20"}}},data:function(){return{isCtrlAction:!1}},methods:{onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)},onKeydown:function(e){var t=e.key;return this.isCtrlAction&&["c","v","z","с","м","я"].some((function(e){return e===t}))?(this.isCtrlAction=!1,void this.$emit("keydown",e)):(this.isCtrlAction=!1,["Meta","Control"].some((function(e){return e===t}))?(this.isCtrlAction=!0,void this.$emit("keydown",e)):void(["Tab","Backspace","Enter","ArrowLeft","ArrowRight"].some((function(e){return e===t}))?this.$emit("keydown",e):t>="0"&&t<="9"?this.$emit("keydown",e):(e.preventDefault(),e.stopPropagation())))},onKeyup:function(e){var t=e.key;this.isCtrlAction&&["Meta","Control"].some((function(e){return e===t}))&&(this.isCtrlAction=!1,e.preventDefault(),e.stopPropagation()),this.$emit("keyup",e)},onInput:function(e){if(e){var t=Object(l.c)("+"+e.replace(/[^0-9]/g,""));this.$emit("phoneChanged",t)}else this.$emit("phoneChanged",{value:"",valid:!1})}}},f=(n("25cc8d"),n("2bcfeb"),n("047512")),h=n("b429cb");var component=Object(h.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("OzField",{class:e.$style.field,attrs:{errors:[e.field.errorText]}},[n("OzInput",{directives:[{name:"qa",rawName:"v-qa:id",value:e.testId,expression:"testId",arg:"id"}],attrs:{value:e.field.value,type:e.field.type,name:"phone",autofocus:e.field.autofocus,disabled:e.disabled,placeholder:e.field.placeholder,"has-error":Boolean(e.field.errorText),"max-length":e.maxLength,size:"xl"},on:{blur:e.onBlur,focus:e.onFocus,input:e.onInput,keyup:e.onKeyup,keydown:e.onKeydown}})],1)}),[],!1,(function(e){this.$style=f.default.locals||f.default}),null,null);t.a=component.exports},"4af4eb":function(e,t,n){},"4b21b0":function(e,t,n){e.exports={checkbox:"_36d94a",checkmark:"_1f5269","checkbox-label":"_1d7fa7",agreementCheckbox:"_1d1d85",blink:"f751ea"}},"4b4a3c":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o})),n.d(t,"getters",(function(){return c})),n.d(t,"actions",(function(){return l}));var r=function(){return{default:{title:"",items:[]}}},o={},c={},l={}},"4bb5bb":function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106");var r,o=n("5eabea"),c=n("dc67af"),l=n.n(c);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var f="SUBMIT",h="INFO",m="DISABLED",v="PLAIN_TEXT",y=(r={},Object(o.a)(r,f,{theme:"primary"}),Object(o.a)(r,h,{theme:"secondary"}),Object(o.a)(r,m,{theme:"secondary",disabled:!0}),Object(o.a)(r,v,{theme:"inline"}),r),E={name:"CheckoutButton",components:{OzButton:l.a},props:{type:{type:String,default:f}},computed:{attributes:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(source,!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},this.$attrs,{},y[this.type])}},methods:{onClick:function(){this.$emit("click")}}},_=(n("8c2bd8"),n("b429cb")),component=Object(_.a)(E,(function(){var e=this.$createElement;return(this._self._c||e)("OzButton",this._b({on:{click:this.onClick}},"OzButton",this.attributes,!1))}),[],!1,null,null,null);t.a=component.exports},"4cf0df":function(e,t,n){e.exports={navigation:"_167342",blink:"c257dd"}},"4d6028":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o})),n.d(t,"getters",(function(){return c})),n.d(t,"actions",(function(){return l}));var r=function(){return{}},o={},c={},l={}},"4d7d00":function(e,t,n){"use strict";var r=n("5a3f76");n.n(r).a},"4d9995":function(e,t,n){},"4da6de":function(e,t,n){"use strict";n.r(t);var r={MarketingPersonalBanner:{content:function(){return n.e(213).then(n.bind(null,"f9d461"))}},MarketingFreeDeliveryBanner:{content:function(){return n.e(210).then(n.bind(null,"c07a88"))}},MarketingFeaturedProducts:{content:function(){return Promise.all([n.e(1),n.e(206)]).then(n.bind(null,"2cd0d5"))}},MarketingSellerTransparency:{content:{desktop:function(){return Promise.all([n.e(1),n.e(0),n.e(222)]).then(n.bind(null,"10abe6"))},mobile:function(){return Promise.all([n.e(1),n.e(0),n.e(226)]).then(n.bind(null,"736070"))}}},MarketingFlashSalePreview:{content:function(){return n.e(209).then(n.bind(null,"935145"))}},MarketingFlashSale:{content:function(){return n.e(208).then(n.bind(null,"1e4e8c"))}},MarketingSellerCategory:{content:{desktop:function(){return n.e(221).then(n.bind(null,"c65747"))},mobile:function(){return n.e(225).then(n.bind(null,"cda73c"))}}},MarketingSellerList:{content:function(){return Promise.all([n.e(1),n.e(0),n.e(214)]).then(n.bind(null,"f91b78"))}},MarketingInfoCouponList:{content:function(){return n.e(205).then(n.bind(null,"24755a"))}},MarketingInfoCouponCategory:{content:function(){return n.e(205).then(n.bind(null,"d17303"))}},MarketingInfoFilters:{content:function(){return n.e(207).then(n.bind(null,"d4ef72"))}},MarketingPageTitle:{content:function(){return n.e(212).then(n.bind(null,"4678a3"))}},MarketingShopInShopContainer:{content:function(){return Promise.all([n.e(0),n.e(217)]).then(n.bind(null,"184992"))}},MarketingInfoSpoilerContainer:{content:function(){return n.e(218).then(n.bind(null,"078c74"))}},MarketingSellerCarousel:{content:{desktop:function(){return Promise.all([n.e(1),n.e(0),n.e(220)]).then(n.bind(null,"2c2c6a"))},mobile:function(){return Promise.all([n.e(1),n.e(0),n.e(224)]).then(n.bind(null,"9ec012"))}}},MarketingSellerNavigation:{content:function(){return n.e(215).then(n.bind(null,"127134"))}},MarketingShopInShopButton:{content:function(){return n.e(216).then(n.bind(null,"5a326b"))}},MarketingMiniPdpCarousel:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(0),n.e(211)]).then(n.bind(null,"0e432a"))}},MarketingInfoCouponCarousel:{content:{desktop:function(){return n.e(219).then(n.bind(null,"e3e4d2"))},mobile:function(){return n.e(223).then(n.bind(null,"383e72"))}}}};t.default=r},"4e8d76":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return h})),n.d(t,"mutations",(function(){return m})),n.d(t,"getters",(function(){return v})),n.d(t,"actions",(function(){return y}));n("e28425"),n("f8695b"),n("41d819"),n("aae158");var r=n("bbfe95"),o=n("8848ed"),c=n("a17947"),l=function(){return(l=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},d=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},f=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},h=function(){return{data:{receiverPhone:{value:""},receiverFirstLastName:{name:"",surname:"",patronymic:"",value:"",gender:void 0}},receiverFirstLastNameSuggest:null,isReceiverFormVisible:!1}},m={setReceiverLastName:function(e,t){e.data.receiverFirstLastName.surname=t},setReceiverFirstName:function(e,t){e.data.receiverFirstLastName.name=t},setReceiverFirstLastName:function(e,t){e.data=l({},e.data,{receiverFirstLastName:t})},setReceiverFirstLastNameSuggest:function(e,t){e.receiverFirstLastNameSuggest=t},setIsReceiverFormVisible:function(e,t){e.isReceiverFormVisible=t},setReceiverPhone:function(e,t){e.data.receiverPhone=t}},v={isPhoneValid:function(e){return!e.data.receiverPhone.value||Object(c.g)(e.data.receiverPhone.value)},mappings:function(e){return Object(o.mergeStateWithMappings)(e.data,{receiverPhone:e.data.receiverPhone.value,receiverFirstName:e.data.receiverFirstLastName.name,receiverLastName:e.data.receiverFirstLastName.surname,receiverMiddleName:e.data.receiverFirstLastName.patronymic})}},y={SET_FULLNAME:function(e,t){var n=e.commit,c=e.dispatch,l=e.rootState;return d(this,void 0,void 0,(function(){var e;return f(this,(function(d){switch(d.label){case 0:if(t.isDadata)return delete t.isDadata,n("setReceiverFirstLastName",t),[2];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,o.updateFullName.call(this,{dispatch:c,rootState:l,fullName:t.value,fieldName:"receiverFirstLastName",formType:"receiver"})];case 2:return d.sent(),t.value&&c("TOGGLE_RECEIVER_FORM",!0),[3,4];case 3:return e=d.sent(),this.$logger.error({exception:e,message:r.h.ERROR_PARSE_RECEIVER_FULLNAME}),[3,4];case 4:return[2]}}))}))},SET_LAST_NAME:function(e,t){var n=e.state,r=e.dispatch;return d(this,void 0,void 0,(function(){var e;return f(this,(function(o){switch(o.label){case 0:return e=(n.data.receiverFirstLastName.name+" "+t).trim(),[4,r("SET_FULLNAME",{value:e})];case 1:return o.sent(),[2]}}))}))},SET_FIRST_NAME:function(e,t){var n=e.state,r=e.dispatch;return d(this,void 0,void 0,(function(){var e;return f(this,(function(o){switch(o.label){case 0:return e=(t+" "+n.data.receiverFirstLastName.surname).trim(),[4,r("SET_FULLNAME",{value:e})];case 1:return o.sent(),[2]}}))}))},SET_RECEIVER_PHONE:function(e,t){var n=e.commit,r=e.dispatch;n("setReceiverPhone",{value:t}),t&&r("TOGGLE_RECEIVER_FORM",!0)},SET_FIRST_LAST_NAME_SUGGEST:function(e,t){(0,e.commit)("setReceiverFirstLastNameSuggest",t)},TOGGLE_RECEIVER_FORM:function(e,t){(0,e.commit)("setIsReceiverFormVisible",t)},RESET_RECEIVER:function(e){var t=e.dispatch;return d(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,t("SET_FULLNAME",{value:""})];case 1:return e.sent(),t("SET_RECEIVER_PHONE",""),t("TOGGLE_RECEIVER_FORM",!1),[2]}}))}))}}},509163:function(e,t,n){"use strict";var r,o;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),function(e){e.LIGHT="light",e.GRAY="gray"}(r||(r={})),function(e){e.RESET_PADDING="m-reset-padding"}(o||(o={}))},"50fde5":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("a0d0bf"),o=n("ff287e"),c=n.n(o),l=function(e,t,n){var o={pageType:/\/checkout$/.test(t)?"checkout":"unknown",prevType:"",ruleId:0,layoutId:0,layoutVersion:0},l=c()(e,"layoutTrackingInfo")||o,d=c()(e,"browser.isDesktop")||!1;return{appVersion:"2.0.0",beacon:!0,layoutTrackingInfo:l,location:function(e){var t=c()(e,"experiments.abGroup")||-1,n=c()(e,"location.current.areaId")||-1,r=c()(e,"location.current.geoCoordinate")||{},o=c()(e,"browser.ip")||"";return{abGroup:t,areaId:n,geoCoordinate:r,ip:o}}(e),page:function(e,t){return{currentPageUrl:e,previousPageUrl:t}}(t,n),search:function(e){var t=c()(e,"shared.catalog.correctedText")||null,n=c()(e,"shared.catalog.currentText")||null,r=t||n||null,o=c()(e,"shared.catalog.totalFound")||0;return{searchText:r,searchResult:"number"==typeof o?o:null}}(e),user:function(e){var t=function(e){var t=c()(e,"userInfo.user.isEmployee")||!1,n=c()(e,"userInfo.user.userType")||1;if(t)return"employee";if(2===n)return"legal";return"physical"}(e),n=c()(e,"userInfo.user.email")||"",o=c()(e,"userInfo.user.sex")||-1,l=c()(e,"userInfo.user.userId")||0,d=function(e){var t=c()(e,"userInfo.user.firstName",""),n=c()(e,"userInfo.user.lastName",""),r=c()(e,"userInfo.user.middleName",""),o="";n&&(o+=n);if(t){o+=""+(o?" ":"")+t}if(r){o+=""+(o?" ":"")+r}return o}(e),f=c()(e,"authorization.sessionId")||"",h=c()(e,"userInfo.user.loyaltyStatus.id",0);return{clientType:t,email:n,gender:o,id:l,name:d,sessionId:f,isPremium:h===r.a}}(e),website:{type:d},namespace:"bx"}}},514846:function(e,t,n){"use strict";n.r(t);var r={CheckoutFacadeBackToCartButton:{content:function(){return n.e(56).then(n.bind(null,"3f036a"))}},CheckoutFacadeLeaveAtDoor:{content:function(){return n.e(58).then(n.bind(null,"e00f60"))}},CheckoutFacadeLeaveAtDoorText:{content:function(){return n.e(59).then(n.bind(null,"a655ff"))},extendPlaces:!0,places:["leave-at-door.nestedPage1"]},CheckoutFacadeAddressBook:{content:function(){return Promise.all([n.e(1),n.e(0),n.e(45)]).then(n.bind(null,"bcf8d9"))}},CheckoutFacadeAddressInfo:{content:function(){return n.e(55).then(n.bind(null,"93f04a"))}},CheckoutFacadePaymentInfo:{content:function(){return n.e(61).then(n.bind(null,"500599"))}},CheckoutFacadePaymentEdit:{content:function(){return Promise.all([n.e(1),n.e(0),n.e(60)]).then(n.bind(null,"ece226"))}},CheckoutFacadeSplit:{content:function(){return Promise.all([n.e(0),n.e(65)]).then(n.bind(null,"af6a61"))}},CheckoutFacadePremiumBanner:{content:function(){return n.e(63).then(n.bind(null,"b76c25"))}},CheckoutFacadeTotal:{content:function(){return n.e(68).then(n.bind(null,"f29d0d"))}},CheckoutFacadeDiscountCode:{content:function(){return n.e(57).then(n.bind(null,"a4882b"))}},CheckoutFacadeSplitDetailWeb:{content:function(){return Promise.all([n.e(1),n.e(0),n.e(66)]).then(n.bind(null,"4e4f15"))}},CheckoutFacadeTrustFactors:{content:function(){return n.e(69).then(n.bind(null,"c02568"))},extendPlaces:!0,places:["header.stepsBar"]},CheckoutFacadeError:{content:function(){return n.e(6).then(n.bind(null,"9c6bed"))}},CheckoutFacadePremiumBannerDetails:{content:function(){return n.e(64).then(n.bind(null,"880b67"))}},CheckoutFacadeAddressEditLayout:{content:function(){return n.e(52).then(n.bind(null,"1c90fc"))}},CheckoutFacadeAddressEditBackButton:{content:function(){return n.e(46).then(n.bind(null,"0a96f8"))},extendPlaces:!0,places:["address-edit-layout.left"]},CheckoutFacadeAddressEditMap:{content:function(){return Promise.all([n.e(1),n.e(0),n.e(53)]).then(n.bind(null,"0b1000"))},extendPlaces:!0,places:["address-edit-layout.right"]},CheckoutFacadeAddressEditForm:{content:function(){return n.e(50).then(n.bind(null,"044d08"))},extendPlaces:!0,places:["address-edit-layout.left"]},CheckoutFacadeAddressEditConfirmButton:{content:function(){return n.e(48).then(n.bind(null,"afbc1e"))},extendPlaces:!0,places:["address-edit-layout.left"]},CheckoutFacadeAddressEditCarouselWeb:{content:function(){return n.e(47).then(n.bind(null,"0e5182"))},extendPlaces:!0,places:["address-edit-layout.left"]},CheckoutFacadeAddressEditDetail:{content:function(){return n.e(49).then(n.bind(null,"bd20bc"))},extendPlaces:!0,places:["address-edit-layout.left"]},CheckoutFacadeSteps:{content:function(){return n.e(67).then(n.bind(null,"e6e02e"))},extendPlaces:!0,places:["header.stepsBar"]},CheckoutFacadeAddressEditUnavailableItems:{content:function(){return n.e(54).then(n.bind(null,"acac9a"))},extendPlaces:!0,places:["address-edit-layout.left","address-edit-detail.modal","address-edit-form.modal"]},CheckoutFacadeAddressEditPickUpDetail:{content:function(){return n.e(62).then(n.bind(null,"e4c40a"))}},CheckoutFacadeAddressEditFormPrompt:{content:function(){return n.e(51).then(n.bind(null,"399a82"))},extendPlaces:!0,places:["address-edit-layout.left"]}};t.default=r},"5238e6":function(e,t,n){"use strict";var r=n("6461b9"),o=n.n(r);t.default=o.a},"539d21":function(e,t,n){"use strict";n.r(t);var r={PdpProduct:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(0),n.e(255)]).then(n.bind(null,"a6f723"))},extendPlaces:!0},PdpTrustFactors:{content:function(){return Promise.all([n.e(0),n.e(262)]).then(n.bind(null,"89071b"))},extendPlaces:!0,places:["pdp.sellerTrustFactors","pdp.productTrustFactors"]},PdpVariants:{content:function(){return n.e(263).then(n.bind(null,"aa42d2"))},extendPlaces:!0,places:["pdp.variants"]},PdpNotFound404:{content:function(){return n.e(249).then(n.bind(null,"a499de"))},extendPlaces:!0},PdpProductMini:{content:function(){return Promise.all([n.e(1),n.e(0),n.e(253)]).then(n.bind(null,"08e11b"))},extendPlaces:!0},PdpCharacteristics:{content:function(){return Promise.all([n.e(3),n.e(0),n.e(238)]).then(n.bind(null,"1835c7"))},extendPlaces:!0,places:["pdp.characteristicsShort","pdp.characteristicsLong","pdp.characteristics"]},PdpDetailSKU:{content:function(){return Promise.all([n.e(0),n.e(252)]).then(n.bind(null,"0c75eb"))},extendPlaces:!0},PdpTechInstall:{content:function(){return Promise.all([n.e(0),n.e(254)]).then(n.bind(null,"9ebd04"))},extendPlaces:!0,places:["pdp.techInstall"]},PdpWebCurrentSeller:{content:function(){return Promise.all([n.e(0),n.e(251)]).then(n.bind(null,"992058"))},extendPlaces:!0,places:["pdp.webCurrentSeller"]},PdpWebCredit:{content:function(){return Promise.all([n.e(0),n.e(239)]).then(n.bind(null,"4bb4da"))},extendPlaces:!0,places:["pdp.saleBlock"]},PdpFragments:{content:function(){return Promise.all([n.e(1),n.e(0),n.e(242)]).then(n.bind(null,"230061"))},extendPlaces:!0,places:["pdp.fragments"]},PdpAddToFavorite:{content:function(){return Promise.all([n.e(0),n.e(235)]).then(n.bind(null,"44bea6"))},extendPlaces:!0,places:["pdp.grid.default"]},PdpWebCustomisedCertificate:{content:function(){return Promise.all([n.e(1),n.e(3),n.e(0),n.e(240)]).then(n.bind(null,"e41eec"))},extendPlaces:!0,places:["pdp.customisedCertificate"]},PdpWebGalleryTile:{content:function(){return Promise.all([n.e(2),n.e(3),n.e(0),n.e(244)]).then(n.bind(null,"7f7c85"))},extendPlaces:!0},PdpSharingButton:{content:function(){return Promise.all([n.e(1),n.e(0),n.e(261)]).then(n.bind(null,"dfac1d"))},extendPlaces:!0,places:["pdp.grid.default"]},PdpAddToCompare:{content:function(){return Promise.all([n.e(0),n.e(234)]).then(n.bind(null,"abf612"))},extendPlaces:!0,places:["pdp.grid.default"]},PdpWebMarketingLabels:{content:function(){return Promise.all([n.e(0),n.e(247)]).then(n.bind(null,"f723db"))},extendPlaces:!0,places:["pdp.marketingLabels"]},PdpWebBrand:{content:function(){return Promise.all([n.e(0),n.e(237)]).then(n.bind(null,"72b235"))},extendPlaces:!0,places:["pdp.brand"]},PdpWebMarketingMarks:{content:function(){return Promise.all([n.e(0),n.e(248)]).then(n.bind(null,"1fd69e"))},extendPlaces:!0,places:["pdp.grid.default"]},PdpWebProductHeading:{content:function(){return Promise.all([n.e(0),n.e(256)]).then(n.bind(null,"6b02da"))},extendPlaces:!0,places:["pdp.grid.default"]},PdpWebSale:{content:function(){return Promise.all([n.e(0),n.e(258)]).then(n.bind(null,"683067"))},extendPlaces:!0,places:["pdp.saleBlock"]},PdpWebBoughtEarlier:{content:function(){return Promise.all([n.e(0),n.e(236)]).then(n.bind(null,"6edde0"))},extendPlaces:!0,places:["pdp.saleBlock"]},PdpAddToCart:{content:function(){return Promise.all([n.e(3),n.e(0),n.e(233)]).then(n.bind(null,"88f485"))},extendPlaces:!0,places:["pdp.saleBlock","pdp.addToCart","pdp.fragmentAddToCart"]},PdpWebSellerList:{content:function(){return Promise.all([n.e(0),n.e(260)]).then(n.bind(null,"aa7a22"))},extendPlaces:!0,places:["pdp.placeholder10"]},PdpWebOneClickButton:{content:function(){return Promise.all([n.e(0),n.e(250)]).then(n.bind(null,"84a26d"))},extendPlaces:!0,places:["pdp.saleBlock","pdp.grid.default"]},SelectorSelector:{content:function(){return Promise.all([n.e(0),n.e(259)]).then(n.bind(null,"a91753"))},extendPlaces:!0},PdpWebDelivery:{content:function(){return Promise.all([n.e(0),n.e(241)]).then(n.bind(null,"3497b7"))},extendPlaces:!0,places:["pdp.saleBlock"]},PdpWebPdpGrid:{content:function(){return Promise.all([n.e(0),n.e(246)]).then(n.bind(null,"3f3ca3"))},extendPlaces:!0,places:["pdp.detailPanel","pdp.saleBlock"]},PdpWebGiftBuyButton:{content:function(){return Promise.all([n.e(2),n.e(0),n.e(245)]).then(n.bind(null,"9c1dd6"))},extendPlaces:!0,places:["pdp.saleBlock","pdp.grid.default"]},PdpWebProductMainWidget:{content:function(){return n.e(257).then(n.bind(null,"34d293"))},extendPlaces:!0},PdpWebGallery:{content:function(){return Promise.all([n.e(2),n.e(3),n.e(0),n.e(243)]).then(n.bind(null,"d1c3ec"))},extendPlaces:!0,places:["pdp.mediagallery","pdp.grid.default"]}};t.default=r},"53cca8":function(e,t,n){},"56afa9":function(e,t,n){"use strict";n("497371");var r=n("2621de"),o=n("e2e38d"),c={name:"CarouselCdnImage",components:{CarouselImage:r.a},props:{image:{type:String,required:!0},size:{type:[String,Number],required:!0},imageGrey:{type:Boolean,default:!1}},computed:{computedImage:function(){return this.image?Object(o.a)(this.image,this.size,this.imageGrey):"https://cdn1.ozone.ru/graphics/new_no_photo.png"}}},l=n("b429cb"),component=Object(l.a)(c,(function(){var e=this.$createElement;return(this._self._c||e)("CarouselImage",{attrs:{image:this.computedImage,"image-grey":this.imageGrey}})}),[],!1,null,null,null);t.a=component.exports},"570f9b":function(e,t,n){e.exports={activeSection:"_02885b",leftAside:"_4d969e",topMarketingLinks:"_4b8b54",linksBlockWrap:"_0db8e5",column:"e959da",columnMain:"f422e0",lastOne:"_911b4e",activeSectionBlocks:"_5774a8",preloader:"d4e48a",blink:"af5533"}},574757:function(e,t,n){"use strict";var r={name:"DropdownTooltip",components:{TransitionOnlyFade:n("d516aa").a}},o=n("832e2a"),c=n("b429cb");var component=Object(c.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("TransitionOnlyFade",[t("div",{class:this.$style.dropdownTooltip},[this._t("default")],2)])}),[],!1,(function(e){this.$style=o.default.locals||o.default}),null,null);t.a=component.exports},"5774c6":function(e,t,n){},"579d3d":function(e,t,n){e.exports=n.p+"img/8c5e0df.png"},"5884ec":function(e,t,n){},"58b7f9":function(e,t,n){"use strict";var r=n("276681");n.n(r).a},"5989b5":function(e,t,n){"use strict";n("cb1771"),n("393231"),n("5dd61c"),n("66914a"),n("578d8d"),n("aef563"),n("c08bb9"),n("12a106"),n("f8695b"),n("41d819"),n("aae158");var r=n("4047f7"),o=n("33d466"),c=n("c7aace"),l=n("1c8607"),d=n("13d0b4"),f=n("ff287e"),h=n.n(f),m=n("6876d5"),v=function(){return(v=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},y=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},E=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},_={items:null,title:"Популярные"},S={items:null,title:"История"};function O(e,t,n){var r=e.catalog[t];r[Object.keys(r)[0]]=n}function T(e,t,n,r){var o=n.data.items.filter((function(e){var title=e.title,t=""===r,n=-1!==title.toLowerCase().search(r.toLowerCase());return t||n})).map((function(e){return v({},e,{queryText:r})}));""===r&&O(e,"searchHistory",v({},S,{title:S.title,items:o}));var c=function(e,t){var n=e.catalog[t];if(n)return n[Object.keys(n)[0]]}(e,"searchSuggestions");if(c&&c.title){var l=c.title.toLowerCase();t||"популярные"!==l||O(e,"searchSuggestions",v({},_))}}t.a={name:"SearchBarBase",created:function(){this.nr={}},mounted:function(){var e=this;this.nr.unsubscribeOnUnload=Object(o.a)(this.onUnload);var t=this.$analytics.searchData||{},n=t.text||this.inputValue;this.isSearch&&l.a.send(l.b.SEARCH_ACTION,{widget:this.trackingInfo||{name:"catalog.searchBarDesktop.1"},cell:{type:"search_string",countItems:this.sharedState.totalFound,filterValue:this.selectedSearchByItem.link,menuId:this.contextTitle,searchString:n,status:!1===(this.sharedState.searchContext||{}).is_global?"context":"global",suggestType:t.group}}),this.$analytics.searchData="string"==typeof this.$analytics.searchData?{eventSent:!0}:v({},this.$analytics.searchData,{eventSent:!0}),this.initSuggestions(),this.$when("composer/GET_LAYOUT",(function(){e.inputValue=e.calcValue(),e.clearSearchData()})),document.addEventListener("click",this.clickOutside,{passive:Object(r.b)(),capture:!0})},beforeDestroy:function(){this.clearSearchData(),document.removeEventListener("click",this.clickOutside),this.nr.historyUnsubscribe(),this.nr.unsubscribeOnUnload()},computed:v({},Object(m.c)({requestUrl:"composer/requestUrl"}),Object(m.e)({isComposer:function(e){return void 0!==e.layout}}),{sharedState:function(){return h()(this.$store.state,"shared.catalog",{})},isForcedSpell:function(){return-1!==window.location.href.indexOf("force_spell")},selectedSearchByItem:function(){return{link:"/search/?text={value}",placeholder:"Искать на Ozon",suggestion_enabled:!0}},suggestionsEnabled:function(){return void 0===this.selectedSearchByItem.suggestion_enabled||this.selectedSearchByItem.suggestion_enabled},isSearch:function(){return Boolean(this.inputValue)}}),methods:{onUnload:function(){this.clearSuggestionText(),this.clearSearchData()},clearSearchData:function(){"empty"!==this.$analytics.searchData&&this.$analytics.searchData.eventSent&&(this.$analytics.searchData="empty")},calcValue:function(){var e=this.$composerRouter.getParams().query,t=this.isForcedSpell,n=h()(this.$store.state,"shared.catalog.correctedText"),r=h()(this.$store.state,"shared.catalog.currentText")||e.text;return t?r:n||r},initSuggestions:function(){var e=this;this.nr.history=Object(d.a)("SuggestionsHistory",{max:10}),this.nr.historyUnsubscribe=this.nr.history.subscribe((function(t){if(["clear","remove"].includes(t)){var n=e.suggsPlaceholders.default.find((function(e){return"searchHistory"===e.component})).stateId,r=e.nr.history.data.items.filter((function(t){return-1!==t.title.search(e.nr.value)})).map((function(t){return v({},t,{queryText:e.nr.value})}));e.$store.commit("deepSet",{path:"catalog.searchHistory."+n,value:v({},S,{title:"История",items:r})})}})),this.getSuggestions("")},clearSuggestionText:function(){h()(this.$store,"state.shared.catalog.suggestSelected",null)||(this.$analytics.suggestionTextDatalayer="")},onInput:function(e){return y(this,void 0,void 0,(function(){return E(this,(function(t){switch(t.label){case 0:return this.nr.value=Object(c.n)(e),this.suggestionsEnabled?[4,this.getSuggestions(this.nr.value)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},getSuggestions:function(e){return void 0===e&&(e=""),y(this,void 0,void 0,(function(){var t,n,r,o;return E(this,(function(c){switch(c.label){case 0:if(!this.suggestionsEnabled)return[2];this.nr.request&&this.nr.request.cancel(),t=this.context&&this.context.link||""+location.pathname+location.search,this.nr.request=this.$api.composer.suggestions.get({text:e||"",currentUrl:t}),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.nr.request];case 2:for(r in T(n=c.sent(),this.isMobile,this.nr.history,e),this.suggsPlaceholders.default=n.layout,n.catalog)this.$store.commit("deepSet",{path:"catalog."+r,value:n.catalog[r]});return[3,4];case 3:return o=c.sent(),console.warn("canceled",o),[3,4];case 4:return this.nr.request=null,[2]}}))}))},onSearch:function(e){var title=e.title,t=Object(c.n)(title),link=this.selectedSearchByItem.link.replace("{value}",encodeURIComponent(t));t&&(this.addToHistory(title,link,"manual"),window.location.assign(link))},addToHistory:function(title,link,e){this.suggestionsEnabled&&this.nr.history.add({title:title,link:link,type:e})},onSelect:function(e){var link=e.link;this.nr.history.add(e),window.location.assign(link)},onClickItem:function(e){this.nr.history.add(e)},clickOutside:function(e){!e.target.closest(".autocomlete-container")&&(this.isOpen=!1)},onClickSearchBtn:function(){this.focusedItem?(this.$analytics.suggestionTextDatalayer=this.focusedItem.title,this.$store.commit("deepSet",{path:"shared.catalog.suggestSelected",value:!0}),this.$analytics.searchData={group:this.focusedItem.type,text:this.focusedItem.title},this.nr.history.add(this.focusedItem),this.focusedItem.linkEl&&this.focusedItem.linkEl.click()):(this.$analytics.searchData={text:this.inputValue},this.onSearch({title:this.inputValue}))}}}},"59ddb5":function(e,t,n){"use strict";var r=n("ec10a9");n.n(r).a},"59fb97":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));n("f8695b"),n("41d819"),n("aae158");var r=n("4a02d3"),o=n("4047f7"),c=n("bd183a"),l=n.n(c),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},f=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},h=window[r.PUBLIC_FIELD][r.BUNCH_FIELD],m=r.EBunchMasterEvents[r.EBunchMasterEvents.flush],v=r.EBunchMasterEvents[r.EBunchMasterEvents.send],y=function(e){return e+"manifest.json?"+(new Date).getTime()},E=function(){function e(e){var t=this;this.manifestUrl="",this.trackerManagerScriptUrl="",this.bucketUrl="",e&&(this.bucketUrl=e,this.manifestUrl=y(this.bucketUrl),h.isDebug=!0,h.on(m,this.onInitialEventsSend),h.on(v,this.onInitialEventsSend),this.loadTrackerManagerScript().then((function(){t.initTrackerManager(),t.clear()})))}return e.prototype.loadTrackerManagerScript=function(){return d(this,void 0,void 0,(function(){var e,data;return f(this,(function(t){switch(t.label){case 0:return[4,l.a.get(this.manifestUrl)];case 1:return e=t.sent().data,data=void 0===e?{}:e,this.trackerManagerScriptUrl=function(e,data){return e+data["manager.js"]}(this.bucketUrl,data),[4,Object(o.d)(this.trackerManagerScriptUrl,!0).then((function(e){void 0===e&&(e=[]),e[0].parentNode&&e[0].parentNode.removeChild(e[0])}))];case 2:return t.sent(),[2]}}))}))},e.prototype.initTrackerManager=function(){var e=window.TrackerManagerLib&&window.TrackerManagerLib.Manager||null;if(e){var t=new e,n=document.createElement("div");document.body.appendChild(n),t.init({el:n,trackerVersion:r.version,initialEvents:window.trackerInitialEvents,bunchMaster:h})}},e.prototype.onInitialEventsSend=function(e){var t=e.events;e.isSended&&(window.trackerInitialEvents=(window.trackerInitialEvents||[]).concat(t))},e.prototype.clear=function(){h.removeListener(m,this.onInitialEventsSend),h.removeListener(v,this.onInitialEventsSend),delete window.trackerInitialEvents},e}()},"5a3f76":function(e,t,n){},"5a536f":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o})),n.d(t,"getters",(function(){return c})),n.d(t,"actions",(function(){return l}));var r=function(){return{}},o={},c={},l={}},"5ab435":function(e,t,n){"use strict";var r,o;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),function(e){e.NOT_VALID="NOT_VALID",e.EXPIRED="EXPIRED",e.TOO_MANY_CHECK_REQUESTS="TOO_MANY_CHECK_REQUESTS"}(r||(r={})),function(e){e.CHANNEL_PHONE="CHANNEL_PHONE",e.CHANNEL_EMAIL="CHANNEL_EMAIL"}(o||(o={}))},"5af9f5":function(e,t,n){"use strict";n.r(t);var r;n("f8695b"),n("41d819"),n("aae158");!function(e){e.CURRENCIES="currencies",e.SET_CURRENCY="setCurrency"}(r||(r={})),n.d(t,"state",(function(){return l})),n.d(t,"getters",(function(){return d})),n.d(t,"mutations",(function(){return f})),n.d(t,"actions",(function(){return h}));var o=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},c=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},l=function(){return{currenciesPayload:null,inProgress:{currencies:!1,setCurrency:!1},selectedCurrencyIsSaved:null}},d={currencyList:function(e){var t=e.currenciesPayload;return t?t.currencies:[]},selectedCurrencyIndex:function(e){var t=e.currenciesPayload;return t?t.userCurrency.id:null}},f={setCurrenciesPayload:function(e,t){e.currenciesPayload=t},setCurrencySavedStatus:function(e,t){e.selectedCurrencyIsSaved=t},setSettingsRequestStatus:function(e,t){var n=t.request,r=t.status;e.inProgress[n]=r}},h={GET_CURRENCIES_REQUEST:function(e){var t=e.commit;return o(this,void 0,void 0,(function(){var e,n;return c(this,(function(o){switch(o.label){case 0:t("setSettingsRequestStatus",{request:r.CURRENCIES,status:!0}),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.$api.settings.currencies.get()];case 2:return e=o.sent(),t("setCurrenciesPayload",e),[3,5];case 3:throw n=o.sent(),new Error(n);case 4:return t("setSettingsRequestStatus",{request:r.CURRENCIES,status:!1}),[7];case 5:return[2]}}))}))},SET_SELECTED_CURRENCY_REQUEST:function(e,t){var n=e.dispatch,l=e.commit;return o(this,void 0,void 0,(function(){var e;return c(this,(function(o){switch(o.label){case 0:l("setSettingsRequestStatus",{request:r.SET_CURRENCY,status:!0}),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.$api.settings.setCurrency.put({currencyId:t})];case 2:return o.sent(),n("SET_SELECTED_CURRENCY_STATUS",!0),[3,5];case 3:throw e=o.sent(),n("SET_SELECTED_CURRENCY_STATUS",!1),e;case 4:return l("setSettingsRequestStatus",{request:r.SET_CURRENCY,status:!1}),[7];case 5:return[2]}}))}))},SET_SELECTED_CURRENCY_STATUS:function(e,t){(0,e.commit)("setCurrencySavedStatus",t)}}},"5b3cee":function(e,t,n){},"5b5f35":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return y})),n.d(t,"getters",(function(){return E})),n.d(t,"mutations",(function(){return _})),n.d(t,"actions",(function(){return S}));n("c08bb9"),n("340dbd"),n("42f576"),n("f8695b"),n("41d819"),n("aae158");var r=n("bbfe95"),o=n("79f02d"),c=n.n(o),l=n("ff287e"),d=n.n(l),f=n("362c4b"),h=function(){return(h=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},m=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},v=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},y=function(){return{groups:[],activeDeliveryMethods:[],nextGroups:[],timeSlots:{}}},E={splitGroups:function(e){return e.groups.map((function(e){return{key:e.key,splits:e.splits.map((function(e){return{key:e.key,deliveryMethodId:e.deliveryMethodId,timeSlotId:e.timeSlotId}})),merge:e.merge&&e.merge.splitAvailable&&!e.merge.mergeAvailable}})).filter((function(e){return e.key!==r.g.SPLIT_TYPES.UNAVAILABLE}))},deliveryMethodsBySplit:function(e,t,n){var r={},o=n.checkout.delivery.deliveryMethods;return o&&o.length&&o.forEach((function(e){e.splits.forEach((function(t){r[t.key]||(r[t.key]=[]),r[t.key].push(h({},t,e))}))})),r},deliveryMethodIds:function(e){return c()(e.activeDeliveryMethods)},hasNextGroupsUnavailableDelivery:function(e){if(e.nextGroups&&e.nextGroups.length)return e.nextGroups.some((function(e){return e.splits.some((function(e){return e.unavailableReason&&e.unavailableReason.reasonType===r.g.UNAVAILABLE_REASON_TYPES.DELIVERY_UNAVAILABLE}))}))},deliveryOptions:function(e){return[].concat.apply([],e.groups.map((function(e){return e.splits.map((function(e){return{d:e.dates,s:e.timeSlotId,pid:e.key}}))})))}},_={setGroups:function(e,t){e.groups=t},setActiveDeliveryMethods:function(e,t){e.activeDeliveryMethods=t},setNextGroups:function(e,t){e.nextGroups=t},setTimeSlots:function(e,t){e.timeSlots=t}},S={SET_GROUPS:function(e,t){(0,e.commit)("setGroups",function(e){return JSON.parse(JSON.stringify(e)).map((function(e){return h({},e,{splits:e.splits.map((function(e){var t=e.items.slice();return d()(e,"unavailableReason.unavailableItems.length")&&(t=e.items.sort((function(a,b){return b.isDeliveryUnavailableItem?1:-1}))),h({},e,{items:t})}))})}))}(t))},SET_ACTIVE_DELIVERY_METHODS:function(e,t){var n=e.state,r=e.commit,o=e.dispatch,c=void 0===t?{}:t,l=c.groups,d=c.areaId;return m(this,void 0,void 0,(function(){var e,t,c;return v(this,(function(f){switch(f.label){case 0:return e=[],l&&l.forEach((function(t){t.splits.forEach((function(t){t.deliveryMethodId&&e.push(t.deliveryMethodId)}))})),t=n.activeDeliveryMethods.slice(),c=t.some((function(t,n){return t!==e[n]})),t.length!==e.length||c?[4,o("GET_ALL_TIME_SLOTS",{areaId:d})]:[3,2];case 1:f.sent(),f.label=2;case 2:return r("setActiveDeliveryMethods",e),[2]}}))}))},SET_NEXT_GROUPS:function(e,t){(0,e.commit)("setNextGroups",t)},SET_DELIVERY_METHOD:function(e,t){var n=e.state,r=e.dispatch,o=t.splitKey,c=t.deliveryMethodId,l=t.timeSlotId,d=t.isUserAction;return m(this,void 0,void 0,(function(){var e,t=this;return v(this,(function(f){return e=n.groups.map((function(e){return h({},e,{splits:e.splits.map((function(e){return o&&e.key!==o?e:(d&&(c!==e.deliveryMethodId&&t.$analytics.send("checkout/changeCheckoutOptions",{GAEvent:{action:"changeProvider",oldValue:e.deliveryMethodId,newValue:c}}),l!==e.timeSlotId&&t.$analytics.send("checkout/changeCheckoutOptions",{GAEvent:{action:"changeTimeSlot",oldValue:e.timeSlotId,newValue:l}})),h({},e,{deliveryMethodId:c,timeSlotId:l}))}))})})),r("SET_GROUPS",e),[2]}))}))},GET_TIME_SLOTS:function(e,t){var n=e.rootGetters,o=void 0===t?{}:t,c=o.split,l=o.areaId;return m(this,void 0,void 0,(function(){var e,t,o,d,h,m,y,E,_;return v(this,(function(v){switch(v.label){case 0:e=c.deliveryMethodId,t=c.splitKey,o=n["checkout/summary"],d=o.items,h=o.paymentMethodId,m=o.fiasId,y=o.geoCoordinate,E=l||n["checkout/summary"].areaId,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,this.$api.checkout.time.post({areaId:E,items:d,deliveryMethodId:e,splitKey:t,paymentMethodId:h,fiasId:m,geoCoordinate:y})];case 2:return[2,v.sent()];case 3:return _=v.sent(),Object(f.a)(this.$logger,_,r.h.ERROR_FETCH_TIME_SLOTS),[2,null];case 4:return[2]}}))}))},SET_TIME_SLOTS:function(e,t){(0,e.commit)("setTimeSlots",t)},GET_ALL_TIME_SLOTS:function(e,t){var n=e.state,r=e.dispatch,o=(void 0===t?{}:t).areaId;return m(this,void 0,void 0,(function(){var e,t,c,l,d=this;return v(this,(function(f){switch(f.label){case 0:return e=[],n.groups.forEach((function(t){t.splits.forEach((function(t){t.timeSlotsAvailable&&e.push({splitKey:t.key,deliveryMethodId:t.deliveryMethodId})}))})),t=e.map((function(e){return m(d,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return[4,r("GET_TIME_SLOTS",{split:e,areaId:o})];case 1:return t=n.sent(),[2,h({},t,{splitKey:e.splitKey})]}}))}))})),[4,Promise.all(t)];case 1:return c=f.sent(),l={},c.forEach((function(element){l[element.splitKey]=element})),r("SET_TIME_SLOTS",l),[2]}}))}))}}},"5cb6cc":function(e,t,n){},"5d036f":function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106");var r,o,c,l=n("5eabea"),d=(n("e28425"),n("497371"),n("670dd8")),f=n.n(d),input=n("b8ef3b"),h=n.n(input),m=n("ff287e"),v=n.n(m),y={name:"FormBuilderFieldMixin",props:{field:{type:Object,required:!0},text:{type:String,default:""},value:{type:String,default:""},hasError:{type:Boolean,default:!1},error:{type:String,default:""}},computed:{textModel:{get:function(){return this.text},set:function(text){this.$emit("textChange",text)}},valueModel:{get:function(){return this.value},set:function(e){this.$emit("valueChange",e)}},mods:function(){if(this.hasError)return["m-error"]},isEnabled:function(){return v()(this.field,"isEnabled")}},methods:{onFocus:function(e){this.$emit("focus",{event:e,text:this.text,value:this.valueModel})},onBlur:function(e){this.$emit("blur",{event:e,text:this.text,value:this.valueModel})}}},E={name:"FormBuilderTextInput",components:{OzField:f.a,OzInput:h.a},mixins:[y]},_=(n("70afa2"),n("9b631d"),n("b429cb")),S=Object(_.a)(E,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("OzField",{attrs:{errors:[e.error]}},[n("OzInput",{attrs:{placeholder:e.field.label,"has-error":e.hasError,disabled:!e.isEnabled,size:"xl"},on:{blur:e.onBlur,focus:e.onFocus},model:{value:e.textModel,callback:function(t){e.textModel=t},expression:"textModel"}})],1)}),[],!1,null,null,null).exports,O=(n("cb1771"),n("a17947")),T={name:"FormBuilderPhoneInput",components:{OzInput:h.a,OzField:f.a},mixins:[y],data:function(){return{isCtrlAction:!1}},methods:{onFocus:function(e){var text=this.textModel;""===e.target.value&&(text=O.b),this.$emit("focus",{event:e,text:text,value:this.valueModel})},onBlur:function(e){var text=this.textModel;(this.textModel===O.b||this.textModel.length<=O.b.length)&&(text=""),this.$emit("blur",{event:e,text:text,value:this.valueModel})},onKeydown:function(e){var t=e.key;return this.isCtrlAction&&["c","v","z","с","м","я"].some((function(e){return e===t}))?(this.isCtrlAction=!1,void this.$emit("keydown",e)):(this.isCtrlAction=!1,["Meta","Control"].some((function(e){return e===t}))?(this.isCtrlAction=!0,void this.$emit("keydown",e)):void(["Tab","Backspace","Enter","ArrowLeft","ArrowRight"].some((function(e){return e===t}))?this.$emit("keydown",e):t>="0"&&t<="9"?this.$emit("keydown",e):(e.preventDefault(),e.stopPropagation())))},onKeyup:function(e){var t=e.key;this.isCtrlAction&&["Meta","Control"].some((function(e){return e===t}))&&(this.isCtrlAction=!1,e.preventDefault(),e.stopPropagation()),this.$emit("keyup",e)},onInput:function(e){if(e){var t=Object(O.c)("+".concat(e.replace(/[^0-9]/g,""))).value;this.textModel=t}else this.textModel=""}}},I=Object(_.a)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("OzField",{attrs:{errors:[e.error]}},[n("OzInput",{attrs:{value:e.textModel,type:"phone",disabled:!e.isEnabled,placeholder:e.field.label,"has-error":e.hasError,size:"xl"},on:{blur:e.onBlur,focus:e.onFocus,input:e.onInput,keyup:e.onKeyup,keydown:e.onKeydown}})],1)}),[],!1,null,null,null).exports,w=(n("393231"),n("6463c3")),C={name:"FormBuilderSelect",components:{OzSelect:n.n(w).a},mixins:[y],computed:{options:function(){return v()(this.field,"selectOptions.options")},placeholder:function(){return v()(this.field,"selectOptions.title")},selectValue:function(){var e=this;return this.options.find((function(option){return option.value===e.value})).value}},methods:{onChange:function(e){if(e){this.valueModel=e;var element=this.options.find((function(option){return option.value===e}));this.$emit("select",element)}},getSelectedOptionHtml:function(element){var e=v()(element,"options[0]");if(e)return this.options.find((function(t){return t.value===e})).text}}},k=(n("fddc44"),Object(_.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("OzSelect",{attrs:{"label-key":"text","index-key":"value",options:e.options,placeholder:e.placeholder,value:e.selectValue,disabled:!e.isEnabled},on:{change:e.onChange},scopedSlots:e._u([{key:"option",fn:function(element){return[n("span",{domProps:{innerHTML:e._s(element.label)}})]}},{key:"selectedOptions",fn:function(element){return[n("span",{domProps:{innerHTML:e._s(e.getSelectedOptionHtml(element))}})]}}])})}),[],!1,null,null,null).exports),P=(n("2c09af"),n("dc77a5")),R=n("2ba6e5"),x=n.n(R),A=n("2739e4"),L=n.n(A),D=n("331f86"),$=n.n(D),M={name:"FormBuilderAutocomplete",components:{OzField:f.a,OzInput:h.a,OzPopover:L.a,OzDropDown:x.a},mixins:[y],data:function(){return{prevModel:"",suggests:[],notExact:!1,isLoading:!1,isSuggestsVisible:!1,highlightIndex:-1,isSelect:!1,dropdownMaxWidth:null}},computed:{searchLink:function(){return v()(this.field,"searchOptions.link")},isDropdownVisible:function(){return Boolean(this.isSuggestsVisible&&this.suggests.length)}},watch:{isDropdownVisible:function(e){e&&(this.dropdownMaxWidth="".concat(this.$refs.autocomplete.$el.offsetWidth,"px"))},suggests:function(e){this.highlightIndex>e.length-1&&(this.highlightIndex=e.length-1)}},mounted:function(){var e=this;this.debouncedUpdateSuggests=$()(function(){var t=Object(P.a)(regeneratorRuntime.mark((function t(text){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.updateSuggests(text));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),150)},methods:{onInput:function(text){this.isLoading=!0,this.debouncedUpdateSuggests(text)},onSelect:(c=Object(P.a)(regeneratorRuntime.mark((function e(t){var option,title,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(option=t.option,this.isSuggestsVisible=!1,!option){e.next=13;break}if(title=option.title,n=option.notExact,this.$emit("textChange",title),this.notExact=n,!this.notExact){e.next=12;break}return e.next=9,this.onFocus();case 9:this.$refs.autocomplete.$el.querySelector("input").focus(),e.next=13;break;case 12:this.$emit("select",option);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)}),onFocus:(o=Object(P.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.notExact||(this.prevModel=this.textModel,this.$emit("focus",{event:t})),!this.textModel){e.next=4;break}return e.next=4,this.updateSuggests(this.textModel);case 4:this.isSuggestsVisible=!0;case 5:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)}),onBlur:function(e){this.$_addressSuggestPromise&&this.$_addressSuggestPromise.cancel&&this.$_addressSuggestPromise.cancel(),this.isSuggestsVisible=!1,this.isLoading=!1;var text=this.prevModel;this.$emit("blur",{event:e,text:text,value:this.valueModel})},onEscape:function(){this.$refs.autocomplete.$refs.inputEl.blur()},onKeyUp:function(){this.highlightIndex>0&&(this.highlightIndex-=1)},onKeyDown:function(){this.highlightIndex<this.suggests.length-1&&(this.highlightIndex+=1)},onEnter:function(){this.suggests[this.highlightIndex]&&this.onSelect({option:this.suggests[this.highlightIndex]})},updateSuggests:(r=Object(P.a)(regeneratorRuntime.mark((function e(t){var link,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return this.$_addressSuggestPromise&&this.$_addressSuggestPromise.cancel&&this.$_addressSuggestPromise.cancel(),link=this.searchLink.replace("{q}",t),this.$_addressSuggestPromise=this.$api.checkoutComposer.autocompleteSuggests.get({link:link}),this.isLoading=!0,e.prev=6,e.next=9,this.$_addressSuggestPromise;case 9:(n=e.sent)&&n.suggests&&(this.suggests=n.suggests),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return");case 16:this.$_addressSuggestPromise=null,this.isLoading=!1;case 18:case"end":return e.stop()}}),e,this,[[6,13]])}))),function(e){return r.apply(this,arguments)})}},N=(n("3bf138"),n("e4b4a1"),n("4a26ec"));var j,F=Object(_.a)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("OzField",{attrs:{errors:[e.error]}},[n("OzInput",{ref:"autocomplete",attrs:{placeholder:e.field.label,"has-error":e.hasError,disabled:!e.isEnabled,loading:e.isLoading,size:"xl"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.onEscape(t)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.onKeyUp(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.onKeyDown(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.onEnter(t))}],input:e.onInput,blur:e.onBlur,focus:e.onFocus},model:{value:e.textModel,callback:function(t){e.textModel=t},expression:"textModel"}}),e._v(" "),n("OzPopover",{class:e.$style.popover,attrs:{placement:"bottom",trigger:"manual",theme:"dropdown","force-show":e.isDropdownVisible,"max-width":e.dropdownMaxWidth}},[n("OzDropDown",{attrs:{slot:"popover",options:e.suggests,"label-key":"title","highlight-index":e.highlightIndex,wrap:!0},on:{mouseover:function(t){e.highlightIndex=t.index},select:e.onSelect},slot:"popover"})],1)],1)}),[],!1,(function(e){this.$style=N.default.locals||N.default}),null,null).exports,B="FORM-TEXT",U="FORM-PHONE",G="FORM-AUTOCOMPLETE",V="FORM-SELECT",H="FIELD_TYPE_TEXT",z="FIELD_TYPE_SEARCH",Y="FIELD_TYPE_SELECT",W="default",K="phone",X={name:"FormBuilderFieldWrapper",components:(j={},Object(l.a)(j,B,S),Object(l.a)(j,U,I),Object(l.a)(j,G,F),Object(l.a)(j,V,k),j),props:{field:{type:Object,required:!0},text:{type:String,default:""},value:{type:String,default:""}},data:function(){return{componentName:"",error:""}},computed:{hasError:function(){return!!this.error}},watch:{field:function(e){var t=e.error;this.error=t}},methods:{getComponent:function(e){var t=e.fieldType,n=e.textOptions;switch(t){case H:if(n)switch(n.inputType){case W:this.componentName=B;break;case K:this.componentName=U;break;default:this.componentName=B}else this.componentName=B;break;case z:this.componentName=G;break;case Y:this.componentName=V;break;default:this.componentName=B}return this.$options.components[this.componentName]},onFocus:function(e){var text=e.text,t=e.value;void 0===text&&void 0===t||this.$emit("change",{name:this.field.name,text:text,value:t})},onBlur:function(e){var text=e.text,t=e.value;text=text.trim(),this.$emit("change",{name:this.field.name,text:text,value:t})},onTextChange:function(text){this.error="",this.$emit("change",{name:this.field.name,text:text,value:this.value})},onValueChange:function(e){this.error="",this.$emit("change",{name:this.field.name,text:this.text,value:e})},onSelect:function(element){this.$emit("select",element)}}},Q=(n("4650bc"),Object(_.a)(X,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n(e.getComponent(e.field),{tag:"component",attrs:{field:e.field,"has-error":e.hasError,text:e.text,value:e.value},on:{blur:e.onBlur,focus:e.onFocus,select:e.onSelect,textChange:e.onTextChange,valueChange:e.onValueChange}}),e._v(" "),e.hasError?n("p",{staticClass:"error"},[e._v("\n    "+e._s(e.error)+"\n  ")]):e._e()],1)}),[],!1,null,"4f14a07a",null).exports),Z=n("b274b9");function J(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var ee={name:"FormBuilder",components:{FieldWrapper:Q},props:{rowSize:{type:Number,default:12},rows:{type:Array,required:!0}},data:function(){return{widgetMods:Z.e,form:{}}},watch:{rows:function(){this.initForm()}},created:function(){this.initForm()},methods:{getFlexSize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;return{"flex-grow":e}},getBlockSize:function(e,t){if(t.blocks.reduce((function(e,t){return e+t.blockSize}),0)<this.rowSize){var n=100*e/this.rowSize;return{width:"".concat(n,"%"),"flex-basis":"".concat(n,"%"),"flex-grow":0}}return this.getFlexSize(e)},getFieldSize:function(e){return this.getFlexSize(e)},initForm:function(){var form={};this.rows&&this.rows.forEach((function(e){e.blocks&&e.blocks.forEach((function(e){e.rows&&e.rows.forEach((function(e){e.fields&&e.fields.forEach((function(e){form[e.name]={text:e.text||"",value:e.value||""}}))}))}))})),this.updateForm(form)},updateForm:function(form){this.form=form,this.$emit("update",form)},onChange:function(e){var t=e.name,text=e.text,n=e.value,form=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?J(source,!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):J(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},this.form,Object(l.a)({},t,{text:text,value:n}));this.updateForm(form)},onSelect:function(element){this.$emit("select",element)},getElementComponent:function(element){return Object(Z.b)(element.type)},onAtomClick:function(link){this.$emit("atomClick",link)}}},te=n("c4f5c0");var ne=Object(_.a)(ee,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{class:e.$style.form,attrs:{autocomplete:"off"}},e._l(e.rows,(function(t,r){var o;return n("div",{key:r,class:[e.$style.blockRow,(o={},o[e.$style.modMobile]=e.isMobile,o)]},e._l(t.blocks,(function(r,o){var c;return n("div",{key:o,class:[e.$style.block,(c={},c[e.$style.modMobile]=e.isMobile,c)],style:e.getBlockSize(r.blockSize,t)},[r.elements&&r.elements.length?n("div",{class:e.$style.elements},e._l(r.elements,(function(element,t){return n(e.getElementComponent(element),e._b({key:t,tag:"component",attrs:{mods:[e.widgetMods.ADDRESS_EDIT_FORM]},on:{click:e.onAtomClick}},"component",element,!1))})),1):e._e(),e._v(" "),r.rows&&r.rows.length?n("fieldset",{class:e.$style.fieldset},[r.title?n("legend",{class:e.$style.blockTitle},[e._v("\n          "+e._s(r.title)+"\n        ")]):e._e(),e._v(" "),e._l(r.rows,(function(t,r){return n("div",{key:r,class:e.$style.fieldRow},e._l(t.fields,(function(t){return n("FieldWrapper",{key:t.name,class:e.$style.field,style:e.getFieldSize(t.fieldSize),attrs:{field:t,text:e.form[t.name].text,value:e.form[t.name].value},on:{change:e.onChange,select:e.onSelect}})})),1)}))],2):e._e()])})),0)})),0)}),[],!1,(function(e){this.$style=te.default.locals||te.default}),null,null);t.a=ne.exports},"5d3fab":function(e,t,n){"use strict";n.r(t),n.d(t,"DEFAULT_LOCATION",(function(){return l})),n.d(t,"state",(function(){return d})),n.d(t,"mutations",(function(){return f})),n.d(t,"getters",(function(){return h})),n.d(t,"actions",(function(){return m}));n("f8695b"),n("41d819"),n("aae158");var r=n("ed745a"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},c=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},l={name:"Москва",areaId:2},d=function(){return{isExact:!1,suggested:[],current:l,previous:l,promise:null,showLocationModal:!1}},f={setLocationPromise:function(e,t){r.default.set(e,"promise",t)},updateLocationData:function(e,t){var n=t.isExact,o=t.suggested,c=t.current;r.default.set(e,"suggested",o),r.default.set(e,"current",c),r.default.set(e,"isExact",n)},setLocation:function(e,t){r.default.set(e,"current",t)},confirmLocation:function(e){r.default.set(e,"isExact",!0)},setShowLocationModal:function(e,t){r.default.set(e,"showLocationModal",t)}},h={},m={CHANGE_LOCATION:function(e,t){var n=e.commit,r=e.state,l=e.rootState;return o(this,void 0,void 0,(function(){var e,o;return c(this,(function(c){switch(c.label){case 0:return e=r.current,[4,this.$api.location.user.location.post({areaId:t.areaId,defaultAreaId:e.areaId})];case 1:return o=c.sent(),l.isComposer?[4,this.dispatch("composer/REFRESH_LAYOUT")]:[3,3];case 2:return c.sent(),[2];case 3:return n("confirmLocation"),n("setLocation",o||t),[2]}}))}))},CONFIRM_LOCATION:function(e,t){var n=e.commit;return o(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.$api.location.user.location.post({areaId:t.areaId,defaultAreaId:t.areaId})];case 1:return e.sent(),n("confirmLocation"),[2]}}))}))},GET_LOCATION:function(e){var t=e.commit,n=e.rootState;return o(this,void 0,void 0,(function(){var e,r,o;return c(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),e=this.$api.location.current.get({ip:n.browser.ip}),t("setLocationPromise",e),[4,e];case 1:return r=c.sent(),t("updateLocationData",r),[2,r];case 2:return o=c.sent(),this.$logger.error({exception:o,payload:"location API ERROR "+o.stack}),[3,3];case 3:return[2]}}))}))},SET_SHOW_LOCATION_MODAL:function(e,t){(0,e.commit)("setShowLocationModal",t)}}},"5d91fc":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return l})),n.d(t,"mutations",(function(){return d})),n.d(t,"getters",(function(){return f})),n.d(t,"actions",(function(){return h}));n("f8695b"),n("41d819"),n("aae158");var r=n("bbfe95"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},c=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},l=function(){return{default:{phone:"",favicon:"",headerLinks:[{title:"",link:""}],logo:{link:"",image:""}}}},d={setHeader:function(e,t){var n=t.logo,r=t.headerLinks,o=t.phone;Object.assign(e.default,{logo:n,headerLinks:r,phone:o})}},f={getParamsByStateId:function(e){return function(t){return e[t]}}},h={GET_HEADER:function(e){var t=e.commit;return o(this,void 0,void 0,(function(){var header,e;return c(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.$api.action.cmsShellElementHeader.get()];case 1:return header=n.sent(),t("setHeader",header),[3,3];case 2:return e=n.sent(),this.$logger.error({exception:e,message:r.j.ERROR_GETTING_HEADER}),[3,3];case 3:return[2]}}))}))}}},"5f114a":function(e,t,n){"use strict";var r=n("c08a9e"),o=n.n(r);t.default=o.a},"5ff872":function(e,t,n){"use strict";var r=n("ca096a");n.n(r).a},"5ffe0a":function(e,t,n){e.exports={pic:"_156127",blink:"_8529c2"}},"60e14d":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return l})),n.d(t,"actions",(function(){return d}));n("f8695b"),n("41d819"),n("aae158");var r=n("bbfe95"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},c=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},l=function(){return{categories:[],marketing:[]}},d={GET_CATEGORY:function(e,t){var n=t.menuId,l=t.categoryId,d=t.hash;return o(this,void 0,void 0,(function(){var e,t;return c(this,(function(o){switch(o.label){case 0:e={menuId:n,categoryId:l,hash:d},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.$api.menu.categoryChild.get(e)];case 2:return[2,o.sent()];case 3:return t=o.sent(),this.$logger.error({exception:t,message:r.j.ERROR_GETTING_MENU_CATEGORY,payload:{params:e}}),[3,4];case 4:return[2]}}))}))}}},"6455b7":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("ff287e"),o=n.n(r),c=n("39f766");function l(e){return o()(e,"browser.forceDesktop")?c.b.FORCED_DESKTOP:o()(e,"browser.isMobile")?c.b.MOBILE:c.b.DESKTOP}},"6461b9":function(e,t,n){e.exports={preloader:"_36a794",inputs:"_00f75f",message:"_008862",error:"f98334",blink:"_70f648"}},"64f6ea":function(e,t,n){"use strict";var r=n("25f2a1"),o=n.n(r);t.default=o.a},"65fbc3":function(e,t,n){"use strict";var r=n("effb08"),o="m-with-arrow",c={name:"OzonTooltip",components:{VPopover:r.a},extends:{props:r.a.props},props:{mods:{type:Array,default:function(){return[]}},trigger:{type:String,default:"hover"},showArrow:{type:Boolean,default:!1},theme:{type:String,default:"default"}},computed:{classWithMods:function(){var e=["v-tooltip-popover-ozon"];return this.showArrow&&e.push(o),e.concat(this.mods).concat("m-".concat(this.theme))}}},l=(n("813bc1"),n("b429cb")),component=Object(l.a)(c,(function(){var e=this.$createElement,t=this._self._c||e;return t("VPopover",this._b({attrs:{"popover-class":this.classWithMods}},"VPopover",this.$props,!1),[this._t("default"),this._v(" "),t("template",{slot:"popover"},[this._t("tip")],2)],2)}),[],!1,null,null,null);t.a=component.exports},"66e6a0":function(e,t,n){e.exports={field:"c20f96",blink:"f40ce7"}},"6763d1":function(e,t,n){e.exports={imageBlock:"da3bca",blink:"_99c1b4"}},"67cc50":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return c})),n.d(t,"mutations",(function(){return l})),n.d(t,"getters",(function(){return d})),n.d(t,"actions",(function(){return f}));n("c08bb9"),n("aae158"),n("12a106");var r=n("878394"),o=function(){return(o=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},c=function(){return{checkedAt:null,updatedAt:null,ids:{},max:30}},l={setCompareData:function(e,data){Object.assign(e,data)},addToCompare:function(e,t){var n;Object.keys(e.ids).length>=e.max||(e.ids=o({},e.ids,((n={})[t]=!0,n)),e.updatedAt=+new Date)},removeFromCompare:function(e,t){delete e.ids[t],e.ids=o({},e.ids),e.updatedAt=+new Date}},d={inCompareCount:function(e){var t=e.ids;return Object.keys(t).length}},f={GET_COMPARE:function(e){var t=e.commit,n=+new Date,data=Object(r.b)("compareList")||{checkedAt:n,updatedAt:n,ids:{}};Object(r.c)("compareList",data),t("setCompareData",data)},TOGGLE_COMPARE:function(e,t){var n=e.commit,o=e.state;Object.hasOwnProperty.call(o.ids,t)?n("removeFromCompare",t):n("addToCompare",t),Object(r.c)("compareList",o)}}},"67cd20":function(e,t,n){e.exports={"top-bar":"a53e08","top-bar-inner":"e74374","top-bar-phone":"_3e3cdd",blink:"c1859a"}},"6823ad":function(e,t,n){"use strict";n("497371");var r={name:"OzonIcon",props:{icon:{type:[Object,String],required:!0},width:{type:[Number,String],default:"auto"},height:{type:[Number,String],default:"auto"},color:{type:String,default:""}},computed:{svg:function(){return this.icon||""},styles:function(){var e={};return this.width&&(e.width="".concat(this.width,"px")),this.height&&(e.height="".concat(this.height,"px")),this.color&&(e.color=this.color),e}}},o=(n("59ddb5"),n("b429cb")),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{staticClass:"icon-img",style:e.styles,domProps:{innerHTML:e._s(e.svg)},on:{click:function(t){return e.$emit("click")}}})}),[],!1,null,"19ad9aa5",null);t.a=component.exports},"68bab6":function(e,t,n){"use strict";var r=n("b13dca"),o=n.n(r);t.default=o.a},"68e0fc":function(e,t,n){},"694e3b":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("afced8");var r=Object.freeze({emailIsExist:"Такая почта уже используется",wrongRequestParams:"Произошла ошибка. Попробуйте ещё раз",wrongRequestNeedReload:"Произошла ошибка. Перезагрузите страницу",invalidOldPassword:"Некорректный старый пароль",invalidNewPassword:"Некорректный новый пароль",passwordTooSimple:"Придумайте более сложный пароль"})},"6a013d":function(e,t,n){"use strict";n.r(t);n("e28425"),n("f8695b"),n("41d819"),n("aae158");var r=n("2336c4");n("cb1771");var o=n("bbfe95");n.d(t,"GET_EXTERNAL_REVIEWS",(function(){return h})),n.d(t,"state",(function(){return m})),n.d(t,"mutations",(function(){return v})),n.d(t,"actions",(function(){return y}));var c,l,d=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},f=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},h="GET_EXTERNAL_REVIEWS",m=function(){return{sources:null,loadingItemsId:[],hasError:!1}},v=((c={}).SET_SOURCES=function(e,t){e.sources=t},c.SET_ERROR=function(e){e.hasError=!0},c),y=((l={})[h]=function(e,t){var n=e.commit,c=e.dispatch;return d(this,void 0,void 0,(function(){var e,l;return f(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,this.$api.pdpOpinion["get-external-opinions-by-item-id"].post({itemId:t})];case 1:return e=d.sent().sources,Array.isArray(e)&&(e.forEach((function(source){source.origin&&source.origin.id===r.b&&source.page.opinions.forEach((function(e){e.content&&e.content.comment&&(e.content.comment=e.content.comment.replace(/<b>|<i>|<u>|<\/b>|<\/i>|<\/u>|<llcut>|<\/llcut>| align="left" /g,"").replace(/<a(.*?)>|<\/a>/g,"").replace(/<script(.*?)>|<\/script>/g,"").replace(/<[^/>][^>]*><\/[^>]+>/g,"").replace(/\n/g,"<br>").replace(/<br ?\/?>( *<br ?\/?>)+/g,"<br><br>").replace(/(<br ?\/?>)+$|^(<br ?\/?>)+/,""))}))})),c("LOG_FAILED_ORIGIN_SOURCES",e)),n("SET_SOURCES",e),[3,3];case 2:return l=d.sent(),n("SET_ERROR"),this.$logger.error({exception:l,message:o.v.ERROR_FETCH_EXTERNAL_REVIEWS}),[3,3];case 3:return[2]}}))}))},l.LOG_FAILED_ORIGIN_SOURCES=function(e,t){var n=this;t.forEach((function(source){if(source.failed){var e=source.origin.name;n.$logger.error({message:o.v.ERROR_FETCH_EXTERNAL_REVIEWS_BY_ORIGIN.value+" "+e})}}))},l)},"6a53d5":function(e,t,n){"use strict";var r=n("05b994"),o=n.n(r);t.default=o.a},"6ac028":function(e,t,n){e.exports={menu:"_016629",item:"_672ca7",blink:"e9f0f6"}},"6ad567":function(e,t,n){"use strict";var r=n("f90359");n.n(r).a},"6ae2af":function(e,t,n){"use strict";var r=n("8fd32c"),o=(n("654ecb"),n("dc5bd1"),n("aae158"),n("e28425"),n("393231"),n("ff287e")),c=n.n(o),l=n("6876d5"),d=n("da0937"),f=n("bbfe95"),h=n("c4c3e9"),m=n("b28e02"),v=n("9d61e8"),y=n("487109"),E={name:"ErrorCapture",mixins:[m.a],props:{widget:{type:[Function,String],required:!0},widgetProps:{type:Object,default:function(){return{}}}},data:function(){return{error:!1}},computed:{errorCheckWidget:function(){return this.error?"div":this.widget},importPayload:function(){var e=this.isMobile?"mobile":"desktop";return{version:this.widgetProps.version||1,platform:e}},content:function(){return"function"==typeof this.widget?this.widget.bind(this,this.importPayload):this.widget}},errorCaptured:function(e,t){var n=function e(t){return t instanceof y.a?t:null!=t.$parent?e(t.$parent):null}(t),r=new d.a(f.o.WIDGET_RENDER_ERROR),o={component:t.$options.name,error:e.message,stackTrace:e.stack};if(n instanceof y.a){var c=n.getLoggerParams();o=Object.assign(o,c)}return this.logComposerError(r,o),this.error=!0,!1},serverCacheKey:function(e){var t=e.widgetProps||{};return!!t.etag&&["880e41c75927ed476b38c265852d6493ee0a6b14",t.vertical,t.componentName,t.etag].join(":")}},_=n("b429cb"),S=Object(_.a)(E,(function(){var e=this.$createElement;return(this._self._c||e)(this.errorCheckWidget,this._g(this._b({tag:"component"},"component",this.widgetProps,!1),this.$listeners))}),[],!1,null,null,null).exports,O=(n("c08bb9"),n("12a106"),n("093f6c")),T=function(){return(T=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},I={inject:{parentLayoutPath:{default:""}},components:{ErrorCapture:S},mixins:[m.a],props:{placeholders:{type:[Object,Array],default:function(){return null}},place:{type:String,default:"default"},tagName:{type:String,default:"div"},placeClass:{type:String,default:""}},computed:T({},Object(l.e)({apiVersion:function(e){return e.apiVersion||O.a}}),{placeholderName:function(){return[this.type,this.place].join(".")},widgets:function(){var e=[];if(1===this.apiVersion)for(var t=this.placeholders[this.place]||[],n=0;n<t.length;n++)e.push(Object.assign({},t[n],{index:n}));else{var r=this.placeholders[this.placeIndex]||{},o=r.widgets&&r.widgets.length?r.widgets:[];for(n=0;n<o.length;n++)e.push(Object.assign({},o[n],{index:n}))}return e},layoutPath:function(){var e=1===this.apiVersion?this.place:this.placeIndex;return this.parentLayoutPath?this.parentLayoutPath+".placeholders["+e+"]":""},placeIndex:function(){var e=this;if(!(this.placeholders instanceof Array))return-1;var t=this.placeholders.find((function(t){return t.name===e.place}));return this.placeholders.indexOf(t)}}),methods:T({getAllowedComponents:h.a},Object(l.b)("composer",{removeWidget:"REMOVE_WIDGET"}),{createComponent:function(e){try{var content=this.getComponentsContent()[e.name],t=this.isMobile?"mobile":"desktop";return function(content,e,t){var component=content;if("function"==typeof content)return content;if("object"!==Object(r.a)(content))throw new d.a(f.o.WRONG_WIDGET_CONTENT);if(content.desktop&&content.mobile&&(component=component[t]),"function"==typeof component)return component;if(!component.versions)throw new d.a(f.o.WRONG_WIDGET_VERSION);if("1"===e)return component.default;if(!component.versions[e])throw new d.a(f.o.WRONG_WIDGET_VERSION);return component.versions[e]}(content,e.version&&e.version.toString()||"1",t)}catch(e){return this.logComposerError(e),"div"}},getWidgetProps:function(e){var t=e.params,n=e.widgetTrackingInfo;2===this.apiVersion&&"string"!=typeof n&&null!=n&&(n=n.toString());var o={};return"string"==typeof t?o=JSON.parse(t):"object"===Object(r.a)(t)&&(o=t),Object.assign({},o,{componentName:e.component,asyncType:e.asyncType,asyncHash:e.asyncData,trackingOn:e.trackingOn,vertical:e.vertical,stateId:e.stateId,version:e.version,placeholders:e.placeholders,class:this.placeClass,layoutPath:this.layoutPath,index:e.index,apiVersion:this.apiVersion,trackingInfo:n,etag:e.etag})},renderingComponents:function(){var e=this.getAllowedComponents(this.placeholderName,this.widgets,v.a.params),t=e.allowed,n=e.disallowed;return this.checkDisallow(n),t},destroyWidget:function(e){var t=this.widgets.find((function(t){return t.index===e}));t&&this.removeWidget({layoutPath:this.layoutPath,index:this.widgets.indexOf(t)})},sendDisallow:function(e,t){var n=this.$parent,r=this.placeholderName,o={disallowNames:t.map((function(component){return component.name})),component:c()(n,"$vnode.componentOptions.tag"),placeholderName:r};this.logComposerError(e,o,"warning")},checkDisallow:function(e){void 0===e&&(e=[]);try{this.validateDisallow(e)}catch(t){this.sendDisallow(t,e)}},validateDisallow:function(e){if(void 0===e&&(e=[]),e.length)throw new d.a(f.o.WIDGET_CANT_BE_RENDERED)},getComponentsContent:function(){return v.a.content||{}}})},template=Object(_.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.tagName,{tag:"component"},e._l(e.renderingComponents(),(function(t,r){return n("ErrorCapture",e._g({key:(t.stateId||"empty")+"-"+r,attrs:{widget:e.createComponent(t),"widget-props":e.getWidgetProps(t)},on:{onDestroy:function(n){return e.destroyWidget(t.index)}}},e.$listeners))})),1)}),[],!1,null,null,null).exports;t.a=function(e){return{extends:template,data:function(){return{type:e}}}}},"6afa05":function(e,t,n){e.exports={wrapper:"_262a22",mobile:"_7ca477",noBorder:"e3a10b",carousel:"_343b76",choiceProductCarousel:"_02abf4",rateBoughtItems:"b6fe8f",mobileHeader:"_371c61",mobileCrossborder:"a11822",overflowVisible:"_3b4e7c",blink:"d5862e"}},"6cb909":function(e,t,n){},"6cc523":function(e,t,n){e.exports={item:"c64565",blink:"f677c4"}},"6d856b":function(e,t,n){e.exports={extraButtons:"_644136",navigationBtn:"abcc1a",":focus":"_5e9ca7",flat:"_74a346",navigationPrev:"f9b55d",navigationNext:"_2ce381",darkArrows:"fe2fb5",material:"_43a7f9","material-inside":"_36d499",":hover":"abaa28",mobile:"_86bafc",preview:"_80d07f",blink:"_571257"}},"6d9570":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return o})),n.d(t,"mutations",(function(){return c})),n.d(t,"actions",(function(){return l}));var r=n("41a9d4"),o=function(){return{subscriptionModalVisible:!1,subscriptionType:null}},c={setVisibility:function(e,t){void 0===t&&(t=!1),e.subscriptionModalVisible=t},setSubscriptionType:function(e,t){void 0===t&&(t=null),e.subscriptionType=t}},l={TOGGLE_NOT_AUTH_USER_ITEM_MODAL:function(e,t){var n=e.commit;n("setVisibility",t),n("setSubscriptionType",r.a.ITEM)},TOGGLE_NOT_AUTH_USER_PRICE_MODAL:function(e,t){var n=e.commit;n("setVisibility",t),n("setSubscriptionType",r.a.PRICE)},HIDE_MODAL:function(e){var t=e.commit;t("setVisibility",!1),t("setSubscriptionType")}}},"6df30d":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,o,c=n("289770");!function(e){e.CHAT_MESSAGE="CHAT_MESSAGE",e.START_CHAT="START_CHAT",e.END_CHAT="END_CHAT",e.ADD_USERS_TO_CHAT="ADD_USER_TO_CHAT"}(r||(r={})),function(e){e.SOCKET_ONOPEN="SOCKET_ONOPEN",e.SOCKET_ONCLOSE="SOCKET_ONCLOSE",e.SOCKET_RECONNECT="SOCKET_RECONNECT"}(o||(o={}));var l=function(e,t,n){var l=t.type&&t.type.toUpperCase();if(l&&l in r&&e.dispatch("chat/SOCKET_"+t.type.toUpperCase(),t),n in o){if(n===o.SOCKET_ONOPEN)e.state.chat.websocketInactiveTimestamp;else n===o.SOCKET_ONCLOSE&&t.code===c.c.ERROR_AUTH&&e.dispatch("CHECK_TOKEN",{store:e,res:"",req:""});e.dispatch("chat/"+n,t)}}},"6e8b0f":function(e,t,n){"use strict";n.r(t);t.default={}},"6f5e0f":function(e,t,n){"use strict";var r=n("e0fcac"),o=n.n(r);t.default=o.a},"6f6d51":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o})),n.d(t,"getters",(function(){return c})),n.d(t,"actions",(function(){return l}));var r=function(){return{}},o={},c={},l={}},"7279ac":function(e,t,n){"use strict";var r=n("29485d");n.n(r).a},"72c58d":function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106");var r=n("5eabea"),o=(n("497371"),n("51a5b6"),n("393231"),{name:"ErrorSubtitle5xx",computed:{href:function(){return this.$composerRouter.current}}}),c=(n("b2bfcf"),n("b429cb")),l=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isMobile?n("div",[e._v("\n  Техническая проблема\n  "),n("br"),e._v(" "),n("a",{staticClass:"link",attrs:{href:e.href}},[e._v("Обновить")])]):n("div",[e._v("\n  Техническая проблема,\n  "),n("a",{attrs:{href:e.href}},[e._v("обновите страницу")])])}),[],!1,null,"35b20869",null).exports,d={name:"ErrorSubtitle4xx",components:{ToMain:n("bd5098").a}},f=Object(c.a)(d,(function(){var e=this.$createElement;return(this._self._c||e)("ToMain")}),[],!1,null,null,null).exports,h=n("9f3bff");function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var v=[{regexp:"4[0-9]{2}",titleText:"Такой страницы не существует",subtitleComponent:f},{regexp:"5[0-9]{2}",titleText:"Что-то пошло не так",subtitleComponent:l}],y={titleText:"Произошла ошибка!",subtitleComponent:f},E={name:"Error",components:{ClearError:h.a,ErrorSubtitle5xx:l,ErrorSubtitle4xx:f},props:{statusCode:{type:Number,default:-1},subTitle:{type:String,default:""},title:{type:String,default:""}},computed:{errorData:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},(e=this.statusCode,v.find((function(t){var n=t.regexp;return new RegExp(n,"gi").test(e)}))||y));var e},errorTitle:function(){return this.title||this.errorData.titleText}}},_=Object(c.a)(E,(function(){var e=this.$createElement,t=this._self._c||e;return t("ClearError",{attrs:{title:this.errorTitle}},[t("div",{attrs:{slot:"subtitle"},slot:"subtitle"},[this._t("subtitle",[t(this.errorData.subtitleComponent,{tag:"component"})])],2)])}),[],!1,null,null,null);t.a=_.exports},"7378ea":function(e,t,n){"use strict";var r=n("c2a4e0");n.n(r).a},"74328c":function(e,t,n){"use strict";n.r(t);var r={TravelTravelSearchForm:{content:function(){return Promise.all([n.e(1),n.e(0),n.e(293)]).then(n.bind(null,"f5bbab"))}},TravelTravelPopularDestinations:{content:function(){return n.e(292).then(n.bind(null,"edc1e9"))}}};t.default=r},749862:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("4a02d3"),o=function(){return{event:r.EActionTypes.PAGE_VIEW_ACTION}}},"75d3ef":function(e,t,n){"use strict";var r={name:"Copyright",components:{LinksStub:n("17e9e6").a},props:{title:{type:String,default:""},link:{type:String,default:""}}},o=(n("8c2167"),n("b429cb")),component=Object(o.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("LinksStub",{staticClass:"copy",attrs:{href:this.link}},[this._v("\n  "+this._s(this.title)+"\n")])}),[],!1,null,"64439a4b",null);t.a=component.exports},"77a5d0":function(e,t,n){"use strict";var r=n("bdebd2"),o=n.n(r);t.default=o.a},"7800db":function(e,t,n){"use strict";var r=n("53cca8");n.n(r).a},785018:function(e,t,n){e.exports={textSubtext:"_403d50",modPickupDetail:"_031098",modExtraPadding:"_280c85",icon:"_9cc5f5",text:"_964186",subtext:"_1ce260",blink:"_897019"}},"79116e":function(e,t,n){"use strict";n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"o",(function(){return E})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return S})),n.d(t,"c",(function(){return O})),n.d(t,"n",(function(){return T})),n.d(t,"h",(function(){return I})),n.d(t,"p",(function(){return C})),n.d(t,"k",(function(){return P})),n.d(t,"m",(function(){return R})),n.d(t,"d",(function(){return x})),n.d(t,"b",(function(){return A})),n.d(t,"g",(function(){return L})),n.d(t,"l",(function(){return D}));var r=n("64fdd4"),o=(n("1c750e"),n("41d819"),n("42f576"),n("29141d"),n("15ad6b"),n("8fd32c")),c=(n("654ecb"),n("dc5bd1"),n("51a5b6"),n("aef563"),n("cb1771"),n("2c09af"),n("dc77a5")),l=(n("340dbd"),n("c08bb9"),n("aae158"),n("12a106"),n("e28425"),n("5eabea")),d=n("ed745a");function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(source,!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function m(e){d.default.config.errorHandler&&d.default.config.errorHandler(e)}function v(e){return e.then((function(e){return e.default||e}))}function y(e,t){if(t||!e.options.__hasNuxtData){var n=e.options._originDataFn||e.options.data||function(){return{}};e.options._originDataFn=n,e.options.data=function(){var data=n.call(this);return this.$ssrContext&&(t=this.$ssrContext.asyncData[e.cid]),h({},data,{},t)},e.options.__hasNuxtData=!0,e._Ctor&&e._Ctor.options&&(e._Ctor.options.data=e.options.data)}}function E(e){return e.options&&e._Ctor===e?e:(e.options?(e._Ctor=e,e.extendOptions=e.options):(e=d.default.extend(e))._Ctor=e,!e.options.name&&e.options.__file&&(e.options.name=e.options.__file),e)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Array.prototype.concat.apply([],e.matched.map((function(e,n){return Object.keys(e.components).map((function(r){return t&&t.push(n),e.components[r]}))})))}function S(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Array.prototype.concat.apply([],e.matched.map((function(e,n){return Object.keys(e.instances).map((function(r){return t&&t.push(n),e.instances[r]}))})))}function O(e,t){return Array.prototype.concat.apply([],e.matched.map((function(e,n){return Object.keys(e.components).reduce((function(r,o){return e.components[o]?r.push(t(e.components[o],e.instances[o],e,o,n)):delete e.components[o],r}),[])})))}function T(e){return Promise.all(O(e,function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(t,n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t||t.options){e.next=4;break}return e.next=3,t();case 3:t=e.sent;case 4:return r.components[o]=E(t),e.abrupt("return",r.components[o]);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}()))}function I(e){return w.apply(this,arguments)}function w(){return(w=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,T(t);case 4:return e.abrupt("return",h({},t,{meta:_(t).map((function(e,n){return h({},e.options.meta,{},(t.matched[n]||{}).meta)}))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return k.apply(this,arguments)}function k(){return(k=Object(c.a)(regeneratorRuntime.mark((function e(t,n){var c,l,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.context||(t.context={isStatic:!1,isDev:!1,isHMR:!1,app:t,store:t.store,payload:n.payload,error:n.error,base:"/",env:{NODE_ENV:"production",publicPath:"https://cdn2.ozone.ru/_nuxt/"}},n.req&&(t.context.req=n.req),n.res&&(t.context.res=n.res),n.ssrContext&&(t.context.ssrContext=n.ssrContext),t.context.redirect=function(e,path,n){if(e){t.context._redirected=!0;var r=Object(o.a)(path);if("number"==typeof e||"undefined"!==r&&"object"!==r||(n=path||{},path=e,r=Object(o.a)(path),e=302),"object"===r&&(path=t.router.resolve(path).route.fullPath),!/(^[.]{1,2}\/)|(^\/(?!\/))/.test(path))throw path=F(path,n),window.location.replace(path),new Error("ERR_REDIRECT");t.context.next({path:path,query:n,status:e})}},t.context.nuxtState=window.__NUXT__),e.next=3,Promise.all([I(n.route),I(n.from)]);case 3:c=e.sent,l=Object(r.a)(c,2),d=l[0],f=l[1],n.route&&(t.context.route=d),n.from&&(t.context.from=f),t.context.next=n.next,t.context._redirected=!1,t.context._errored=!1,t.context.isHMR=!!n.isHMR,t.context.params=t.context.route.params||{},t.context.query=t.context.route.query||{};case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return!e.length||t._redirected||t._errored?Promise.resolve():R(e[0],t).then((function(){return P(e.slice(1),t)}))}function R(e,t){var n;return(n=2===e.length?new Promise((function(n){e(t,(function(e,data){e&&t.error(e),n(data=data||{})}))})):e(t))&&(n instanceof Promise||"function"==typeof n.then)||(n=Promise.resolve(n)),n}function x(base,e){var path=decodeURI(window.location.pathname);return"hash"===e?window.location.hash.replace(/^#\//,""):(base&&0===path.indexOf(base)&&(path=path.slice(base.length)),(path||"/")+window.location.search+window.location.hash)}function A(e,t){return function(e){for(var t=new Array(e.length),i=0;i<e.length;i++)"object"===Object(o.a)(e[i])&&(t[i]=new RegExp("^(?:"+e[i].pattern+")$"));return function(n,r){for(var path="",data=n||{},o=(r||{}).pretty?M:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var d=data[l.name||"pathMatch"],f=void 0;if(null==d){if(l.optional){l.partial&&(path+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(Array.isArray(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(f=o(d[h]),!t[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");path+=(0===h?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):o(d),!t[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');path+=l.prefix+f}}else path+=l}return path}}(function(e,t){var n,r=[],o=0,c=0,path="",l=t&&t.delimiter||"/";for(;null!=(n=$.exec(e));){var d=n[0],f=n[1],h=n.index;if(path+=e.slice(c,h),c=h+d.length,f)path+=f[1];else{var m=e[c],v=n[2],y=n[3],E=n[4],_=n[5],S=n[6],O=n[7];path&&(r.push(path),path="");var T=null!=v&&null!=m&&m!==v,I="+"===S||"*"===S,w="?"===S||"*"===S,C=n[2]||l,pattern=E||_;r.push({name:y||o++,prefix:v||"",delimiter:C,optional:w,repeat:I,partial:T,asterisk:!!O,pattern:pattern?j(pattern):O?".*":"[^"+N(C)+"]+?"})}}c<e.length&&(path+=e.substr(c));path&&r.push(path);return r}(e,t))}function L(e,t){var n={},r=h({},e,{},t);for(var o in r)String(e[o])!==String(t[o])&&(n[o]=!0);return n}function D(e){var t;if(e.message||"string"==typeof e)t=e.message||e;else try{t=JSON.stringify(e,null,2)}catch(n){t="[".concat(e.constructor.name,"]")}return h({},e,{message:t,statusCode:e.statusCode||e.status||e.response&&e.response.status||500})}window.onNuxtReadyCbs=[],window.onNuxtReady=function(e){window.onNuxtReadyCbs.push(e)};var $=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function M(e){return encodeURI(e).replace(/[/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function N(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function j(e){return e.replace(/([=!:$/()])/g,"\\$1")}function F(e,t){var n,r=e.indexOf("://");-1!==r?(n=e.substring(0,r),e=e.substring(r+3)):e.startsWith("//")&&(e=e.substring(2));var o,c=e.split("/"),l=(n?n+"://":"//")+c.shift(),path=c.filter(Boolean).join("/");return 2===(c=path.split("#")).length&&(path=c[0],o=c[1]),l+=path?"/"+path:"",t&&"{}"!==JSON.stringify(t)&&(l+=(2===e.split("?").length?"&":"?")+function(e){return Object.keys(e).sort().map((function(t){var n=e[t];return null==n?"":Array.isArray(n)?n.slice().map((function(e){return[t,"=",e].join("")})).join("&"):t+"="+n})).filter(Boolean).join("&")}(t)),l+=o?"#"+o:""}},"79ac67":function(e,t,n){"use strict";n("f8695b"),n("41d819"),n("aae158");var r=n("6876d5"),o=n("df2fe1"),c=n("e60814"),l=n("509163"),d=function(){return(d=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},f=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},h=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},m={name:"ModalLoginComponent",components:{OzonModal:o.a,AuthorizationService:c.a},data:function(){return{modalWindowColor:l.b}},computed:d({},Object(r.e)("userInfo",{isLoggedIn:function(e){return e.user.isLoggedIn}}),Object(r.e)("modalLogin",{redirectLink:function(e){var t=e.redirectLink;return t}}),Object(r.e)({isComposer:function(e){return void 0!==e.layout}})),methods:{onClose:function(){this.$store.dispatch("modalLogin/TOGGLE_MODAL_LOGIN",!1),this.$emit("close")},onSuccessLogin:function(){return f(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.$emit("successLogin"),this.redirectLink?(this.$composerRouter.push(this.redirectLink),this.onClose(),[2]):(this.onClose(),this.isComposer?[4,this.$store.dispatch("composer/REFRESH_LAYOUT")]:[3,2]);case 1:return e.sent(),[2,!1];case 2:return[4,this.$store.dispatch("userInfo/GET_USER_DATA",{})];case 3:return e.sent(),[4,this.$store.dispatch("location/GET_LOCATION",{})];case 4:return e.sent(),[4,this.$store.dispatch("userInfo/REFRESH_USER_TOTALS",{})];case 5:return e.sent(),[2]}}))}))}}},v=(n("11e180"),n("b429cb")),component=Object(v.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("OzonModal",{staticClass:"modal user-form-modal",on:{close:function(t){return e.onClose()}}},[n("AuthorizationService",{on:{successLogin:e.onSuccessLogin}})],1)}),[],!1,null,"824b2ea2",null);t.a=component.exports},"7be7e5":function(e,t,n){"use strict";var r=n("dde9cd"),o=n.n(r);t.default=o.a},"7cab4f":function(e,t,n){"use strict";n.r(t);var r={SubscriptionsPdpPriceSubscribe:{content:function(){return Promise.all([n.e(0),n.e(291)]).then(n.bind(null,"23f76d"))},extendPlaces:!0,places:["pdp-price-subscribe-container.priceSubscribe"]}};t.default=r},"7d3a04":function(e,t,n){e.exports={carouselWrapper:"_7938f6",carousel:"d2df9f",modVisible:"d8550c",loader:"_2209ec",blink:"_44307d"}},"7d40cd":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return l})),n.d(t,"mutations",(function(){return d})),n.d(t,"actions",(function(){return f}));n("f8695b"),n("41d819"),n("aae158");var r=n("ed745a"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},c=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},l=function(){return{pageType:"unknown",ruleId:null,layoutId:null,layoutVersion:null,context:"ozon"}},d={setContext:function(e,t){r.default.set(e,"context",t)}},f={SET_CONTEXT:function(e,t){var n=e.commit;return o(this,void 0,void 0,(function(){return c(this,(function(e){return n("setContext",t),[2]}))}))}}},"7de4c8":function(e,t,n){"use strict";var r=n("5cb6cc");n.n(r).a},"7e2315":function(e,t,n){"use strict";var r=n("a570ac"),o=n.n(r);t.default=o.a},"7e2e9e":function(e,t,n){"use strict";var r=n("1e3950"),o=n.n(r);t.default=o.a},"7e9e39":function(e,t,n){"use strict";n.r(t);var r={CommunicationSettingsNcSettingPremiumReminder:{content:function(){return Promise.all([n.e(0),n.e(129)]).then(n.bind(null,"deda26"))},extendPlaces:!0,places:["myPremium.reminder","premiumControls.reminder"]}};t.default=r},"7f50c2":function(e,t,n){"use strict";n.r(t);n("497371");var r=n("6ae2af"),o=n("487109").a.extend({name:"BlockVertical",provide:{layoutPath:null},props:{placeholders:{type:[Object,Array],default:function(){return null}},width:{type:null|Number,default:null}},computed:{widthStr:function(){return this.width?this.width+"px":"auto"}},components:{PlaceholderRender:Object(r.a)("block-vertical")}}),c=(n("e1bd2c"),n("b429cb")),component=Object(c.a)(o,(function(){var e=this.$createElement;return(this._self._c||e)("PlaceholderRender",{staticClass:"block-vertical",style:{width:this.widthStr},attrs:{placeholders:this.placeholders}})}),[],!1,null,"58e36c30",null);t.default=component.exports},"802b83":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["block-horizontal.default","wallpaper.default","block-vertical.default","grid-column.default","container.default","paginator.default","sticky-container.top","sticky-container.middle","sticky-container.bottom","shop-in-shop-container.default","rootCategoryMenu.default"]},"80743a":function(e,t,n){"use strict";n.r(t);var r={CmsAddressSelector:{content:{desktop:function(){return Promise.all([n.e(0),n.e(87)]).then(n.bind(null,"3db153"))},mobile:function(){return Promise.all([n.e(0),n.e(108)]).then(n.bind(null,"beb50d"))}}},CmsAddressPopup:{content:{desktop:function(){return Promise.all([n.e(0),n.e(86)]).then(n.bind(null,"6fcc48"))},mobile:function(){return Promise.all([n.e(0),n.e(107)]).then(n.bind(null,"0d876e"))}}},CmsAccordionCategoryMenu:{content:function(){return Promise.all([n.e(0),n.e(106)]).then(n.bind(null,"76cef2"))}},CmsAnnouncementText:{content:function(){return n.e(71).then(n.bind(null,"47ccbb"))}},CmsAuthorization:{content:function(){return n.e(88).then(n.bind(null,"2cb93c"))}},CmsBanner:{content:function(){return n.e(72).then(n.bind(null,"9b9d4b"))},extendPlaces:!0,places:["pdp.reviews"]},CmsBannerCarousel:{content:function(){return n.e(73).then(n.bind(null,"e27ac6"))}},CmsBannerAdFox:{content:function(){return n.e(70).then(n.bind(null,"ad6543"))}},CmsCaption:{content:function(){return n.e(74).then(n.bind(null,"ef9ff0"))},extendPlaces:!0,places:["myPremium.shelf"]},CmsCatalogMenu:{content:function(){return n.e(91).then(n.bind(null,"48f24a"))},places:["header.catalogMenu"]},CmsCart:{content:function(){return n.e(89).then(n.bind(null,"25e890"))},places:["header.userMenu"]},CmsCategoryTitle:{content:function(){return n.e(109).then(n.bind(null,"91212c"))},places:["block-vertical.default","sticky-container.top","sticky-container.middle","wallpaper.default","rootCategoryMenu.default"]},CmsCatalogHorizontalMenu:{content:function(){return Promise.all([n.e(0),n.e(90)]).then(n.bind(null,"58e45a"))}},CmsCustomHtml:{content:function(){return n.e(76).then(n.bind(null,"5f5a17"))}},CmsCouponPromo:{content:{desktop:function(){return n.e(92).then(n.bind(null,"a9f8de"))},mobile:function(){return n.e(110).then(n.bind(null,"1f621b"))}}},CmsCustomizedCategoryList:{content:function(){return n.e(111).then(n.bind(null,"4ef1b8"))},places:["block-vertical.default","sticky-container.middle","wallpaper.default"]},CmsCountdown:{content:function(){return n.e(75).then(n.bind(null,"6eaa10"))},extendPlaces:!0,places:["block-vertical.default","sticky-container.top","container.content","wallpaper.default"]},CmsFavorites:{content:function(){return n.e(93).then(n.bind(null,"05b788"))},places:["header.userMenu"]},CmsFooter:{content:{desktop:function(){return n.e(94).then(n.bind(null,"8e8f42"))},mobile:function(){return n.e(113).then(n.bind(null,"dd644d"))}},places:["block-vertical.default","sticky-container.middle","sticky-container.bottom","wallpaper.default"]},CmsFooterSimple:{content:function(){return n.e(77).then(n.bind(null,"17f801"))},places:["block-vertical.default","sticky-container.middle","sticky-container.bottom","wallpaper.default"]},CmsHeader:{content:function(){return n.e(78).then(n.bind(null,"5e2b2d"))},places:["block-vertical.default","sticky-container.top","sticky-container.middle","wallpaper.default"]},CmsHeaderSimple:{content:function(){return Promise.resolve().then(n.bind(null,"eb6324"))},places:["block-vertical.default","sticky-container.top","sticky-container.middle","wallpaper.default"]},CmsHorizontalMenu:{content:function(){return n.e(95).then(n.bind(null,"ba0441"))},places:["header.horizontalMenu"]},CmsLeftMenu:{content:function(){return n.e(96).then(n.bind(null,"6b386f"))}},CmsMobileHeader:{content:function(){return n.e(116).then(n.bind(null,"89f35a"))},places:["block-vertical.default","sticky-container.top","sticky-container.middle","sticky-container.bottom","wallpaper.default"]},CmsMobileHeaderMain:{content:function(){return n.e(115).then(n.bind(null,"fdaa8c"))},places:["block-vertical.default","sticky-container.middle","wallpaper.default"]},CmsMobileEntryPoints:{content:function(){return n.e(112).then(n.bind(null,"dd2540"))},places:["block-vertical.default","sticky-container.middle","wallpaper.default"]},CmsMobileHeaderCrossBorder:{content:function(){return n.e(114).then(n.bind(null,"56cd9e"))},places:["block-vertical.default","sticky-container.middle","wallpaper.default"]},CmsPickpointsMap:{content:{desktop:function(){return Promise.all([n.e(0),n.e(97)]).then(n.bind(null,"3cd035"))},mobile:function(){return Promise.all([n.e(0),n.e(117)]).then(n.bind(null,"53fcd6"))}},extendPlaces:!0,places:["block-vertical.default","sticky-container.top","container.content","wallpaper.default","pdp.pvzMap"]},CmsPlainTiles:{content:function(){return n.e(118).then(n.bind(null,"f28743"))}},CmsProductsCollectionCarousel:{content:function(){return n.e(80).then(n.bind(null,"c0b931"))}},CmsProductsCollection:{content:function(){return n.e(79).then(n.bind(null,"c4049f"))}},CmsPromoCarousel:{content:function(){return n.e(120).then(n.bind(null,"e0cc89"))}},CmsPromoNavigation:{content:function(){return Promise.all([n.e(0),n.e(100)]).then(n.bind(null,"52bde9"))},extendPlaces:!0},CmsProfile:{content:function(){return n.e(99).then(n.bind(null,"738472"))},places:["header.userMenu"]},CmsRichTextWidget:{content:function(){return n.e(81).then(n.bind(null,"fc32c3"))}},CmsRootCategoryMenu:{content:function(){return n.e(121).then(n.bind(null,"dda40d"))}},CmsSellerCarousel:{content:{desktop:function(){return n.e(101).then(n.bind(null,"e1188f"))},mobile:function(){return n.e(122).then(n.bind(null,"5e589b"))}}},CmsShelfGoods:{content:{desktop:function(){return n.e(98).then(n.bind(null,"e9c008"))},mobile:function(){return Promise.all([n.e(1),n.e(119)]).then(n.bind(null,"cf722a"))}},extendPlaces:!0,places:["myPremium.shelf"]},CmsSeparator:{content:function(){return n.e(82).then(n.bind(null,"9a9fea"))},extendPlaces:!0,places:["pdp.productTrustFactors","pdp.characteristicsLong","pdp.credit","pdp.webCurrentSeller","pdp.sellerTrustFactors","pdp.deliveries","pdp.saleBlock","pdp.detailPanel","pdp.placeholder1","pdp.placeholder2","pdp.placeholder3","pdp.placeholder4","pdp.placeholder5","pdp.placeholder6","pdp.placeholder7","pdp.placeholder8","pdp.placeholder9","pdp.placeholder10","pdp.grid.default"]},CmsStickyContainer:{content:function(){return n.e(123).then(n.bind(null,"692441"))}},CmsTopBar:{content:function(){return n.e(102).then(n.bind(null,"b60a3e"))},places:["block-vertical.default","sticky-container.top","sticky-container.middle","wallpaper.default"]},CmsTitle:{content:function(){return n.e(74).then(n.bind(null,"ef9ff0"))},extendPlaces:!0,places:["myPremium.shelf"]},CmsThumbnailList:{content:function(){return n.e(83).then(n.bind(null,"dea75b"))}},CmsTradeInCalculator:{content:function(){return Promise.all([n.e(3),n.e(103)]).then(n.bind(null,"a12cd6"))}},CmsUWidgetSKU:{content:{desktop:function(){return Promise.all([n.e(0),n.e(105)]).then(n.bind(null,"58950f"))},mobile:function(){return Promise.all([n.e(1),n.e(0),n.e(125)]).then(n.bind(null,"c06cd9"))}},extendPlaces:!0,places:["myPremium.shelf","pdp.shelfs","orderListContainer.details"]},CmsUWidgetObject:{content:{desktop:function(){return Promise.all([n.e(0),n.e(104)]).then(n.bind(null,"86407d"))},mobile:function(){return Promise.all([n.e(0),n.e(124)]).then(n.bind(null,"e36ce5"))}}},CmsVideo:{content:function(){return n.e(84).then(n.bind(null,"379d3a"))}},CmsWallpaper:{content:function(){return Promise.all([n.e(0),n.e(85)]).then(n.bind(null,"e13e7f"))}},CmsWebToApp:{content:function(){return Promise.all([n.e(0),n.e(126)]).then(n.bind(null,"4bed30"))}},CmsWebToAppBanner:{content:function(){return Promise.all([n.e(0),n.e(127)]).then(n.bind(null,"2a7cb0"))}}};t.default=r},"813bc1":function(e,t,n){"use strict";var r=n("cd9ebb");n.n(r).a},"81cc57":function(e,t,n){"use strict";var r,o;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e.LOGIN="login",e.LOGIN_BY_EMAIL="login_by_email",e.ACCESS_RECOVERY="access_recovery",e.CREATE_LEGAL="create_legal"}(r||(r={})),function(e){e.BACK_TO="backto",e.REDIRECT_TO="redirectto"}(o||(o={}))},"824cb6":function(e,t,n){"use strict";var r=n("c0bc28"),o={components:{LinksStub:n("17e9e6").a},props:{title:{type:String,default:""},hint:{type:String,default:""},link:{type:String,default:""},mods:{type:Array,default:function(){return[]}},background:{type:String,default:""},icon:{type:String,default:""}},computed:{classList:function(){var e=this;return this.mods.map((function(t){return e.$style[t]}))},wrapperStyles:function(){var e={};return this.background&&(e.backgroundImage="url("+this.background+")"),e},iconStyles:function(){var e={};return this.icon&&(e.backgroundImage="url("+this.icon+")"),e}}},c=n("9cbb60"),l=n("b429cb");var d=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LinksStub",{class:[e.$style.link].concat(e.classList),style:e.wrapperStyles,attrs:{hint:e.hint,href:e.link},on:{click:function(t){return e.$emit("clickOnItem")}}},[e.icon?n("span",{class:e.$style.icon,style:e.iconStyles}):e._e(),e._v(" "),e.title?n("span",{class:e.$style.title},[e._v("\n    "+e._s(e.title)+"\n  ")]):e._e()])}),[],!1,(function(e){this.$style=c.default.locals||c.default}),null,null).exports,f={name:"ActiveSectionLinks",components:{Link:d},props:{linksBlock:{type:Object,default:function(){}},rootCategory:{type:String,default:""},menuId:{type:String,default:"1"}},methods:{sendClickEvent:function(e,t){void 0===t&&(t={}),this.$emit("clickOnItem",{cell:e.cellTrackingInfo,slice:t.sliceTrackingInfo})}}},h=n("19b9ce");var m={components:{LinksBlock:Object(l.a)(f,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{class:[t.$style.sectionLinksBlock,(e={},e[t.$style.shorter]=!t.linksBlock.categories,e)]},[r("Link",{directives:[{name:"qa",rawName:"v-qa",value:{categoryName:t.linksBlock.title,id:"menu-dropdown-item-level2"},expression:"{categoryName: linksBlock.title, id: 'menu-dropdown-item-level2'}"}],attrs:{link:t.linksBlock.url,mods:["secondLevel"],title:t.linksBlock.title},on:{clickOnItem:function(e){return t.sendClickEvent(t.linksBlock)}}}),t._v(" "),t.linksBlock.categories?r("div",{class:t.$style.linksList},[t._l(t.linksBlock.categories,(function(link,e){return r("Link",{directives:[{name:"qa",rawName:"v-qa",value:{categoryName:link.title,id:"menu-dropdown-item-level3"},expression:"{categoryName: link.title, id: 'menu-dropdown-item-level3'}"}],key:e+"-"+link.title,attrs:{link:link.url,mods:["thirdLevel"],title:link.title},on:{clickOnItem:function(e){return t.sendClickEvent(link,t.linksBlock)}}})})),t._v(" "),t.linksBlock.showAllText?r("Link",{attrs:{link:t.linksBlock.url,mods:["thirdLevel","showAll"],title:t.linksBlock.showAllText},on:{clickOnItem:function(e){return t.sendClickEvent(t.linksBlock,t.linksBlock)}}}):t._e()],2):t._e()],1)}),[],!1,(function(e){this.$style=h.default.locals||h.default}),null,null).exports,Link:d,TransitionOnlyFade:n("d516aa").a},props:{section:{type:Object,default:function(){}},height:{type:String,default:"100%"},menuId:{type:String,default:"1"},show:{type:Boolean,default:!1}},computed:{validSection:function(){return this.show&&this.section&&this.section.categories&&this.section.categories.length}},methods:{sendClickEvent:function(e,t){this.$emit("clickOnItem",{cell:e.cellTrackingInfo,slice:t.sliceTrackingInfo||{}})},sendClickColumnEvent:function(e,t){this.$emit("clickOnItem",{cell:e.cell,slice:e.slice||t.sliceTrackingInfo})}}},v=n("2dd8b0");var y=Object(l.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.activeSection,style:{maxHeight:e.height}},[e.validSection?n("div",{class:e.$style.leftAside},[e.section.promo?n("div",{class:e.$style.topMarketingLinks},e._l(e.section.promo,(function(t){return n("Link",{key:t.title,attrs:{link:t.url,title:t.title,mods:["promoLink"]},on:{clickOnItem:function(n){return e.sendClickEvent(t,e.section)}}})})),1):e._e(),e._v(" "),n("div",{class:e.$style.activeSectionBlocks},[n("TransitionOnlyFade",[n("div",{class:e.$style.linksBlockWrap},[n("div",{class:[e.$style.columnMain,e.$style.column]},e._l(e.section.categories,(function(t,r){return n("LinksBlock",{key:r,attrs:{"links-block":t,"root-category":e.section.title,"menu-id":e.menuId},on:{clickOnItem:function(t){return e.sendClickColumnEvent(t,e.section)}}})})),1),e._v(" "),e.section.brands||e.section.promoPics?n("div",{class:[e.$style.column,e.$style.lastOne]},[e._l(e.section.brands,(function(t,r){return n("Link",{key:"brand-"+r,attrs:{background:t.image,link:t.url,hint:t.title,mods:["picLink"]},on:{clickOnItem:function(n){return e.sendClickEvent(t,e.section)}}})})),e._v(" "),e._l(e.section.promoPics,(function(t,r){return n("Link",{key:"promo-"+r,attrs:{background:t.image,link:t.url,mods:["picLink"]},on:{clickOnItem:function(n){return e.sendClickEvent(t,e.section)}}})}))],2):e._e()])])],1)]):e._e()])}),[],!1,(function(e){this.$style=v.default.locals||v.default}),null,null).exports,E=(n("497371"),n("ff287e")),_=n.n(E),S={components:{Link:d},props:{categories:{type:Array,default:function(){return[]}},marketing:{type:Array,default:function(){return[]}},height:{type:String,default:"100%"},activeSectionIndex:{type:Number,default:0},menuId:{type:String,default:"1"}},computed:{isTablet:function(){return _()(this.$store.state,"browser.isTablet")||!1},forceDesktop:function(){return _()(this.$store.state,"browser.forceDesktop")||!1},preventHover:function(){return this.isTablet||this.forceDesktop}},methods:{checkActivation:function(e){if(e===this.activeSectionIndex)return"mActive"},onCategoriesClick:function(section,e,t){if(this.preventHover&&e!==this.activeSectionIndex)return t.preventDefault(),t.stopPropagation(),void this.$emit("activate",e);this.$emit("clickOnItem",{cell:section.sliceTrackingInfo,slice:{}})},onMouseEnter:function(e){this.preventHover||this.$emit("activate",e)},onMouseLeave:function(e){if(!this.preventHover){var data={x:e.clientX,y:e.clientY};this.$emit("leave",data)}}}},O=Object(l.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{maxHeight:e.height}},[e._l(e.categories,(function(section,t){return n("Link",{directives:[{name:"qa",rawName:"v-qa",value:{categoryId:section.id,categoryName:section.title,id:"menu-dropdown-item-level1"},expression:"{categoryId: section.id, categoryName: section.title, id: 'menu-dropdown-item-level1'}"}],key:"category-"+t,attrs:{link:section.url,mods:["firstLevel",e.checkActivation(t)],title:section.title},on:{clickOnItem:function(n){return e.onCategoriesClick(section,t,n)}},nativeOn:{mouseenter:function(n){return e.onMouseEnter(t)},mouseleave:function(t){return e.onMouseLeave(t)}}})})),e._v(" "),e.marketing?e._l(e.marketing,(function(section,t){return n("Link",{directives:[{name:"qa",rawName:"v-qa",value:{categoryName:section.title,id:"menu-dropdown-item-level1"},expression:"{categoryName: section.title, id: 'menu-dropdown-item-level1'}"}],key:"marketing-"+t,attrs:{icon:section.image,link:section.url,mods:["firstLevel","marketingLink"],title:section.title},on:{clickOnItem:function(t){return e.$emit("clickOnItem",{cell:section.cellTrackingInfo,slice:{}})}}})})):e._e()],2)}),[],!1,null,null,null).exports,T={type:"ui",title:"Каталог"},I={name:"CatalogButton",props:{active:{type:Boolean,default:!1}},computed:{catalogButton:function(){return T}}},w=n("e3d74d");var C=Object(l.a)(I,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("button",{class:[(e={},e[t.$style.active]=t.active,e),t.$style.btn],attrs:{type:"button",value:"Каталог"},on:{click:function(e){return t.$emit("click")}}},[r("span",{class:t.$style.icon}),t._v("\n  Каталог\n")])}),[],!1,(function(e){this.$style=w.default.locals||w.default}),null,null).exports,k=n("4047f7"),P=n("331f86"),R=n.n(P),x={created:function(){var e=this;this.debouncedUpdateActiveIndex=R()((function(t){e.insideMenu&&t()}),150),this.coords={pointer:{x:0,y:0},triangle:{top:{x:0,y:0},bottom:{x:0,y:0},center:{x:0,y:0}}},this.insideMenu=!1},methods:{setTriangleCoordsByMouseEvt:function(e){var t=e.target.getBoundingClientRect(),n=this.coords;n.triangle.top.x=t.right,n.triangle.top.y=t.top>0?t.top:0,n.triangle.bottom.x=t.right,n.triangle.bottom.y=t.bottom,this.insideMenu=!0},pointerLocationCheck:function(e){var t=e.x,n=e.y,r=this.coords;r.pointer.x=t-3,r.pointer.y=n-3,this.pointInTriangle(r.pointer,r.triangle)||(r.triangle.center.x=t,r.triangle.center.y=n)},toggleInsideMenu:function(){this.insideMenu=!1},setActivateSection:function(e){var t=this.coords;this.pointInTriangle(t.pointer,t.triangle)||e(),this.debouncedUpdateActiveIndex(e)},pointInTriangle:function(e,t){var n=[t.center.x-t.top.x,t.center.y-t.top.y],r=[t.bottom.x-t.top.x,t.bottom.y-t.top.y],o=[e.x-t.top.x,e.y-t.top.y],c=n[0]*n[0]+n[1]*n[1],l=n[0]*r[0]+n[1]*r[1],d=n[0]*o[0]+n[1]*o[1],f=r[0]*r[0]+r[1]*r[1],h=r[0]*o[0]+r[1]*o[1],m=1/(c*f-l*l),u=(f*d-l*h)*m,v=(c*h-l*d)*m;return u>=0&&v>=0&&u+v<1}}},A={components:{ActiveSection:y,FirstLevelList:O,TransitionFade:r.a,CatalogBtn:C},mixins:[x],props:{categories:{type:Array,default:function(){return[]}},marketing:{type:Array,default:function(){return[]}},menuId:{type:String,default:"1"}},data:function(){return{show:!1,activeSectionIndex:0,height:"100%",updatedCategoriesIndexes:[]}},computed:{activeSection:function(){return this.categories[this.activeSectionIndex]||this.categories[0]}},mounted:function(){var e=Object(k.a)().html.offsetHeight;this.height=e-300+"px",this.$when("composer/GET_LAYOUT",this.updateCategoriesIndexes)},beforeDestroy:function(){this.$when.unsubscribe("composer/GET_LAYOUT",this.updateCategoriesIndexes)},methods:{hide:function(e){this.show&&(e.stopPropagation(),this.toggle())},toggle:function(){this.show=!this.show},clickOnButton:function(){this.toggle(),this.onActivateSection(this.activeSectionIndex),this.show&&this.$emit("clickOnBtn")},onActivateSection:function(e){var t=this;this.setActivateSection((function(){-1===t.updatedCategoriesIndexes.indexOf(e)&&(t.$emit("onActivateSection",e),t.updatedCategoriesIndexes.push(e)),t.activeSectionIndex=e}))},hideWithSPA:function(e){this.hide(e),this.activeSectionIndex=0},updateCategoriesIndexes:function(){this.updatedCategoriesIndexes=[]}}},L=n("1543cd");var D={components:{Menu:Object(l.a)(A,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}],class:e.$style.catalogButton},[n("CatalogBtn",{directives:[{name:"qa",rawName:"v-qa:id",value:"menu-show-dropdown",expression:"'menu-show-dropdown'",arg:"id"}],attrs:{active:e.show},on:{click:e.clickOnButton}}),e._v(" "),n("TransitionFade",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],class:e.$style.catalog,style:{maxHeight:e.height}},[n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}],class:e.$style.contentWrapper,on:{click:e.hideWithSPA}},[n("div",{class:e.$style.topLevel,on:{mouseenter:function(t){return e.setTriangleCoordsByMouseEvt(t)},mouseleave:e.toggleInsideMenu}},[n("FirstLevelList",{attrs:{"active-section-index":e.activeSectionIndex,categories:e.categories,height:e.height,marketing:e.marketing,"menu-id":e.menuId},on:{activate:e.onActivateSection,leave:e.pointerLocationCheck,clickOnItem:function(t){return e.$emit("clickOnItem",t)}}})],1),e._v(" "),n("ActiveSection",{attrs:{height:e.height,"menu-id":e.menuId,section:e.activeSection,show:e.show},on:{clickOnItem:function(t){return e.$emit("clickOnItem",t)}}})],1)])])],1)}),[],!1,(function(e){this.$style=L.default.locals||L.default}),null,null).exports},props:{categories:{type:Array,default:function(){return[]}},marketing:{type:Array,default:function(){return[]}},menuId:{type:String,default:"1"}}},$=Object(l.a)(D,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("Menu",{attrs:{categories:e.categories,marketing:e.marketing,"menu-id":e.menuId},on:{clickOnItem:function(t){return e.$emit("clickOnItem",t)},onActivateSection:function(t){return e.$emit("onActivateSection",t)},clickOnBtn:function(t){return e.$emit("clickOnBtn")}}})}),[],!1,null,null,null);t.a=$.exports},"832e2a":function(e,t,n){"use strict";var r=n("dff84f"),o=n.n(r);t.default=o.a},"83368c":function(e,t,n){e.exports={serviceLinksList:"_94cc99",serviceLinksLink:"_741f43",highlight:"_934f6f",":focus":"_70ba78",serviceLinksItem:"_75aa8d",":hover":"_0e8f66",blink:"cfd712"}},835335:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r}));var r=function(){return{}}},"846c0d":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("8fd32c"),o=n("4047f7"),c=n("cb4c2a"),l=n.n(c),d=function(){return(d=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},f={offset:0,fromBottom:!1};function h(e,t){return void 0===t&&(t={}),{name:"InViewportMixin",data:function(){return{viewed:!1,boundEvents:!1}},created:function(){this.config=d({},t),this.scrollCallbacks=this.scrollCallbacks||[],this[e]&&(this.scrollCallbacks.push(this[e]),this[e].once=t.once)},mounted:function(){this[e]&&"function"==typeof this[e].once&&(this[e].once=this[e].once.apply(this)),this._bindEvents(),this.handleViewportChange()},destroyed:function(){this._unbindEvents()},methods:{handleViewportChange:function(){var e=this.scrollCallbacks,t=this._isInViewport(this.$el);if(t){for(var n=function(n){if(o.viewed&&n.once)return o.scrollCallbacks=e.filter((function(e){return e!==n})),{value:void 0};n.call(o,t)},o=this,c=0,l=e;c<l.length;c++){var d=n(l[c]);if("object"===Object(r.a)(d))return d.value}this.viewed=!0}},_isInViewport:function(element){return Object(o.c)(element,d({},f,this.config))},_bindEvents:function(){var e=this.config.throttle||300,t={passive:Object(o.b)(),capture:!0};this.$el.$onScroll=this.$el.$onScroll||l()(this.handleViewportChange,e),window.addEventListener("viewport",this.$el.$onScroll,t),window.addEventListener("scroll",this.$el.$onScroll,t),window.addEventListener("click",this.$el.$onScroll,t),this.boundEvents=!0},_unbindEvents:function(){window.removeEventListener("viewport",this.$el.$onScroll),window.removeEventListener("scroll",this.$el.$onScroll),window.removeEventListener("click",this.$el.$onScroll),delete this.$el.$onScroll,this.boundEvents=!1}}}}},"84bb94":function(e,t,n){e.exports={phone:"_9ac6ea",":hover":"e020cc",icon:"_7fd157",menuColumnTitle:"_678b34",blink:"e9aae4"}},"84e7f5":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return l})),n.d(t,"mutations",(function(){return d})),n.d(t,"getters",(function(){return f})),n.d(t,"actions",(function(){return h}));n("f8695b"),n("41d819"),n("aae158");var r=n("bbfe95"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},c=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},l=function(){return{default:{footerColumns:[],footerLinks:[],footerMobileLinks:[],copyright:{title:"",link:""},phone:""}}},d={setFooter:function(e,t){var n=t.footerColumns,r=t.footerLinks,o=t.phone,c=t.copyright,l=t.footerMobileLinks;Object.assign(e.default,{footerColumns:n,footerLinks:r,phone:o,copyright:c,footerMobileLinks:l})}},f={getParamsByStateId:function(e){return function(t){return e[t]}}},h={GET_FOOTER:function(e){var t=e.commit;return o(this,void 0,void 0,(function(){var footer,e;return c(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.$api.action.cmsShellElementFooter.get()];case 1:return footer=n.sent(),t("setFooter",footer),[3,3];case 2:return e=n.sent(),this.$logger.error({exception:e,message:r.j.ERROR_GETTING_FOOTER}),[3,3];case 3:return[2]}}))}))}}},"8619a0":function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106"),n("2c09af");var r=n("dc77a5"),o=(n("5dd61c"),n("66914a"),n("5eabea")),c=n("6876d5"),l=n("0fe46d"),d=n("153092"),f=(n("497371"),n("a0d0bf")),h=n("ff287e"),m=n.n(h),v={name:"MenuItem",components:{LinksStub:n("17e9e6").a},props:{active:{type:Boolean,default:!1},showMenu:{type:Boolean,default:!1},showLabels:{type:Boolean,default:!1},isLoggedIn:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}}},computed:{showMyOzon:function(){return this.showMenu&&this.active&&this.isMyOzon},isMyOzon:function(){return"myOzon"===this.item.key}},methods:{onClick:function(){this.isMyOzon&&this.$emit("myOzonClick")}}},y=n("68bab6"),E=n("b429cb");var _=Object(E.a)(v,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("LinksStub",{class:[t.$style[t.item.key],(e={},e[t.$style.active]=t.active,e)],attrs:{href:t.item.link,type:"span"},on:{click:t.onClick}},[r("span",{class:t.$style.itemLogo},[t._t("icon"),t._v(" "),t.item.hasCounter?r("span",{directives:[{name:"show",rawName:"v-show",value:t.item.counter,expression:"item.counter"},{name:"qa",rawName:"v-qa:id",value:"item-counter",expression:"`item-counter`",arg:"id"}],class:t.$style.itemCounter},[t._v("\n      "+t._s(t.item.counter)+"\n    ")]):t._e()],2),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:t.showLabels,expression:"showLabels"}],class:t.$style.itemName},[t._v("\n    "+t._s(t.item.title)+"\n  ")]),t._v(" "),t.showMyOzon?r("Transition",{attrs:{name:"mobile-menu-arrow"}},[r("span",{directives:[{name:"show",rawName:"v-show",value:t.showMyOzon,expression:"showMyOzon"}],class:t.$style.arrow})]):t._e()],1)}),[],!1,(function(e){this.$style=y.default.locals||y.default}),null,null).exports,S=n("2dad57"),O=n.n(S),T=n("60791d"),I=n.n(T),w=n("3ec19a"),C=n.n(w),k=n("827b9f"),P=n.n(k),R=n("45748d"),x=n.n(R),A=n("d44705"),L=n.n(A);function D(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var $=/^\/?$/i,M=/^\/category(\/?)$/i,N=/^\/my\/(\w+)/i,j=/^\/cart/i,F=/^\/my\/favorites/i,B={components:{MenuItem:_,CartIcon:O.a,HomeIcon:I.a,UserIcon:x.a,PremimUserIcon:L.a,CatalogIcon:C.a,FavoriteIcon:P.a},props:{active:{type:String,default:""},favouritesCount:{type:Number,default:void 0},cartCount:{type:Number,default:void 0},catalogLink:{type:String,default:""},showLabels:{type:Boolean,default:!1}},data:function(){return{showMenu:!1,isMounted:!1,paths:{}}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(source,!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):D(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({isPremium:function(){return this.isLoggedIn&&this.loyaltyStatusId===f.a}},Object(c.c)({cartUrl:"cartGlobal/cartUrl"}),{},Object(c.e)("userInfo",{isLoggedIn:function(e){return e.user.isLoggedIn||!1},loyaltyStatusId:function(e){return m()(e,"user.loyaltyStatus.id")||0}}),{},Object(c.e)("pageInfo",{currentPath:function(e){return e.url||"/"}}),{items:function(){return[{title:"Главная",link:"/",key:"main",hasCounter:!1,path:"isHome"},{title:"Каталог",link:"/category",key:"catalog",hasCounter:!1,path:"isCatalog"},{title:"Корзина",link:this.cartUrl,key:"cart",hasCounter:!0,counter:this.cartCount,path:"isCart"},{title:"Избранное",link:"/my/favorites",key:"favorite",hasCounter:!0,counter:this.favouritesCount,path:"isFavorites"},{title:"Мой OZON",link:"",key:"myOzon",hasCounter:!1,path:"isMyAccount"}]},userpic:function(){return this.isLoggedIn&&this.loyaltyStatusId===f.a?L.a:x.a},icons:function(){return{cart:O.a,catalog:C.a,favorite:P.a,myOzon:this.userpic,main:I.a}}}),watch:{active:function(e){this.updatePaths(),this.showMenu="myOzon"===e}},mounted:function(){this.isMounted=!0,this.updatePaths(),this.$when("composer/GET_LAYOUT",this.updatePaths)},beforeDestroy:function(){this.$when.unsubscribe("composer/GET_LAYOUT",this.updatePaths)},methods:{icon:function(e){switch(e){case"cart":return O.a;case"catalog":return C.a;case"favorite":return P.a;case"myOzon":return this.userpic;default:return I.a}},showUserMenu:function(){this.isLoggedIn?this.$emit("setActive","myOzon"):this.$store.dispatch("modalLogin/SHOW_MODAL_LOGIN")},updatePaths:function(){this.paths=this.getActivePage(this.currentPath)},getActivePage:function(e){return{isHome:$.test(e),isCatalog:M.test(e),isMyAccount:N.test(e)&&!F.test(e)||"myOzon"===this.active,isCart:j.test(e),isFavorites:F.test(e)}}}},U=n("eb47f2");var menu=Object(E.a)(B,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.menu},e._l(e.items,(function(t,r){return n("MenuItem",{directives:[{name:"qa",rawName:"v-qa:id",value:t.key+"-page",expression:"`${item.key}-page`",arg:"id"}],key:r,class:e.$style.item,attrs:{item:t,active:e.paths[t.path],"show-labels":e.showLabels,"is-logged-in":e.isLoggedIn,"show-menu":e.showMenu},on:{myOzonClick:e.showUserMenu}},[n("template",{slot:"icon"},[n(e.icons[t.key],{tag:"component"})],1)],2)})),1)}),[],!1,(function(e){this.$style=U.default.locals||U.default}),null,null).exports,G=n("8ec695"),V=n.n(G),H=n("dc67af"),z={components:{OzButton:n.n(H).a},props:{fullScreen:{type:Boolean,default:!1},black:{type:Boolean,default:!1},noZindex:{type:Boolean,default:!1}},data:function(){return{CrossIcon:V.a}},computed:{classList:function(){var e;return[this.$style.popup,(e={},Object(o.a)(e,this.$style.fullScreen,this.fullScreen),Object(o.a)(e,this.$style.mBlack,this.black),Object(o.a)(e,this.$style.mNoZindex,this.noZindex),e)]}}},Y=(n("8c2bd8"),n("a066b3"));var W=Object(E.a)(z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"header-popup",expression:"`header-popup`",arg:"id"}],class:e.classList},[e._t("default"),e._v(" "),n("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"header-popup-close",expression:"`header-popup-close`",arg:"id"}],class:e.$style.close},[n("OzButton",{attrs:{icon:e.CrossIcon,size:"m",theme:"inline"},on:{click:function(t){return e.$emit("close")}}})],1)],2)}),[],!1,(function(e){this.$style=Y.default.locals||Y.default}),null,null).exports,K=n("e4591c"),X=n("3ced62"),Q=n("9e82e9");function Z(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var J,ee,te,ne={name:"UserMenu",components:{ComposerLink:X.a,Price:K.a,CitySelector:d.b},props:{username:{type:String,default:""},ordercount:{type:Number,default:0},balance:{type:[String,Number],default:0}},data:function(){return{points:null,isReferralManager:!1}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Z(source,!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Z(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.e)({isComposer:function(e){return void 0!==e.layout}}),{isHideLogoffButtonExperiment:function(){return 1===this.siteExperiments["web.csmaHideLogoff"]},referralManagerLink:function(){return{title:this.isReferralManager?"Бизнес кабинет":"Стать миллионером",link:this.isReferralManager?"/my/manager-statistics":"/manager/?perehod=usermenu"}}}),mounted:(te=Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$api.action.userPoints.get();case 3:t=e.sent,this.points=t,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.$logger.error({exception:e.t0,message:Q.t.CMS.ERROR_GETTING_USER_POINTS});case 10:this.getManagerData();case 11:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return te.apply(this,arguments)}),methods:{showLoginPopup:function(){this.$store.dispatch("modalLogin/TOGGLE_MODAL_LOGIN",!0)},onSuccessLogin:(ee=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isComposer){e.next=5;break}return this.$emit("successLogin"),e.next=4,this.$store.dispatch("composer/REFRESH_LAYOUT");case 4:return e.abrupt("return",!1);case 5:return this.$emit("successLogin"),e.next=8,this.$store.dispatch("userInfo/GET_USER_DATA",{});case 8:return e.next=10,this.$store.dispatch("location/GET_LOCATION",{});case 10:return e.next=12,this.$store.dispatch("userInfo/REFRESH_USER_TOTALS",{});case 12:this.getManagerData();case 13:case"end":return e.stop()}}),e,this)}))),function(){return ee.apply(this,arguments)}),getManagerData:(J=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$api.referral.getManagerData.get();case 3:t=e.sent,n=t.is_manager,r=void 0!==n&&n,this.isReferralManager=r,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.$logger.error({exception:e.t0,message:"Failed to get manager data"});case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return J.apply(this,arguments)})}},re=n("27b3ea");var ie=Object(E.a)(ne,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.userMenu},[n("h2",{class:e.$style.greeting},[e._v("\n    Мы рады вам"),e.username?n("span",[e._v(", "+e._s(e.username))]):e._e(),e._v("!\n  ")]),e._v(" "),n("div",{class:e.$style.citySelector},[n("div",{class:e.$style.citySelectorHeader},[e._v("\n      город доставки ваших покупок\n    ")]),e._v(" "),n("CitySelector",{attrs:{"to-show-confirm":!1}})],1),e._v(" "),n("div",{class:e.$style.menu},[n("ComposerLink",{class:e.$style.link,attrs:{href:"/my/orderlist","data-count":e.ordercount},on:{click:function(t){return e.$emit("close")}}},[e._v("\n      Заказы\n    ")]),e._v(" "),n("ComposerLink",{class:e.$style.link,attrs:{href:"/my/settings"},on:{click:function(t){return e.$emit("close")}}},[e._v("\n      Личный кабинет\n    ")]),e._v(" "),e.balance||e.points?n("div",{class:e.$style.pointsAndBalance},[e.points&&e.points.classic?n("span",{class:e.$style.points},[e._v(e._s(e._f("pluralize")(e.points.classic,["балл","балла","баллов"]))+" Ozon")]):e._e(),e._v(" "),e.points&&e.points.card?n("span",{class:e.$style.points},[e._v(e._s(e._f("pluralize")(e.points.card,["балл","балла","баллов"]))+" Ozon.Card")]):e._e(),e._v(" "),e.balance?n("span",{class:e.$style.balance},[n("Price",{attrs:{price:e.balance,size:16}}),e._v(" на счёте")],1):e._e()]):e._e(),e._v(" "),n("ComposerLink",{staticClass:"link",attrs:{href:e.referralManagerLink.link},on:{click:function(t){return e.$emit("close")}}},[e._v("\n      "+e._s(e.referralManagerLink.title)+"\n    ")]),e._v(" "),n("ComposerLink",{directives:[{name:"qa",rawName:"v-qa:id",value:"header-my-ozon-codes",expression:"'header-my-ozon-codes'",arg:"id"}],class:e.$style.link,attrs:{href:"/my/codes"},on:{click:function(t){return e.$emit("close")}}},[e._v("\n      Кодовые слова и сертификаты\n    ")]),e._v(" "),n("ComposerLink",{directives:[{name:"qa",rawName:"v-qa:id",value:"header-my-ozon-help",expression:"'header-my-ozon-help'",arg:"id"}],class:e.$style.link,attrs:{href:"https://docs.ozon.ru/common/"}},[e._v("\n      Помощь\n    ")]),e._v(" "),e.isHideLogoffButtonExperiment?e._e():n("button",{directives:[{name:"qa",rawName:"v-qa:id",value:"header-my-ozon-logout",expression:"'header-my-ozon-logout'",arg:"id"}],class:e.$style.linkAlike,on:{click:function(t){return e.$emit("requestLogOff")}}},[e._v("\n      Выйти\n    ")])],1)])}),[],!1,(function(e){this.$style=re.default.locals||re.default}),null,null).exports,oe=n("79ac67");function ae(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var se,ce={name:"MobileHeader",components:{Menu:menu,Popup:W,UserMenu:ie,CitySelector:d.b,ModalLoginComponent:oe.a},props:{startActive:{type:String,default:void 0},showLabels:{type:Boolean,default:!1}},data:function(){return{active:this.startActive,confirmLocationWindowClosed:!1}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ae(source,!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ae(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({toShowPopup:function(){return["myOzon","confirmCity"].includes(this.active)},toShowConfirmCity:function(){return!this.isExactLocation&&!this.confirmLocationWindowClosed},favoritesCount:function(){return this.$store.getters["favorites/count"]},cartCount:function(){return this.$store.getters["cartGlobal/itemsCount"]},userMenuInfo:function(){var e=this.userInfo,t=e.user,n=e.activeOrderCount,r=void 0===n?0:n,o=t||{},c=o.balance,l=o.points;return{username:t.firstName||"",ordercount:r,balance:c,points:l}}},Object(c.e)({userInfo:function(e){var t=e.userInfo;return{user:t.user,activeOrderCount:t.activeOrderCount}},isExactLocation:function(e){var t=e.location;return Boolean(t.isExact)},isLoggedIn:function(e){return e.userInfo.user.isLoggedIn}}),{},Object(c.e)("modalLogin",{modalLoginIsVisible:function(e){return e.visibility}})),watch:{toShowConfirmCity:function(e){e||"confirmCity"!==this.active||this.setActive("")}},created:function(){this.toShowConfirmCity&&this.setActive("confirmCity")},methods:{setActive:function(e){this.active=e},closePopup:function(){"confirmCity"===this.active&&(this.confirmLocationWindowClosed=!0),this.setActive("")},logOff:(se=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("authorization/DROP_COOKIES");case 3:return e.next=5,Object(l.b)();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.$logger.error({exception:e.t0});case 10:location.reload();case 11:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return se.apply(this,arguments)})}},ue=n("1d28b5");var le=Object(E.a)(ce,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{class:e.$style.navigation},[n("Menu",{attrs:{active:e.active,"cart-count":e.cartCount,"favourites-count":e.favoritesCount,"show-labels":e.showLabels},on:{setActive:e.setActive}}),e._v(" "),e.toShowPopup&&e.isLoggedIn?n("Popup",{attrs:{black:"confirmCity"===e.active,"full-screen":"confirmCity"!==e.active,"no-zindex":!0},on:{close:e.closePopup}},["myOzon"===e.active?n("UserMenu",e._b({on:{requestLogOff:e.logOff,close:e.closePopup}},"UserMenu",e.userMenuInfo,!1)):e._e(),e._v(" "),"confirmCity"===e.active?n("div",{class:e.$style.confirmCity},[n("span",{class:e.$style.confirmCityTitle},[e._v("Город доставки ваших покупок")]),e._v(" "),n("CitySelector",{attrs:{"to-show-confirm":e.toShowConfirmCity}})],1):e._e()],1):e._e(),e._v(" "),e.modalLoginIsVisible?n("Transition",{attrs:{name:"catalog-mobile"}},[n("ModalLoginComponent")],1):e._e()],1)}),[],!1,(function(e){this.$style=ue.default.locals||ue.default}),null,null);t.a=le.exports},"862ce4":function(e,t,n){"use strict";n("f8695b"),n("41d819"),n("aae158");var r=n("6876d5"),o=n("0fe46d"),c=n("ff287e"),l=n.n(c),d=n("c7aace"),f=n("9e82e9"),h=n("1e8b3a"),m=n("574757"),v=n("14cf42"),y=n("79ac67"),E=n("23c58b"),_=n("d44705"),S=n.n(_),O=n("45748d"),T=n.n(O),I=n("21997c"),w=n.n(I),C=n("dc67af"),k=n.n(C),P={name:"NotificationEmptyPhone",components:{OzButton:k.a}},R=n("f827ec"),x=n("b429cb");var A=Object(x.a)(P,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:this.$style.emptyPhone},[t("b",[this._v("Защитите свой аккаунт")]),this._v(" "),t("div",{class:this.$style.emptyPhoneText},[this._v("\n    Заполните номер телефона\n    в профиле, чтобы усилить защиту своей учётной записи\n  ")]),this._v(" "),t("OzButton",{directives:[{name:"qa",rawName:"v-qa:id",value:"header-my-ozon-add-phone",expression:"'header-my-ozon-add-phone'",arg:"id"}],attrs:{text:"Перейти",href:"/my/settings"}})],1)}),[],!1,(function(e){this.$style=R.default.locals||R.default}),null,null).exports,L=n("667e87"),D=function(){return(D=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},$={name:"OfferLoginTooltip",components:{OzButton:k.a,DropdownTooltip:m.a},props:{offerLoginTooltipIsVisible:{type:Boolean,required:!0}},data:function(){return{COOKIE_NAME:"guest"}},computed:D({},Object(r.e)("userInfo",{isLoggedIn:function(e){return l()(e,"user.isLoggedIn")||!1}})),mounted:function(){var e=Object(L.b)(this.COOKIE_NAME);this.isLoggedIn||e||this.showTooltip()},methods:{showTooltip:function(){var e=this;Object(L.d)(this.COOKIE_NAME,!0,{expires:0}),this.$emit("toggleOfferLoginTooltip",!0),setTimeout((function(){e.hide()}),1e4)},hide:function(){this.$emit("toggleOfferLoginTooltip",!1)}}},M=n("3874e2");var N=Object(x.a)($,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.offerLoginTooltipIsVisible?n("DropdownTooltip",[n("div",{class:e.$style.tooltip,on:{mouseleave:e.hide}},[n("p",[e._v("\n      Войдите, чтобы использовать персональные скидки и баллы,\n      синхронизировать корзину с вашим смартфоном и отслеживать заказы!\n    ")]),e._v(" "),n("OzButton",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"},{name:"qa",rawName:"v-qa:id",value:"header-my-ozon-login",expression:"'header-my-ozon-login'",arg:"id"}],class:e.$style.button,attrs:{text:"Войти/зарегистрироваться",type:"button"},on:{click:function(t){return e.$emit("showModalLogin")}}})],1)]):e._e()}),[],!1,(function(e){this.$style=M.default.locals||M.default}),null,null).exports,j=n("a0d0bf"),F=function(){return(F=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},B=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},U=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},G={name:"CmsProfile",components:{HeaderIcon:h.a,DropdownTooltip:m.a,DropdownItem:v.a,ModalLoginComponent:y.a,Portal:E.a,PremiumIcon:S.a,NotificationEmptyPhone:A,OfferLoginTooltip:N,ProfileIcon:T.a,BellFilled16:w.a},props:{points:{type:Object,default:null}},data:function(){return{offerLoginTooltipIsVisible:!1,showProfileMenu:!1,isPointsLoading:!1,isReferralManager:!1}},computed:F({},Object(r.e)("userInfo",{isLoggedIn:function(e){return l()(e,"user.isLoggedIn")||!1},userName:function(e){return l()(e,"user.firstName")||"Кабинет"},accountPhone:function(e){return l()(e,"user.accountPhone")||""},loyaltyStatusId:function(e){return l()(e,"user.loyaltyStatus.id")||0},balance:function(e){return l()(e,"user.balance")||0}}),Object(r.e)("chat",{totalUnreadCount:function(e){var t=e.totalUnreadCount;return t}}),Object(r.e)("modalLogin",{modalLoginIsVisible:function(e){return e.visibility}}),Object(r.c)("compare",["inCompareCount"]),Object(r.e)("experiments",{isChatEnabled:function(e){var t=e.experiments;return t&&1===t["ccom.chat"]},isHideLogoffButton:function(e){var t=e.experiments;return t&&1===t["web.csmaHideLogoff"]}}),{userpic:function(){return this.isLoggedIn&&this.loyaltyStatusId===j.a?S.a:T.a},title:function(){return this.isLoggedIn?this.userName:"Войти"},profileLink:function(){return this.isLoggedIn?"/my/settings":""},showDropdownTooltip:function(){return this.offerLoginTooltipIsVisible||this.showProfileMenu},styles:function(){var e;return[this.$style["user-profile"],(e={},e[this.$style["focus-none"]]=this.showDropdownTooltip,e)]},counterScoreOzon:function(){return this.points&&this.points.classic?this.getPointsPluralize(this.points.classic)+" Ozon":""},counterScoreOzonCard:function(){return this.points&&this.points.card?this.getPointsPluralize(this.points.card)+" Ozon.Card":""},showEmptyPhoneWarn:function(){return!this.accountPhone&&this.isLoggedIn},referralManagerLink:function(){return{title:this.isReferralManager?"Бизнес кабинет":"Стать миллионером",link:this.isReferralManager?"/my/manager-statistics":"/manager/?perehod=usermenu"}}}),watch:{isLoggedIn:function(e,t){e&&e!==t&&this.getManagerData()}},mounted:function(){return B(this,void 0,void 0,(function(){return U(this,(function(e){return this.getManagerData(),[2]}))}))},methods:{getPointsPluralize:function(e){return Object(d.m)(e,["балл","балла","баллов"])},showModalLogin:function(){this.offerLoginTooltipIsVisible=!1,this.$store.dispatch("modalLogin/SHOW_MODAL_LOGIN")},hideModalLogin:function(){this.$store.dispatch("modalLogin/HIDE_MODAL_LOGIN")},showTooltipProfileMenu:function(){return B(this,void 0,Promise,(function(){var e,t;return U(this,(function(n){switch(n.label){case 0:if(!this.isLoggedIn)return[2];if(this.showProfileMenu=!0,this.points||this.isPointsLoading)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),this.isPointsLoading=!0,[4,this.$api.action.userPoints.get()];case 2:return e=n.sent(),this.$emit("points-loaded",e),[3,4];case 3:return t=n.sent(),this.$logger.error({exception:t,message:f.t.CMS.ERROR_GETTING_USER_POINTS}),[3,4];case 4:return[2]}}))}))},hideTooltipProfileMenu:function(){this.isLoggedIn&&(this.showProfileMenu=!1)},onKeydown:function(){this.isLoggedIn?this.showProfileMenu=!this.showProfileMenu:this.showModalLogin()},onClick:function(){this.isLoggedIn||this.showModalLogin()},logOff:function(){return B(this,void 0,Promise,(function(){var e;return U(this,(function(t){switch(t.label){case 0:this.$analytics.send("authorization/signOff",{}),t.label=1;case 1:return t.trys.push([1,4,,5]),[4,this.$store.dispatch("authorization/DROP_COOKIES")];case 2:return t.sent(),[4,Object(o.b)()];case 3:return t.sent(),[3,5];case 4:return(e=t.sent()).response&&e.response.status&&404===e.response.status?console.log("Ozonshop logoff useless"):console.error("Logoff Fail"),[3,5];case 5:return location.reload(),[2]}}))}))},onToggleOfferLoginTooltip:function(e){this.offerLoginTooltipIsVisible=e},getManagerData:function(){return B(this,void 0,void 0,(function(){var e,t,n;return U(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.$api.referral.getManagerData.get()];case 1:return e=r.sent().is_manager,t=void 0!==e&&e,this.isReferralManager=t,[3,3];case 2:return n=r.sent(),this.$logger.error({exception:n,message:"Failed to get manager data"}),[3,3];case 3:return[2]}}))}))}}},V=n("36390c");var H=Object(x.a)(G,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.styles,attrs:{tabindex:"0"},on:{mouseover:e.showTooltipProfileMenu,mouseleave:e.hideTooltipProfileMenu,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onKeydown(t)}}},[n("HeaderIcon",{directives:[{name:"qa",rawName:"v-qa:id",value:"header-my-ozon-icon",expression:"'header-my-ozon-icon'",arg:"id"}],class:e.$style.icon,attrs:{icon:e.userpic,title:e.title,link:e.profileLink},on:{clickOnIcon:e.onClick}},[n(e.userpic,{tag:"component",class:e.$style.pic}),e._v(" "),e.showEmptyPhoneWarn?n("BellFilled16",{class:e.$style.bellIcon}):e._e()],1),e._v(" "),e.isLoggedIn?e._e():n("OfferLoginTooltip",{attrs:{"offer-login-tooltip-is-visible":e.offerLoginTooltipIsVisible},on:{showModalLogin:e.showModalLogin,toggleOfferLoginTooltip:e.onToggleOfferLoginTooltip}}),e._v(" "),n("DropdownTooltip",{directives:[{name:"show",rawName:"v-show",value:e.showProfileMenu,expression:"showProfileMenu"}]},[e.showEmptyPhoneWarn&&e.showProfileMenu?n("NotificationEmptyPhone"):e._e(),e._v(" "),e.showProfileMenu?n("ul",{directives:[{name:"qa",rawName:"v-qa:id",value:"menu-show-dropdown",expression:"'menu-show-dropdown'",arg:"id"}]},[e.showProfileMenu?n("DropdownItem",{attrs:{title:"Личный кабинет",link:"/my/settings",subtitle:e.counterScoreOzon,"subtitle-two":e.counterScoreOzonCard}}):e._e(),e._v(" "),e.showProfileMenu?n("DropdownItem",{attrs:{title:"Подписка Ozon Premium",link:"/my/premium/"}}):e._e(),e._v(" "),e.showProfileMenu&&e.isChatEnabled?n("DropdownItem",{attrs:{title:"Мои сообщения",link:"/my/chat",subtitle:e.totalUnreadCount}}):e._e(),e._v(" "),e.showProfileMenu?n("DropdownItem",{attrs:{title:e.referralManagerLink.title,link:e.referralManagerLink.link}}):e._e(),e._v(" "),e.showProfileMenu?n("DropdownItem",{attrs:{title:"Кодовые слова и сертификаты",link:"/my/codes"}}):e._e(),e._v(" "),e.isHideLogoffButton?e._e():n("DropdownItem",{directives:[{name:"qa",rawName:"v-qa:id",value:"header-my-ozon-logout",expression:"'header-my-ozon-logout'",arg:"id"}],key:"logOff",attrs:{title:"Выйти",type:"button"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.logOff(t)}},nativeOn:{click:function(t){return e.logOff(t)}}})],1):e._e()],1),e._v(" "),n("Portal",[e.modalLoginIsVisible?n("ModalLoginComponent",{on:{close:e.hideModalLogin}}):e._e()],1)],1)}),[],!1,(function(e){this.$style=V.default.locals||V.default}),null,null);t.a=H.exports},"8639c4":function(e,t,n){"use strict";n.r(t);var r={ComposerPaginator:{content:function(){return Promise.all([n.e(3),n.e(0),n.e(130)]).then(n.bind(null,"36e095"))},extendPlaces:!0,places:["pdp.content","orderListContainer.preview","container.content"]}};t.default=r},869057:function(e,t,n){"use strict";var r=n("ec4a35"),o=n("a2d7c8"),c={name:"TopBar",components:{Location:r.a,ServiceLinks:o.a},props:{serviceLinks:{type:Array,default:function(){return[]}},phone:{type:String,default:""},hideLocation:{type:Boolean,default:!1}}},l=n("b2fa9e"),d=n("b429cb");var component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style["top-bar"],attrs:{role:"navigation"}},[n("div",{class:e.$style["top-bar-inner"]},[e.hideLocation?e._e():n("Location",{directives:[{name:"qa",rawName:"v-qa:id",value:"header-location",expression:"'header-location'",arg:"id"}]}),e._v(" "),e.serviceLinks.length?n("ServiceLinks",{attrs:{items:e.serviceLinks},on:{clickOnItem:function(t){return e.$emit("clickOnItem",t)}}}):e._e(),e._v(" "),e.phone?n("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"phone",expression:"'phone'",arg:"id"}],class:e.$style["top-bar-phone"],attrs:{"aria-label":"contact phone"}},[n("strong",[e._v(e._s(e.phone))])]):e._e()],1)])}),[],!1,(function(e){this.$style=l.default.locals||l.default}),null,null);t.a=component.exports},"8848ed":function(e,t,n){"use strict";n.r(t);n("42f576"),n("5dd61c"),n("66914a"),n("393231"),n("e28425"),n("f8695b"),n("41d819"),n("aae158");var r=n("c7aace"),o=n("bbfe95"),c=n("dcf4a3"),l=n("ff287e"),d=n.n(l),f=n("e5c354"),h=(n("c08bb9"),n("12a106"),n("6905f2")),m=(n("497371"),function(e){return Object(r.l)(e)}),v=function(e){return!Object(r.b)(e)},y=function(e){return/^[a-zA-Zа-яА-ЯЁё—\-.\s]+$/.test(e)},E=function(e){return e.receiver.receiverFirstLastName.value||e.receiver.receiverPhone.value},_={phone:{value:{required:h.required}},firstLastName:{value:{required:function(e){return!!E(this.model)||Object(h.required)(e)},required_buyer:function(e){return!E(this.model)||Object(h.required)(e)},latinLetters:function(e){return!!E(this.model)||(this.lang!==o.g.COLLECT_FIELDS_LANGS.ENG||m(e))},latinLetters_buyer:function(e){return!E(this.model)||(this.lang!==o.g.COLLECT_FIELDS_LANGS.ENG||m(e))},onlyLetters:function(e){return!!E(this.model)||y(e)},onlyLetters_buyer:function(e){return!E(this.model)||y(e)}}},email:{required:h.required,email:h.email}},S={phone:{phone:_.phone},email:{email:_.email},firstName:{firstLastName:_.firstLastName},lastName:{firstLastName:_.firstLastName},middleName:{firstLastName:_.firstLastName}},O={russianAddress:{value:{address_required:function(e){return!this.isCheckoutCountrySelectorExperiment||Object(h.required)(e)},street_and_house_required:function(e){return!!this.isCheckoutCountrySelectorExperiment||Object(h.required)(e)}},data:{house_required:function(e){return Boolean(e.house)},street_required:function(e){return Boolean(e.street)}}},addressTail:{required:h.required,noCyrillic:v},city:{required:h.required,noCyrillic:v},rusZipCode:{maxLength:Object(h.maxLength)(32)},foreignZipCode:{required:h.required,noCyrillic:v,maxLength:Object(h.maxLength)(32)},state:{id:{required:h.required}},apartment:{maxLength:Object(h.maxLength)(32)},entrance:{maxLength:Object(h.maxLength)(64)},floor:{maxLength:Object(h.maxLength)(64)},intercom:{maxLength:Object(h.maxLength)(64)},comment:{maxLength:Object(h.maxLength)(1024)},countrySelector:{required:h.required},citySelector:{required:h.required}},T={street:{russianAddress:O.russianAddress},house:{russianAddress:O.russianAddress},addressTail:{addressTail:O.addressTail},city:{city:O.city},rusZipCode:{rusZipCode:O.rusZipCode},foreignZipCode:{foreignZipCode:O.foreignZipCode},state:{state:O.state},apartment:{apartment:O.apartment},entrance:{entrance:O.entrance},floor:{floor:O.floor},intercom:{intercom:O.intercom},comment:{comment:O.comment},citySelector:{citySelector:O.citySelector}},I={inn:{required:h.required,numeric:h.numeric,minLength:Object(h.minLength)(10),inn:function(e){var t=String(e).split("").map((function(element){return Number(element)})),n=!1;return 10===t.length?n=t[9]===(2*t[0]+4*t[1]+10*t[2]+3*t[3]+5*t[4]+9*t[5]+4*t[6]+6*t[7]+8*t[8])%11%10:12===t.length&&(n=t[10]===(7*t[0]+2*t[1]+4*t[2]+10*t[3]+3*t[4]+5*t[5]+9*t[6]+4*t[7]+6*t[8]+8*t[9])%11%10&&t[11]===(3*t[0]+7*t[1]+2*t[2]+4*t[3]+10*t[4]+3*t[5]+5*t[6]+9*t[7]+4*t[8]+6*t[9]+8*t[10])%11%10),n}},name:{required:h.required},address:{required:h.required},factAddress:{required:h.required},accountNumber:{required:h.required,numeric:h.numeric,minLength:Object(h.minLength)(20)},correspNumber:{numeric:h.numeric,minLength:Object(h.minLength)(20)},bankName:{required:h.required},bic:{required:h.required,numeric:h.numeric,minLength:Object(h.minLength)(9)},kpp:{numeric:h.numeric,minLength:Object(h.minLength)(9)},city:{required:h.required},okpo:{numeric:h.numeric,okpo:function(e){return!e||function(e){var t,n=String(e).split("").map(Number),r=n.length-1;if(10!==n.length&&8!==n.length)return!1;function o(e){var t=0,o=e;return n.forEach((function(e,n){n!==r&&(t+=e*o),o<10?o++:o=1})),t%11}return(t=o(1))>9&&10===(t=o(3))&&(t=0),t===n[r]}(e)}}},w={inn:{inn:I.inn},name:{name:I.name},address:{address:I.address},factAddress:{factAddress:I.factAddress},accountNumber:{accountNumber:I.accountNumber},correspNumber:{correspNumber:I.correspNumber},bankName:{bankName:I.bankName},bic:{bic:I.bic},kpp:{kpp:I.kpp},city:{city:I.city},okpo:{okpo:I.okpo}},C={receiverPhone:{value:{requiredIf:Object(h.requiredIf)((function(){return this.model.receiver.receiverFirstLastName.value}))}},receiverFirstLastName:{value:{requiredIf:Object(h.requiredIf)((function(){return this.model.receiver.receiverPhone.value})),latinLetters:function(e){return!e||(this.lang!==o.g.COLLECT_FIELDS_LANGS.ENG||m(e))},onlyLetters:function(e){return!e||y(e)}}}},k={user:S,address:T,legal:w,receiver:{receiverPhone:{receiverPhone:C.receiverPhone},receiverFirstName:{receiverFirstLastName:C.receiverFirstLastName},receiverLastName:{receiverFirstLastName:C.receiverFirstLastName},receiverMiddleName:{receiverFirstLastName:C.receiverFirstLastName}},digital:{email:{email:{email:{required:h.required,email:h.email}}.email}}},P={user:["email"]},R={address:"fields",user:"fields",legal:"payprops",receiver:"fields",digital:"fields"},x=function(e){return function(e){var t={};for(var n in e){t[n]={};var r=e[n];for(var o in r){var c=r[o],l=Object.keys(c)[0];t[n][l]=c[l]}}return t}(function(e){var t={};for(var n in k){t[n]={};var r=k[n],o=R[n];if(o){var c=e[o];if(c)for(var l in c){var d=r[l];d&&(t[n][l]=d)}}}for(var f in P){var h=P[f];t[f]||(t[f]={});var m=k[f];if(m){var v=m[h];v&&(t[f][h]=v)}}return t}(e))},A=n("a17947"),L=n("362c4b"),D=n("331f86"),$=n.n(D);n.d(t,"state",(function(){return F})),n.d(t,"mutations",(function(){return U})),n.d(t,"getters",(function(){return G})),n.d(t,"actions",(function(){return V})),n.d(t,"isNewFieldValue",(function(){return H})),n.d(t,"mergeStateWithMappings",(function(){return z})),n.d(t,"updateFullName",(function(){return Y}));var M=function(){return(M=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},N=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},j=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},F=function(){return{fields:null,id:"",type:"",lang:o.g.COLLECT_FIELDS_LANGS.RUS,payprops:null,isValid:!1,isAddressFormValid:!1,isOrderFormValid:!1,isDigitalFormValid:!1,addressFormValidation:!1,orderFormValidation:!1,digitalFormValidation:!1,validationSchema:null,invalidServiceFields:null}},B=function(){return new Promise((function(e){return setTimeout(e,4)}))},U={setFieldValue:function(e,t){var n,r=t.name,o=t.formType,c=t.value;Object.hasOwnProperty.call(e[o].data,r)&&(e[o].data=M({},e[o].data,((n={})[r]=c,n)))},setIsValid:function(e,t){e.isValid=t},setFields:function(e,t){var n=t.fields,r=t.id,c=t.type,l=t.lang;e.fields=n,e.id=r,e.type=c,e.lang=l||o.g.COLLECT_FIELDS_LANGS.RUS},setPayprops:function(e,t){e.payprops=t},setIsAddressFormValid:function(e,t){e.isAddressFormValid=t},setIsOrderFormValid:function(e,t){e.isOrderFormValid=t},setIsDigitalFormValid:function(e,t){e.isDigitalFormValid=t},setAddressFormValidation:function(e,t){e.addressFormValidation=t},setOrderFormValidation:function(e,t){e.orderFormValidation=t},setDigitalFormValidation:function(e,t){e.digitalFormValidation=t},setValidationSchema:function(e,t){e.validationSchema=t},setInvalidServiceFields:function(e,t){e.invalidServiceFields=t}},G={countrySelector:function(e){return d()(e.fields,"countrySelector")},citySelector:function(e){return d()(e.fields,"citySelector")}},V={ASYNC_UPDATE_FIELD:function(e,t){var n=e.dispatch;return N(this,void 0,void 0,(function(){var e;return j(this,(function(r){switch(r.label){case 0:return e=n("UPDATE_FIELD",t),n("checkout/ADD_FORM_PROMISE",e,{root:!0}),[4,e];case 1:return r.sent(),[2]}}))}))},UPDATE_FIELD:function(e,t){var n=e.state,r=e.dispatch,o=e.rootState,c=e.getters,l=e.rootGetters;return N(this,void 0,void 0,(function(){var e,h,m,v,y,E,_,S;return j(this,(function(O){switch(O.label){case 0:if(!t)return[3,63];switch(t.value||(t.value=""),t.name){case"email":return[3,1];case"firstLastName":return[3,3];case"lastName":return[3,5];case"firstName":return[3,7];case"receiverFirstLastName":return[3,9];case"receiverLastName":return[3,11];case"receiverFirstName":return[3,13];case"phone":return[3,15];case"receiverPhone":return[3,21];case"russianAddress":return[3,23];case"street":return[3,38];case"house":return[3,40];case"fiasId":return[3,42];case"inn":return[3,44];case"accountNumber":return[3,47];case"correspNumber":return[3,49];case"bic":return[3,51];case"kpp":return[3,53];case"okpo":return[3,55]}return[3,57];case 1:return[4,r("SET_FIELD_VALUE",t)];case 2:return O.sent(),[3,59];case 3:return[4,r("user/SET_FULLNAME",t.value)];case 4:return O.sent(),[3,59];case 5:return[4,r("user/SET_LAST_NAME",t.value)];case 6:return O.sent(),[3,59];case 7:return[4,r("user/SET_FIRST_NAME",t.value)];case 8:return O.sent(),[3,59];case 9:return[4,r("receiver/SET_FULLNAME",t.value)];case 10:return O.sent(),[3,59];case 11:return[4,r("receiver/SET_LAST_NAME",t.value)];case 12:return O.sent(),[3,59];case 13:return[4,r("receiver/SET_FIRST_NAME",t.value)];case 14:return O.sent(),[3,59];case 15:return m=Object(A.e)(t.value.value),e=Object(A.e)(c["user/mappings"].phone),h=o.userInfo.user.isLoggedIn,[4,r("SET_FIELD_VALUE",{name:t.name,formType:t.formType,value:{value:m}})];case 16:return O.sent(),m!==e&&Object(A.g)(m)&&h?[4,r("user/CHECKING_PHONE",m)]:[3,18];case 17:O.sent(),O.label=18;case 18:return r("user/SET_PHONE_VERIFY_ERROR_VISIBILITY",!1),h?[3,20]:[4,r("DEBOUNCED_SAVE_DATA_TO_STORAGE",{type:"user",data:{phone:m}})];case 19:O.sent(),O.label=20;case 20:return[3,59];case 21:return m=Object(A.e)(t.value.value),[4,r("receiver/SET_RECEIVER_PHONE",m)];case 22:return O.sent(),[3,59];case 23:return d()(t,"value.data.street")||d()(t,"value.data.house")?[4,r("SET_FIELD_VALUE",t)]:[3,27];case 24:return O.sent(),t.value.data.rusZipCode?[4,r("SET_FIELD_VALUE",{name:"rusZipCode",formType:"address",value:t.value.data.rusZipCode})]:[3,26];case 25:O.sent(),O.label=26;case 26:return[3,34];case 27:if(!t.value)return[3,34];v=void 0,O.label=28;case 28:return O.trys.push([28,30,,31]),[4,this.$api.checkout.addressParse.post(t.value.value)];case 29:return v=O.sent(),[3,31];case 30:return O.sent(),v=Object(f.a)(t.value.value),[3,31];case 31:return y=v.street,E=v.house,(_=M({},t)).value.data={street:y,house:E},[4,r("SET_FIELD_VALUE",_)];case 32:return O.sent(),[4,r("SET_FIELD_VALUE",{name:"rusZipCode",formType:"address",value:""})];case 33:O.sent(),O.label=34;case 34:return[4,r("address/SET_FIAS_ID",d()(t,"value.data.fiasId"))];case 35:return O.sent(),[4,r("address/SET_COORDINATES",d()(t,"value.data.geoCoordinate"))];case 36:return O.sent(),[4,r("address/SET_ADDRESS_UID",d()(t,"value.data.addressUid"))];case 37:return O.sent(),[3,59];case 38:return[4,r("address/SET_STREET",t.value)];case 39:return O.sent(),[3,59];case 40:return[4,r("address/SET_HOUSE",t.value)];case 41:return O.sent(),[3,59];case 42:return[4,r("address/SET_FIAS_ID",t.value)];case 43:return O.sent(),[3,59];case 44:return t.value=t.value.length>=12?t.value.substring(0,12):t.value.substring(0,10),[4,r("SET_FIELD_VALUE",t)];case 45:return O.sent(),t.noSaveToStorage?[3,59]:[4,r("legal/REQUEST_LEGAL_INFO",t.value)];case 46:return O.sent(),[3,59];case 47:return t.value=t.value.substring(0,20),[4,r("SET_FIELD_VALUE",t)];case 48:return O.sent(),[3,59];case 49:return t.value=t.value.substring(0,20),[4,r("SET_FIELD_VALUE",t)];case 50:return O.sent(),[3,59];case 51:return t.value=t.value.substring(0,9),[4,r("SET_FIELD_VALUE",t)];case 52:return O.sent(),[3,59];case 53:return t.value=t.value.substring(0,9),[4,r("SET_FIELD_VALUE",t)];case 54:return O.sent(),[3,59];case 55:return t.value=t.value.length>=10?t.value.substring(0,10):t.value.substring(0,8),[4,r("SET_FIELD_VALUE",t)];case 56:return O.sent(),[3,59];case 57:return[4,r("SET_FIELD_VALUE",t)];case 58:return O.sent(),[3,59];case 59:return t.noSaveToStorage?[2]:"receiver"!==t.formType?[3,61]:(S=l["checkout/collectFields"]("receiver"),[4,r("DEBOUNCED_SAVE_DATA_TO_STORAGE",{type:"receiver",data:S})]);case 60:return O.sent(),[3,63];case 61:return"legal"!==t.formType?[3,63]:n.legal.data._inn?[3,63]:(S=l["checkout/payprops"],[4,r("DEBOUNCED_SAVE_DATA_TO_STORAGE",{type:"legal",data:S})]);case 62:O.sent(),O.label=63;case 63:return[2]}}))}))},SET_FIELD_VALUE:function(e,t){(0,e.commit)("setFieldValue",t)},COLLECT_FIELDS:function(e,t){var n=e.rootGetters,r=e.rootState,c=e.commit,l=e.dispatch,f=void 0===t?{isPreviewMode:!1}:t,h=f.isPreviewMode,m=f.selectedAreaId;return N(this,void 0,void 0,(function(){var e,t,f,v,y,E,_,S,O,T,I,w;return j(this,(function(C){switch(C.label){case 0:return C.trys.push([0,5,,6]),e=n["checkout/summary"],t=e.deliveryTypeId,f=e.deliveryMethodIds,v=e.legalUser,y=m||n["checkout/summary"].areaId,E=d()(r.checkout,"delivery.nextDeliveryType.id"),_=void 0,_=h?E?[E]:void 0:t?[t]:void 0,S=Boolean(r.experiments.experiments["web.checkoutCountrySelector"]),[4,this.$api.checkout.collectFields.get({areaId:y,deliveryTypeIds:_,deliveryMethodIds:h&&t!==E?void 0:f,useCountrySelector:S})];case 1:return"Unknown"===(O=C.sent()).type?(l("checkout/SET_HAS_SERVICE_ERROR",!0,{root:!0}),[2,!1]):(c("setFields",O),v?[4,this.$api.checkout.paypropsFields.get()]:[3,3]);case 2:return T=C.sent(),c("setPayprops",T),[3,4];case 3:c("setPayprops",null),C.label=4;case 4:return l("GENERATE_VALIDATION_SCHEMA"),I=d()(O,"fields.countrySelector"),l("address/SET_COUNTRY_SELECTOR",I),[3,6];case 5:return w=C.sent(),this.$logger.error({exception:w,message:o.h.ERROR_FETCH_COLLECT_FIELDS}),l("checkout/SET_HAS_SERVICE_ERROR",!0,{root:!0}),[3,6];case 6:return[2]}}))}))},GENERATE_VALIDATION_SCHEMA:function(e){var t=e.state;(0,e.commit)("setValidationSchema",x({fields:t.fields,payprops:t.payprops}))},SET_IS_ADDRESS_FORM_VALID:function(e,t){(0,e.commit)("setIsAddressFormValid",t)},SET_IS_ORDER_FORM_VALID:function(e,t){(0,e.commit)("setIsOrderFormValid",t)},TOGGLE_ADDRESS_FORM_VALIDATION:function(e){var t=e.commit;return N(this,void 0,void 0,(function(){return j(this,(function(e){switch(e.label){case 0:return t("setAddressFormValidation",!0),[4,B()];case 1:return e.sent(),t("setAddressFormValidation",!1),[2]}}))}))},TOGGLE_ORDER_FORM_VALIDATION:function(e){var t=e.commit;return N(this,void 0,void 0,(function(){return j(this,(function(e){switch(e.label){case 0:return t("setOrderFormValidation",!0),[4,B()];case 1:return e.sent(),t("setOrderFormValidation",!1),[2]}}))}))},SET_INVALID_SERVICE_FIELDS:function(e,t){(0,e.commit)("setInvalidServiceFields",t)},INIT_ADDRESS_FORM_DATA:function(e,t){var n=e.dispatch,area=t.area,r=t.fields,o=void 0===r?{}:r,c=t.fiasId,l=t.geoCoordinate,d=t.addressUid;return N(this,void 0,void 0,(function(){var e,t,r,f,h;return j(this,(function(m){switch(m.label){case 0:for(r in e=function(e){var t,r,c;return j(this,(function(l){switch(l.label){case 0:return t={name:e,formType:"address",value:o[e],noSaveToStorage:!0},"state"!==e?[3,2]:[4,n("address/GET_STATES")];case 1:r=l.sent(),(c=r&&r.find((function(t){return t.id===o[e]})))&&(t={name:e,formType:"address",value:c,noSaveToStorage:!0}),l.label=2;case 2:return[4,n("UPDATE_FIELD",t)];case 3:return l.sent(),[2]}}))},t=[],o)t.push(r);f=0,m.label=1;case 1:return f<t.length?(h=t[f],[5,e(h)]):[3,4];case 2:m.sent(),m.label=3;case 3:return f++,[3,1];case 4:return n("address/SET_FIAS_ID",c),n("address/SET_COORDINATES",l),n("address/SET_ADDRESS_UID",d),n("address/SET_AREA",area),[2]}}))}))},RESTORE_ADDRESS_FROM_STORAGE:function(e,t){var n=e.state,r=e.dispatch;return void 0===t&&(t={}),N(this,void 0,void 0,(function(){var e,o,c,l,f,h,m,v;return j(this,(function(y){switch(y.label){case 0:if(!(e=d()(t,"data.storage")))return[3,5];if(!(o=e.address))return[3,5];for(f in c=function(e){var t,n,c;return j(this,(function(l){switch(l.label){case 0:return t={name:e,formType:"address",value:o[e],noSaveToStorage:!0},"state"!==e?[3,2]:[4,r("address/GET_STATES")];case 1:n=l.sent(),(c=n&&n.find((function(t){return t.id===o[e]})))&&(t={name:e,formType:"address",value:c,noSaveToStorage:!0}),l.label=2;case 2:return[4,r("UPDATE_FIELD",t)];case 3:return l.sent(),[2]}}))},l=[],o)l.push(f);h=0,y.label=1;case 1:return h<l.length?(m=l[h],[5,c(m)]):[3,4];case 2:y.sent(),y.label=3;case 3:return h++,[3,1];case 4:v=n.address.data,r("checkout/delivery/SET_ADDRESS_INFO",v,{root:!0}),y.label=5;case 5:return[2]}}))}))},RESTORE_ADDRESS_FROM_ADDRESS_BOOK:function(e,t){var n=e.dispatch;return N(this,void 0,void 0,(function(){var address,e,r,o;return j(this,(function(c){return address=d()(t,"currentAddress"),e=address&&address.fields,n("checkout/delivery/SET_ADDRESS_INFO",M({},e,{addressUid:address&&address.addressUid,coordinates:address&&address.geoCoordinate,fiasId:address&&address.fiasId}),{root:!0}),r=address&&address.addressText,o=address&&address.addressAdditionalText,r&&o&&(r+=", "+o),n("checkout/delivery/SET_ADDRESS_TEXT",r,{root:!0}),[2]}))}))},RESTORE_DATA_FROM_STORAGE:function(e,t){var n=e.state,r=e.dispatch,o=e.rootState;return void 0===t&&(t={}),N(this,void 0,void 0,(function(){var e,c,l,f,h,m,v,y,E,_,S,O,T,I;return j(this,(function(w){switch(w.label){case 0:if(!(e=d()(t,"data.storage")))return[3,11];if(c=e.legal,l=e.receiver,f=e.user,!c)return[3,4];if(n.legal.data._inn)return[3,4];for(m in h=[],c)h.push(m);v=0,w.label=1;case 1:return v<h.length?(y=h[v],T={name:y,formType:"legal",value:c[y],noSaveToStorage:!0},[4,r("UPDATE_FIELD",T)]):[3,4];case 2:w.sent(),w.label=3;case 3:return v++,[3,1];case 4:return l?(E=l.receiverFirstName||"",_=l.receiverLastName||"",S=l.receiverMiddleName||"",E||_||S?(O="",O=S?(_+" "+E+" "+S).trim():(E+" "+_).trim(),[4,r("UPDATE_FIELD",{name:"receiverFirstLastName",formType:"receiver",value:{value:O},noSaveToStorage:!0})]):[3,6]):[3,8];case 5:w.sent(),w.label=6;case 6:return T={name:"receiverPhone",formType:"receiver",value:{value:l.receiverPhone},noSaveToStorage:!0},[4,r("UPDATE_FIELD",T)];case 7:w.sent(),w.label=8;case 8:return f&&f.phone?(T={name:"phone",formType:"user",value:{value:f.phone},noSaveToStorage:!0},I=o.userInfo.user.isLoggedIn,!I?[4,r("UPDATE_FIELD",T)]:[3,10]):[3,11];case 9:w.sent(),w.label=10;case 10:w.label=11;case 11:return[2]}}))}))},SAVE_DATA_TO_STORAGE:function(e,t){var n=e.rootState,r=t.type,data=t.data,c=t.areaId;return N(this,void 0,void 0,(function(){var e,t;return j(this,(function(l){switch(l.label){case 0:["receiver","address"].includes(r)&&(e=c||n.location.current.areaId),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.$api.checkout.storage.post({areaId:e,type:r,data:data})];case 2:return l.sent(),[3,4];case 3:return t=l.sent(),this.$logger.error({exception:t,message:o.h.ERROR_SAVE_DATA_TO_STORAGE}),[3,4];case 4:return[2]}}))}))},DEBOUNCED_SAVE_DATA_TO_STORAGE:$()((function(e,t){var n=e.dispatch;return N(void 0,void 0,void 0,(function(){return j(this,(function(e){return[2,n("SAVE_DATA_TO_STORAGE",t)]}))}))}),1e3),SAVE_ADDRESS_TO_ADDRESS_BOOK:function(e,t){var n=e.rootGetters,r=e.dispatch,c=t.fields,l=t.id,d=t.areaId;return N(this,void 0,void 0,(function(){var e,t,f,h,m;return j(this,(function(v){switch(v.label){case 0:return v.trys.push([0,5,,6]),e=n["checkout/summary"],t=e.addressUid,f=e.fiasId,h=e.geoCoordinate,l?[4,this.$api.checkout.addressBook.put({addressUid:t,areaId:d,fiasId:f,geoCoordinate:h,fields:c,id:l})]:[3,2];case 1:return v.sent(),[3,4];case 2:return[4,this.$api.checkout.addressBook.post({addressUid:t,areaId:d,fiasId:f,geoCoordinate:h,fields:c})];case 3:v.sent(),v.label=4;case 4:return[3,6];case 5:return m=v.sent(),Object(L.a)(this.$logger,m,o.h.ERROR_SAVE_ADDRESS_TO_ADDRESS_BOOK),r("checkout/SET_HAS_SERVICE_ERROR",!0,{root:!0}),[3,6];case 6:return[2]}}))}))}},H=function(e,t){return Object(c.b)(e)&&Object(c.b)(t)?JSON.stringify(e)!==JSON.stringify(t):e!==t},z=function(e,t){var n={};for(var r in e)n[r]=e[r];return Object.assign(n,t)};function Y(e){var t=e.dispatch,n=e.rootState,c=e.fullName,l=e.fieldName,d=e.formType;return N(this,void 0,void 0,(function(){var e,f,h,m,v,y,E,_,S,O,T,I,w,C;return j(this,(function(k){switch(k.label){case 0:return e=Object(r.i)(c.trim()),c&&e.result&&n.checkout.form.lang===o.g.COLLECT_FIELDS_LANGS.RUS?[4,this.$api.checkout.parseFullName.post(c)]:[3,2];case 1:f=k.sent(),k.label=2;case 2:return f&&f.result!==c?(h=e.result.split(" ").map((function(e){return e.toLowerCase()})),m=f.result.split(" ").map((function(e){return e.toLowerCase()})),h.some((function(e){return-1===m.indexOf(e)}))?t("SET_FIRST_LAST_NAME_SUGGEST",f):(e=M({},f,{result:c}),t("SET_FIRST_LAST_NAME_SUGGEST",null))):(t("SET_FIRST_LAST_NAME_SUGGEST",null),e=f||e),y=(v=e||{}).name,E=void 0===y?"":y,_=v.surname,S=void 0===_?"":_,O=v.patronymic,T=void 0===O?"":O,I=v.gender,w=void 0===I?"":I,C=v.result,[4,t("checkout/form/SET_FIELD_VALUE",{name:l,formType:d,value:{name:E,surname:S,patronymic:T,value:void 0===C?"":C,gender:w}},{root:!0})];case 3:return k.sent(),[2]}}))}))}},"88a262":function(e,t,n){e.exports={sharePic:"_69b256",mFb:"c9fec7",mVk:"dbde4b",mTw:"ace03f",mInst:"_77bc59",share:"_7e0a79",shareLink:"_17be1a",blink:"_24f3c9"}},"89ce33":function(e,t,n){"use strict";n.r(t);var r={BannerTopBannerContainer:{content:function(){return n.e(15).then(n.bind(null,"5f4ce0"))},places:["block-horizontal.default","block-vertical.default","container.default"]},BannerPremiumPopup:{content:function(){return n.e(14).then(n.bind(null,"0517d1"))},places:["block-horizontal.default","block-vertical.default","container.default"]},BannerPopUpSubscribeWidget:{content:function(){return n.e(13).then(n.bind(null,"5d1246"))},extendPlaces:!0,places:["block-horizontal.default","block-vertical.default","container.default"]}};t.default=r},"8c02fa":function(e,t,n){e.exports={logo:"_57b55c",image:"b6b0a9",blink:"e919eb"}},"8c2167":function(e,t,n){"use strict";var r=n("5884ec");n.n(r).a},"8cdf78":function(e,t,n){e.exports={sectionLinksBlock:"cacb7d",shorter:"_8f19d7",linksList:"f54607",blink:"_3c1c63"}},"8e604c":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return m})),n.d(t,"mutations",(function(){return v})),n.d(t,"actions",(function(){return y}));n("f8695b"),n("41d819"),n("aae158");var r=n("667e87"),o=n("878394"),c=n("0fe46d"),l=n("04944b"),d=n.n(l),f=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},h=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},m=function(){return{abGroup:-1,experiments:{}}},v={setFullState:function(e,t){Object.assign(e,t)},setAbGroup:function(e,t){e.abGroup=t}},y={nuxtServerInit:function(e,t){var n=e.dispatch,r=t.req,o=t.res,c=t.abGroup;return f(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return r.isComposer?[3,3]:[4,n("GET_AB_GROUP",{req:r,res:o,abGroup:c})];case 1:return e.sent(),[4,n("GET_EXPERIMENTS",{req:r,res:o,abGroup:c})];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},GET_AB_GROUP:function(e,t){var n=e.commit,o=e.dispatch,c=(t.req,t.res);return f(this,void 0,void 0,(function(){var e;return h(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),e=Object(r.b)("abGroup"),(e=parseInt(e))?[3,2]:(e=d()(0,100),[4,o("SET_AB_GROUP",{abGroup:e,res:c})]);case 1:t.sent(),t.label=2;case 2:return n("setAbGroup",e),[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}}))}))},GET_EXPERIMENTS:function(e){var t=e.commit,n=e.state;return f(this,void 0,void 0,(function(){var e,r;return h(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),e=n.abGroup||0,[4,this.$api.abgroup.get(e)];case 1:return r=o.sent().experiments,this.$logger.info({message:"Refresh experiments",payload:{abGroup:e}}),t("setFullState",{experiments:r}),[3,3];case 2:return o.sent(),[3,3];case 3:return[2]}}))}))},SET_AB_GROUP:function(e,t){var n=e.dispatch,c=e.commit,l=t.abGroup;t.res;return f(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:c("setAbGroup",l),e.label=1;case 1:return e.trys.push([1,5,,6]),[3,2];case 2:return o.a.removeItem("header.data"),o.a.removeItem("pageflow_header"),o.a.removeItem("pageflow_menu"),Object(r.d)("abGroup",l),[4,n("SYNC_AB_GROUP_BROWSER")];case 3:e.sent(),e.label=4;case 4:return[3,6];case 5:return e.sent(),[3,6];case 6:return[2]}}))}))},SYNC_AB_GROUP_BROWSER:function(e){var t=e.state;try{Object(c.c)(t.abGroup)}catch(e){this.$logger.error(e)}}}},"8e8a8a":function(e,t,n){"use strict";var r=n("82c609"),o={name:"Phone",components:{ClockIcon:n.n(r).a},props:{phone:{type:String,default:""},hasIcon:{type:Boolean,default:!0}}},c=n("34cf18"),l=n("b429cb");var component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.phone?n("div",[e.hasIcon?n("div",{class:e.$style.phone},[n("div",{class:e.$style.icon},[n("ClockIcon")],1),e._v(" "),n("span",[e._v(e._s(e.phone))])]):n("span",{class:e.$style.menuColumnTitle},[e._v("\n    "+e._s(e.phone)+" — круглосуточно\n  ")])]):e._e()}),[],!1,(function(e){this.$style=c.default.locals||c.default}),null,null);t.a=component.exports},"8f136d":function(e,t,n){e.exports={catalogButton:"cc241c",catalog:"_7248cc",contentWrapper:"fe61f2",topLevel:"_0b5627",blink:"_90c66c"}},"9098ba":function(e,t,n){},"91b9fc":function(e,t,n){"use strict";var r=n("143b02"),o=n.n(r);t.default=o.a},934171:function(e,t,n){e.exports={notifyContainer:"b2cfa2",close:"b27496",":hover":"_1fe628",molecula:"_29040d",blink:"d26e33"}},"9471e7":function(e,t,n){"use strict";var r,o;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e[e.BankCard=3]="BankCard",e[e.Cash=4]="Cash",e[e.MoneyTransfer=5]="MoneyTransfer",e[e.OzonAccount=8]="OzonAccount",e[e.Account=15]="Account",e[e.YandexMoney=22]="YandexMoney",e[e.QiwiWallet=56]="QiwiWallet",e[e.WebMoney=59]="WebMoney",e[e.SberbankOnline=74]="SberbankOnline",e[e.Spasibo=77]="Spasibo",e[e.PayPal=655]="PayPal",e[e.CashOrBankCard=908]="CashOrBankCard",e[e.ApplePay=1167]="ApplePay",e[e.GooglePay=1307]="GooglePay"}(r||(r={})),function(e){e.Online="Online",e.Offline="Offline"}(o||(o={}))},"953f90":function(e,t,n){"use strict";var r=n("c8f083"),o=n.n(r);t.default=o.a},957094:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("afced8");var r=Object.freeze({password:{maxLength:128,minLength:10},inn:{lengths:[10,12]},bic:{lengths:[9]},passport:{lengths:[10]},departmentCode:{lengths:[6]},string:{maxLength:255},accountNumber:{lengths:[20]}})},"95946f":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return o})),n.d(t,"mutations",(function(){return c})),n.d(t,"actions",(function(){return l}));var r=n("e61a8f"),o=function(){return{visible:r.a.HIDDEN,geolocationOnInit:!0,firstMapDestroyed:!1}},c={setVisible:function(e,t){e.visible=t},setGeolocationOnInit:function(e,t){e.geolocationOnInit=t},setFirstMapDestroyed:function(e,t){e.firstMapDestroyed=t}},l={SET_VISIBLE:function(e,t){var n=e.commit;void 0===t&&(t=r.a.HIDDEN),n("setVisible",t)},SET_GEOLOCATION_ON_INIT:function(e,t){(0,e.commit)("setGeolocationOnInit",t)},SET_FIRST_MAP_DESTROYED:function(e,t){(0,e.commit)("setFirstMapDestroyed",t)},SET_MAP_STATE:function(e,t){var n=e.commit,o=void 0===t?{}:t,c=o.showDeliveryMap,l=void 0===c?r.a.HIDDEN:c,d=o.geolocationOnInit,f=void 0===d||d,h=o.firstMapDestroyed,m=void 0!==h&&h;n("setVisible",l),n("setGeolocationOnInit",f),n("setFirstMapDestroyed",m)}}},"95ba5a":function(e,t,n){"use strict";var r=n("f6471d"),o=n.n(r);t.default=o.a},"9629d6":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return c})),n.d(t,"mutations",(function(){return l})),n.d(t,"actions",(function(){return d}));n("c08bb9"),n("340dbd"),n("f8695b"),n("41d819"),n("aae158");var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},o=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},c=function(){return{categories:[],marketing:[],horizontal:[]}},l={updateMenuSections:function(e,t){void 0===t&&(t=[]),e.categories=t.categories,e.marketing=t.marketing},updateHorizontalMenu:function(e,t){void 0===t&&(t=[]),e.horizontal=t.items}},d={GET_ROOT_CATEGORY_MENU:function(e){var t=e.commit;return r(this,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.$api.menu.category.get({onlyRoot:!0})];case 1:return e=r.sent(),t("updateMenuSections",e),[3,3];case 2:return n=r.sent(),this.$logger.error({exception:n}),[3,3];case 3:return[2]}}))}))},GET_CATEGORY_MENU:function(e){var t=e.commit;return r(this,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.$api.menu.category.get({onlyRoot:!1})];case 1:return e=r.sent(),t("updateMenuSections",e),[3,3];case 2:return n=r.sent(),this.$logger.error({exception:n}),[3,3];case 3:return[2]}}))}))},GET_HORIZONTAL_MENU:function(e){var t=e.commit;return r(this,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.$api.menu.horizontal.get()];case 1:return e=r.sent(),t("updateHorizontalMenu",e),[3,3];case 2:return n=r.sent(),this.$logger.error({exception:n}),[3,3];case 3:return[2]}}))}))},GET_SECTIONS:function(e){var t=e.dispatch;return r(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Promise.all([t("GET_HORIZONTAL_MENU"),t("GET_CATEGORY_MENU")])];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),this.$logger.error({exception:e}),[3,3];case 3:return[2]}}))}))}}},"964a9f":function(e,t,n){e.exports={field:"cfb9e2",blink:"_2d51db"}},"992d97":function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return l})),n.d(t,"mutations",(function(){return d})),n.d(t,"actions",(function(){return f}));n("f8695b"),n("41d819"),n("aae158");var r=n("bbfe95"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},c=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},l=function(){return{}},d={setNewPopularDestinations:function(e,t){var n=t.stateId,r=t.widgetState;Object.assign(e[n],r)}},f={GET_NEW_STATE:function(e,t){var n=e.commit,l=t.stateId,d=t.iata;return o(this,void 0,void 0,(function(){var e,t;return c(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.$api.travel.travel_popular_destinations.get(d)];case 1:return e=o.sent(),n("setNewPopularDestinations",{widgetState:e,stateId:l}),[3,3];case 2:return t=o.sent(),this.$logger.error({exception:t,message:r.z.ERROR_FETCHING_POPULAR_DESTINATIONS}),[3,3];case 3:return[2]}}))}))}}},"9a8f26":function(e,t,n){},"9c8db7":function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106");var r=n("5eabea"),o=n("6876d5"),c=n("1e8b3a"),l=n("79f57f"),d=n.n(l),f=n("bbfe95");function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var m={name:"CmsFavorites",components:{HeaderIcon:c.a,FavoritesIcon:d.a},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(o.e)({favoritesCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.favorites;return t&&t.count}}),{favoritesUrl:function(){return f.F.FAVORITES}})},v=n("b12e21"),y=n("b429cb");var component=Object(y.a)(m,(function(){var e=this.$createElement,t=this._self._c||e;return t("HeaderIcon",{directives:[{name:"qa",rawName:"v-qa:id",value:"header-favorites",expression:"'header-favorites'",arg:"id"}],attrs:{link:this.favoritesUrl,counter:this.favoritesCount,title:"Избранное"}},[t("FavoritesIcon",{class:this.$style.pic})],1)}),[],!1,(function(e){this.$style=v.default.locals||v.default}),null,null);t.a=component.exports},"9cbb60":function(e,t,n){"use strict";var r=n("f3ef7b"),o=n.n(r);t.default=o.a},"9d1af9":function(e,t,n){},"9d61e8":function(e,t,n){"use strict";n("c08bb9"),n("aae158"),n("12a106"),n("41d819");var r=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},o={content:{},params:{}};(["banner","cart","chat","checkcart","checkout","cms","communication","composer","csma","favorites","marketing","orderDone","payments","pdp","referral","reviews","rms","rtb","search","shared","shelf","subscriptions","travel","wallet"]||!1).forEach((function(e){var t=n("28e62f")("./"+e+"/composer-components").default;Object.keys(t).forEach((function(e){var n=t[e],content=n.content,c=r(n,["content"]);o.content[e]=content,o.params[e]=c}))})),t.a=o},"9d82c9":function(e,t,n){"use strict";var r=n("de06ce");n.n(r).a},"9d8862":function(e,t,n){"use strict";var r=n("dc67af"),o={name:"SubmitButton",components:{OzButton:n.n(r).a},props:{text:{type:String,required:!0},disabled:{type:Boolean,default:function(){return!1}},loading:{type:Boolean,default:function(){return!1}},testId:{type:String,default:function(){return""}}}},c=(n("8c2bd8"),n("fbdac7")),l=n("b429cb");var component=Object(l.a)(o,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("OzButton",{directives:[{name:"qa",rawName:"v-qa:id",value:e.testId,expression:"testId",arg:"id"}],class:e.$style.submitButton,attrs:{type:"submit",size:"xl",fill:!0,text:e.text,loading:e.loading,disabled:e.disabled},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("submit")}}})}),[],!1,(function(e){this.$style=c.default.locals||c.default}),null,null);t.a=component.exports},"9dd930":function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106");var r=n("5eabea"),o=n("6876d5"),c=n("3fa93b"),base=n("5989b5"),l=n("b296fc"),d=n("9e4c22"),f=n("7f50c2"),h=n("c0bc28"),m=n("b902cb"),v=n("ff287e"),y=n.n(v),E=n("cb4c2a"),_=n.n(E),S={name:"SearchBar",components:{SearchInput:l.a,Suggestions:d.a,BlockVertical:f.default,TransitionFade:h.a,OzonButton:m.b},mixins:[base.a],data:function(){var e="";try{var t=this.$composerRouter.getParams().query;e=y()(this.$store.state,"shared.catalog.currentText")||t.text}catch(e){console.error(e)}return{layoutComponentName:"searchQuery",value:e,inputValue:e,settings:{aClickPrevent:!1},debouncedOnInput:_()(this.onInput,1e3),suggsPlaceholders:{default:[]},isOpen:!1,focusedItem:null}},methods:{reflectFocusedItem:function(e){this.focusedItem=e}}},O=(n("7800db"),n("b429cb")),T=Object(O.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search_bar_container",attrs:{"data-test-id":"suggestions-component"}},[n("Suggestions",{staticClass:"search_bar_input_container",attrs:{"default-value":e.value,settings:e.settings},on:{clickItem:e.onClickItem,focusedItem:e.reflectFocusedItem,search:e.onSearch,select:e.onSelect},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}},[n("template",{slot:"input"},[n("SearchInput",{on:{focus:function(t){e.isOpen=!0},input:function(t){return e.debouncedOnInput(t)},keyup:[function(t){e.isOpen=!0},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.isOpen=!1}]},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1),e._v(" "),n("div",{attrs:{slot:"suggs"},slot:"suggs"},[n("TransitionFade",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],class:["suggestions",{"m-mobile":e.isMobile}]},[n("BlockVertical",{attrs:{placeholders:e.suggsPlaceholders,root:!0,"component-name":"blockVertical",vertical:"layout"}})],1)])],1)],2),e._v(" "),n("div",{class:["search-button-wrap",{"m-mobile":e.isMobile}],on:{click:e.onClickSearchBtn}},[n("OzonButton",{staticClass:"m-search",attrs:{"data-test-id":"header-search-go",flat:""}})],1)],1)}),[],!1,null,"fa175080",null).exports,I=n("824cb6"),w=n("c95bce"),C=n("862ce4"),k=n("bbfe95"),P=n("1e8b3a"),R=n("f74262"),x=n.n(R),A=function(){return(A=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},L={name:"CmsOrders",components:{HeaderIcon:P.a,BoxIcon:x.a},computed:A({},Object(o.c)({activeOrderCount:"userInfo/activeOrderCount"}),{ordersUrl:function(){return k.F.ORDERLIST}})},D=n("24f0cf");var $=Object(O.a)(L,(function(){var e=this.$createElement,t=this._self._c||e;return t("HeaderIcon",{directives:[{name:"qa",rawName:"v-qa:id",value:"header-orders",expression:"'header-orders'",arg:"id"}],attrs:{link:this.ordersUrl,counter:this.activeOrderCount,title:"Заказы"}},[t("BoxIcon",{class:this.$style.pic})],1)}),[],!1,(function(e){this.$style=D.default.locals||D.default}),null,null).exports,M=n("9c8db7"),N=n("b56451");function j(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var F={name:"OzonHeader",components:{HeaderLogo:c.a,SearchBar:T,Catalog:I.a,HorizontalMenu:w.a,Profile:C.a,Orders:$,Favorites:M.a,Cart:N.a},props:{link:{type:String,default:"/"},image:{type:String,default:""}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):j(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(o.e)({user:function(e){var t=e.userInfo;return t&&t.user||{}},isComposer:function(e){return void 0!==e.layout}}),{},Object(o.e)("menu",{categories:function(e){return e.categories||[]},marketing:function(e){return e.marketing||[]},horizontal:function(e){return e.horizontal||[]}}),{isLoggedIn:function(){return this.user.isLoggedIn},showHorizontalMenu:function(){return!this.isComposer&&this.horizontal&&this.horizontal.length}})},B=n("7be7e5");var U=Object(O.a)(F,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{class:e.$style.header,attrs:{itemscope:"itemscope",itemtype:"http://schema.org/WPHeader"}},[n("div",{class:[e.$style["header-top"],"index"]},[e.image?n("HeaderLogo",{attrs:{image:e.image,link:e.link}}):e._e(),e._v(" "),e.isComposer?e._t("headerTop"):n("div",{class:e.$style.composerless},[n("div",{class:e.$style["catalog-menu"]},[n("Catalog",{attrs:{categories:e.categories,marketing:e.marketing}})],1),e._v(" "),n("div",{class:e.$style["search-bar"]},[n("SearchBar")],1),e._v(" "),n("div",{class:e.$style["user-menu"]},[n("Profile",{class:e.$style["user-menu-item"]}),e._v(" "),n("Orders",{class:e.$style["user-menu-item"]}),e._v(" "),n("Favorites",{class:e.$style["user-menu-item"]}),e._v(" "),n("Cart",{class:e.$style["user-menu-item"]})],1)])],2),e._v(" "),e.showHorizontalMenu?n("div",{class:e.$style["header-bottom"]},[n("HorizontalMenu",{attrs:{items:e.horizontal}})],1):e._t("horizontalMenu")],2)}),[],!1,(function(e){this.$style=B.default.locals||B.default}),null,null);t.a=U.exports},"9e0ba8":function(e,t){},"9e4c22":function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106"),n("3fc8b4"),n("cb1771"),n("340dbd"),n("0a5193");var r=n("5eabea"),o=n("1c8607");function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d={name:"Autocomplete",props:{defaultValue:{type:String,default:""},settings:{type:Object,default:function(){return{aClickPrevent:!1}}},isFullScreen:{type:Boolean,default:!1}},data:function(){return{inputFocused:!1,searchVal:this.defaultValue||"",focusedIndex:null,focusedItem:null,focused:!1}},provide:function(){return{settings:l({},this.settings),emitItemClick:this.emitItemClick,emitItemView:this.emitItemView}},computed:{showCustomDisplay:function(){return this.$slots.customDisplay&&!this.isFullScreen}},watch:{focusedIndex:function(e){var t=this.$refs.suggestions.querySelectorAll(".suggestion-item");if(t&&t.length){var n;if(Array.from(t).forEach((function(e){e.className=e.className.replace(" m-focused","")})),null===e)return this.$emit("focusedItem",null),void(this.focusedItem=null);t[n=e>-t.length&&e<0?t.length+e%t.length:e<0?t.length-1+e%t.length:e%t.length].className+=" m-focused",this.focusedItem={title:t[n].getAttribute("data-suggestion-title"),link:t[n].getAttribute("data-suggestion-link"),type:t[n].getAttribute("data-suggestion-type"),linkEl:t[n].querySelector(".suggestion-link"),index:n},this.$emit("focusedItem",this.focusedItem),this.$emit("input",this.focusedItem.title)}},focusedItem:function(e){e&&(this.searchVal=e.title)}},methods:{emitItemClick:function(e,t){t.text&&(this.searchVal=t.text),this.$analytics.suggestionTextDatalayer=t.title,this.$store.commit("deepSet",{path:"shared.catalog.suggestSelected",value:!0}),this.$analytics.searchData={group:t.type,text:t.title},this.sendAnalyticsSuggestClick(e,t),this.$emit("clickItem",t)},emitItemView:function(e,t){this.sendAnalyticsSuggestView(e,t)},getInputValueFromDom:function(){if(this.$refs.input.querySelector("input"))return this.$refs.input.querySelector("input").value;console.warn("input slot should contain input element")},resetFocusedItem:function(e){var t=e.keyCode;-1===[40,38,13].indexOf(t)&&(this.focusedIndex=null,this.focusedItem=null)},onEnter:function(){if(this.focusedItem&&this.focusedItem.linkEl)this.focusedItem.linkEl.click();else{var e=this.getInputValueFromDom();this.$analytics.searchData={text:e},this.$emit("search",{title:e})}},arrowDown:function(){null===this.focusedIndex?this.focusedIndex=0:this.focusedIndex+=1},arrowUp:function(){null===this.focusedIndex?this.focusedIndex=-1:this.focusedIndex-=1},sendAnalyticsSuggestView:function(e,t,n){var r=this.$el.querySelectorAll('[data-test-id="suggestions-item"]'),c=Array.from(r).findIndex((function(link){return link===t}));o.a.send(o.b.VIEW_ACTION,{widget:n,cell:{type:"suggest",index:c+1,suggestType:e.type,suggestValue:e.title,searchString:this.getInputValueFromDom()}})},sendAnalyticsSuggestClick:function(e,t,n){var r=this.$el.querySelectorAll('[data-test-id="suggestions-item"]'),c=Array.from(r).findIndex((function(link){return link===e}));o.a.send(o.b.CLICK_ACTION,{widget:n,cell:{type:"suggest",index:c+1,suggestType:t.type,suggestValue:t.title,searchString:this.getInputValueFromDom()}})}}},f=(n("1f88f0"),n("b429cb")),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"autocomlete-container"},[n("div",{ref:"input",staticClass:"autocomplete-input hide-focus",attrs:{tabindex:"-1"},on:{keyup:[e.resetFocusedItem,function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.arrowDown(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.arrowUp(t)}]}},[e.showCustomDisplay?e._t("customDisplay"):e._t("input")],2),e._v(" "),n("div",{ref:"suggestions",class:["search-autocomplete",{"m-mobile":e.isMobile}]},[e._t("suggs")],2)])}),[],!1,null,"d694c0e2",null);t.a=component.exports},"9e67e4":function(e,t,n){e.exports={infoBlockText:"e27bad",mClickable:"c91b35",modAddressBook:"_7dfe62",imageWrapper:"_98bd90",image:"_702bad",description:"_9f082f",blink:"b37c27"}},"9f3bff":function(e,t,n){"use strict";var r={name:"Error",props:{title:{type:String,default:""},subTitle:{type:String,default:""},showSections:{type:Boolean,default:!0}}},o=(n("20ec74"),n("b429cb")),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error-main"},[n("h2",{staticClass:"main-header"},[e._t("title",[e._v("\n      "+e._s(e.title)+"\n    ")])],2),e._v(" "),n("div",{staticClass:"main-header-subtitle"},[e._t("subtitle",[e._v("\n      "+e._s(e.subTitle)+"\n    ")])],2)])}),[],!1,null,"1864893c",null);t.a=component.exports},"9f4977":function(e,t,n){"use strict";n.r(t);var r={ShelfInfiniteScroll:{content:function(){return Promise.all([n.e(1),n.e(289)]).then(n.bind(null,"9ad6cf"))},extendPlaces:!0,places:["pdp.shelfs"]},ShelfMobileAdvertisingShelf:{content:function(){return Promise.all([n.e(1),n.e(289)]).then(n.bind(null,"9ad6cf"))}},ShelfRecomsForYou:{content:function(){return Promise.all([n.e(1),n.e(5)]).then(n.bind(null,"4ba6b0"))}},ShelfBestOfFavorites:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))}},ShelfBestsellers:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))}},ShelfStaticShelf:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))}},ShelfViewedBought:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))}},ShelfAdvertisingShelf:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))}},ShelfAdvertisingCPMSearchShelf:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"b8c7c3"))}},ShelfAdvertisingCPMCategoryShelf:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))}},ShelfAdvertisingCPMPDPShelf:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))},extendPlaces:!0,places:["pdp.shelfs"]},ShelfAdvertisingSearchShelf:{content:function(){return Promise.all([n.e(1),n.e(288)]).then(n.bind(null,"b8c7c3"))}},ShelfAdvertisingCombinedCPMShelf:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"b8c7c3"))}},ShelfHighlightTriple:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))}},ShelfNotFound:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))}},ShelfCategoryRecoms:{content:function(){return Promise.all([n.e(1),n.e(5)]).then(n.bind(null,"4ba6b0"))}},ShelfBestsellersForCategory:{content:function(){return Promise.all([n.e(1),n.e(5)]).then(n.bind(null,"4ba6b0"))}},ShelfLastSearch:{content:function(){return Promise.all([n.e(1),n.e(5)]).then(n.bind(null,"4ba6b0"))}},ShelfPersonalCart:{content:function(){return Promise.all([n.e(1),n.e(5)]).then(n.bind(null,"4ba6b0"))}},ShelfNotSeen:{content:function(){return Promise.all([n.e(1),n.e(5)]).then(n.bind(null,"4ba6b0"))},extendPlaces:!0,places:["block-vertical.default","container.default","grid-column.default","paginator.default"]},ShelfUserHistory:{content:function(){return Promise.all([n.e(1),n.e(5)]).then(n.bind(null,"4ba6b0"))},places:["block-vertical.default","container.default","grid-column.default","pdp.shelfs","myPremium.shelf","paginator.default"]},ShelfBundleShelf:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ec2da"))},places:["block-vertical.default","container.default","grid-column.default","pdp.shelfs","myPremium.shelf"]},ShelfAnalogShelf:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))},places:["block-vertical.default","container.default","grid-column.default","pdp.shelfs","myPremium.shelf","shop-in-shop-container.default"]},ShelfAccessoriesShelf:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))},places:["block-vertical.default","container.default","grid-column.default","pdp.shelfs","myPremium.shelf"]},ShelfAdvertisingPDPShelf:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))},places:["block-vertical.default","container.default","grid-column.default","pdp.shelfs","myPremium.shelf"]},ShelfAdvertisingCPMShelf:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))}},ShelfAdvertisingCPMShelf_0:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))}},ShelfAdvertisingCPMShelf_1:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))}},ShelfAdvertisingCPMShelf_2:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))}},ShelfAdvertisingCPMShelf_3:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))}},ShelfAdvertisingCPMShelf_4:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))}},ShelfAdvertisingCPMShelf_5:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))}},ShelfPeplRecoms:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(290)]).then(n.bind(null,"4ba6b0"))}}};t.default=r},"9fb30e":function(e,t,n){"use strict";n.d(t,"f",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return y})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return _}));var r=n("bbfe95"),o=n("0c80ec"),c=n("c7aace"),l=n("ff287e"),d=n.n(l),f=r.g.DELIVERY_METHOD_TYPES,h=function(e){return e&&e.deliverySchema===r.m.SERVICE},m=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new Date(Object(o.i)(e)),r=new Date,c=Object(o.h)(r),l=n.getDate()-r.getDate();return 0===l&&0===c?o.d.TODAY:1===l&&c<=1?o.d.TOMORROW:Object(o.e)(n,!0,o.b.GENITIVE,t)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dateFrom,n=e.dateTo,r=e.type;return t&&n?r===f.NOT_EXACT?"до ".concat(m(n).toLowerCase()," "):"".concat(m(n).toLowerCase()," "):""},y=function(e){var t=Object(o.h)(new Date(Object(o.i)(e)));t=t<2?2:t;var n=Object(c.m)(t,["день","дня","дней"]);return"через ".concat(n," после поступления оплаты на счёт Ozon.ru")},E=function(e){if(e){var t=d()(e,"value"),text=d()(e,"valueText");return"".concat(t,"|").concat(text)}},_=function(e){if(e){var t=d()(e,"value"),text=d()(e,"valueText");return"".concat(t,"|").concat(text)}}},a066b3:function(e,t,n){"use strict";var r=n("e4a955"),o=n.n(r);t.default=o.a},a0d0bf:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=7},a122d7:function(e,t,n){"use strict";var r={name:"Checkbox",props:{id:{type:String,default:""},value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1}}},o=(n("7378ea"),n("b429cb")),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"checkbox-label",class:{disabled:e.disabled}},[n("input",{ref:"checkbox",staticClass:"checkbox",attrs:{id:e.id,disabled:e.disabled,type:"checkbox"},domProps:{checked:e.value},on:{change:function(t){return e.$emit("input",e.$refs.checkbox.checked,t)},click:function(t){return e.$emit("click",t)}}}),e._v(" "),n("span",{class:["checkmark",{error:e.hasError}]}),e._v(" "),e._t("default")],2)}),[],!1,null,"0b8bc5d4",null);t.a=component.exports},a2916e:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return y})),n.d(t,"mutations",(function(){return E})),n.d(t,"getters",(function(){return _})),n.d(t,"actions",(function(){return S}));n("497371"),n("cb1771"),n("393231");var r=n("8fd32c"),o=(n("3fc8b4"),n("afced8"),n("f8695b"),n("41d819"),n("aae158"),n("bbfe95")),c=n("8848ed"),l=n("ff287e"),d=n.n(l),f=n("362c4b"),h=n("9fb30e"),m=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},v=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},y=function(){return{deliveryTypes:null,restrictions:null,nextDeliveryType:null,activeDeliveryType:null,deliveryInfo:null,nextDeliveryMethods:[],deliveryMethods:null,addressInfo:null,addressText:"",previousAddresses:[],previousPickupAddresses:[],hasPremium:!1,errors:[],pointInfo:null,deliveryTypeUnavailableText:""}},E={setDeliveryTypes:function(e,t){e.deliveryTypes=t},setDeliveryRestrictions:function(e,t){e.restrictions=t},setNextDeliveryType:function(e,t){e.nextDeliveryType=t},setActiveDeliveryType:function(e,t){e.activeDeliveryType=t},setNextDeliveryMethods:function(e,t){e.nextDeliveryMethods=Object.freeze(t)},setDeliveryMethods:function(e,t){e.deliveryMethods=t},setAddressInfo:function(e,t){e.addressInfo=t},setAddressText:function(e,t){e.addressText=t},setPreviousAddresses:function(e,t){e.previousAddresses=t},setPreviousPickupAddresses:function(e,t){e.previousPickupAddresses=t},setPremiumStatus:function(e,t){e.hasPremium=t},setErrors:function(e,t){e.errors=t},setPointInfo:function(e,t){e.pointInfo=t},updateOneNextDeliveryMethod:function(e,t){var n=t.deliveryMethodId,data=t.data;if(e.nextDeliveryMethods){var r=e.nextDeliveryMethods.findIndex((function(e){return e.id===n})),o=e.nextDeliveryMethods[r];if(o&&data){var c=e.nextDeliveryMethods.slice();c.splice(r,1,Object.assign({},o,data)),e.nextDeliveryMethods=Object.freeze(c)}}},setDeliveryTypeUnavailableText:function(e,t){e.deliveryTypeUnavailableText=t}},_={isPickupNextDeliveryType:function(e){return e.nextDeliveryType&&e.nextDeliveryType.deliverySchema===o.m.PICKUP},isServiceActiveDeliveryType:function(e){return e.activeDeliveryType&&e.activeDeliveryType.deliverySchema===o.m.SERVICE},addressMappings:function(e){var t=Boolean(d()(e,"addressInfo.russianAddress.data"))?d()(e,"addressInfo.russianAddress.data",{}):d()(e,"addressInfo",{})||{},n=t.street,o=t.house,l=t.fiasId,f=Object(h.b)(d()(e.addressInfo,"countrySelector")),m=Object(h.a)(d()(e.addressInfo,"citySelector")),v=d()(e.addressInfo,"state");return v&&"object"===Object(r.a)(v)&&(v=d()(v,"id")),Object(c.mergeStateWithMappings)(e.addressInfo,{street:n,house:o,state:v,fiasId:l,latitude:d()(e.addressInfo,"coordinates.latitude"),longitude:d()(e.addressInfo,"coordinates.longitude"),precisionGeoCoordinate:d()(e.addressInfo,"coordinates.precisionGeoCoordinate"),countrySelector:f,citySelector:m})},selectDeliveryLinkText:function(e){if(e.deliveryTypes){if(1===e.deliveryTypes.length&&e.deliveryTypes[0].deliverySchema===o.m.SERVICE)return"Выберите адрес доставки";if(e.deliveryTypes.length)return"Выберите способ доставки"}},getNextDeliveryMethodById:function(e){return function(t){return e.nextDeliveryMethods&&e.nextDeliveryMethods.find((function(e){return e.id===t}))||null}},isPickup:function(e){return d()(e.activeDeliveryType,"deliverySchema")===o.m.PICKUP}},S={RESET_DELIVERY:function(e){var t=e.commit;t("setDeliveryRestrictions",null),t("setActiveDeliveryType",null),t("setDeliveryMethods",null),t("setAddressInfo",null),t("setPreviousPickupAddresses",[])},RESET_NEXT_DELIVERY:function(e){var t=e.commit,n=e.dispatch;t("setNextDeliveryType",null),t("setNextDeliveryMethods",[]),n("checkout/delivery_map/SET_MAP_STATE",void 0,{root:!0})},SET_DELIVERY_TYPES:function(e,t){var n=e.commit,r=void 0===t?{}:t,o=r.deliveryTypes,c=r.restrictions,l=void 0===c?null:c;n("setDeliveryTypes",o),n("setDeliveryRestrictions",l)},SET_NEXT_DELIVERY_TYPE:function(e,t){(0,e.commit)("setNextDeliveryType",t)},SET_ACTIVE_DELIVERY_TYPE:function(e,t){var n=e.state,r=e.commit;if(t&&n.deliveryTypes&&n.deliveryTypes.length){var o=n.deliveryTypes.find((function(e){return e.id===t}));if(!o)return void r("setActiveDeliveryType",null);r("setActiveDeliveryType",o)}else r("setActiveDeliveryType",null)},GET_DELIVERY_INFO:function(e,t){return m(this,void 0,void 0,(function(){var e;return v(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.$api.checkout.deliveryinfo.post({ids:[t]})];case 1:return[2,n.sent()];case 2:return e=n.sent(),Object(f.a)(this.$logger,e,o.h.ERROR_FETCH_DELIVERY_INFO),[2,null];case 3:return[2]}}))}))},SET_NEXT_DELIVERY_METHODS:function(e,t){(0,e.commit)("setNextDeliveryMethods",t)},UPDATE_NEXT_DELIVERY_METHODS:function(e,t){var n=e.commit,r=e.state,o=t.deliveryInfo.reduce((function(e,t){return e[t.id]=t,e}),{});r.nextDeliveryMethods&&n("setNextDeliveryMethods",r.nextDeliveryMethods.map((function(e){return Object.assign({},e,o[e.id])})))},SET_DELIVERY_METHODS:function(e,t){(0,e.commit)("setDeliveryMethods",t)},SET_ADDRESS_INFO:function(e,t){(0,e.commit)("setAddressInfo",t)},SET_ADDRESS_TEXT:function(e,t){(0,e.commit)("setAddressText",t)},SET_POINT_INFO:function(e,t){(0,e.commit)("setPointInfo",t)},REFRESH_PREVIOUS_ADDRESSES:function(e){var t=e.commit,n=e.rootState;return m(this,void 0,void 0,(function(){var e,r,c,l;return v(this,(function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),e=n.location.current.areaId,r=o.g.PREVIOUS_SERVICE_ADDRESS_LIMIT,[4,this.$api.user.addresses.get(e)];case 1:return(c=f.sent()).forEach((function(address){var e=d()(address,"fields.house");e&&(address.fields.house=e.replace(/^[\s,.]*/,""))})),(c=c.filter((function(e,t,n){var r=e.fields.addressTail;return n.findIndex((function(e){return e.fields.addressTail===r}))===t})).slice(0,r)).forEach((function(address){address.fields&&address.fields.isCarpassRequired&&(address.fields.isCarpassRequired=String(Number(address.fields.isCarpassRequired)))})),t("setPreviousAddresses",c),[3,3];case 2:return l=f.sent(),this.$logger.error({exception:l}),[2,[]];case 3:return[2]}}))}))},SET_PREVIOUS_PICKUP_ADDRESSES:function(e,t){var n=e.commit,r=t.deliveryMethods,c=o.g.PREVIOUS_SERVICE_ADDRESS_LIMIT;n("setPreviousPickupAddresses",r&&r.filter((function(e){var t=e.useInLastOrders;return Boolean(t)})).slice(0,c)||[])},SET_OZON_PREMIUM:function(e,t){void 0===t&&(t=!1),(0,e.commit)("setPremiumStatus",t)},SET_ERRORS:function(e,t){var n=e.commit;t&&t.length?n("setErrors",t):n("setErrors",[])},UPDATE_ONE_NEXT_DELIVERY_METHOD:function(e,t){(0,e.commit)("updateOneNextDeliveryMethod",{deliveryMethodId:t.deliveryMethodId,data:t.data})},SET_DELIVERY_TYPE_UNAVAILABLE_TEXT:function(e,t){void 0===t&&(t=""),(0,e.commit)("setDeliveryTypeUnavailableText",t)}}},a2bf97:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o})),n.d(t,"getters",(function(){return c})),n.d(t,"actions",(function(){return l}));var r=function(){return{default:{title:"",items:[]}}},o={},c={},l={}},a2d7c8:function(e,t,n){"use strict";var r=n("21919a"),o=n("17e9e6"),c=n("574757"),l=n("14cf42"),d=n("ff287e"),f=n.n(d),h={name:"ServiceLinks",components:{CDNImageRetinaWrapper:r.a,LinksStub:o.a,DropdownTooltip:c.a,DropdownItem:l.a},props:{items:{type:Array,default:function(){return[]}}},data:function(){return{activeIndex:null,viewDropdown:!1,viewDropdownMap:{}}},created:function(){this.createViewDropdownMap()},methods:{changeActive:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.activeIndex=e},showDropdown:function(e){return f()(this.items[e],"links",[]).length&&this.activeIndex===e},sendViewDropdownEvent:function(e,t){this.viewDropdownMap[t]&&(this.sendViewEvent(e,this.items[t]),this.viewDropdownMap[t]-=1)},sendViewEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$emit("viewItem",{cell:e.cellTrackingInfo,slice:t.sliceTrackingInfo?t.sliceTrackingInfo:t})},sendClickEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$emit("clickOnItem",{cell:e.cellTrackingInfo,slice:t.sliceTrackingInfo?t.sliceTrackingInfo:t})},createViewDropdownMap:function(){var e=this;this.items.forEach((function(t,n){return t.links&&(e.viewDropdownMap[n]=t.links.length)}))}}},m=n("46092a"),v=n("b429cb");var component=Object(v.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.items.length?n("ul",{directives:[{name:"qa",rawName:"v-qa:id",value:"topBar-links",expression:"'topBar-links'",arg:"id"}],class:e.$style.serviceLinksList,attrs:{"aria-label":"services links"}},e._l(e.items,(function(link,t){var r;return n("li",{directives:[{name:"qa",rawName:"v-qa:id",value:"topBar-link",expression:"'topBar-link'",arg:"id"}],key:t,class:e.$style.serviceLinksItem,on:{mouseleave:e.changeActive,mouseover:function(n){return e.changeActive(t)}}},[n("LinksStub",{class:[e.$style.serviceLinksLink,(r={},r[e.$style.highlight]=link.isSpecial,r)],attrs:{href:link.link,rel:"nofollow"},on:{click:function(t){return e.sendClickEvent(link)}}},[link.icon?n("CDNImageRetinaWrapper",{attrs:{size:25,src:link.icon}}):e._e(),e._v(" "),n("span",[e._v(e._s(link.title))])],1),e._v(" "),e.showDropdown(t)?n("DropdownTooltip",e._l(link.links,(function(t,i){return n("DropdownItem",{directives:[{name:"qa",rawName:"v-qa:id",value:"topBar-dropdown-link",expression:"'topBar-dropdown-link'",arg:"id"}],key:"dropdown-"+i,attrs:{link:t.link,title:t.title},on:{click:function(n){return e.sendClickEvent(t,link)}}})})),1):e._e()],1)})),0):e._e()}),[],!1,(function(e){this.$style=m.default.locals||m.default}),null,null);t.a=component.exports},a2e87c:function(e,t,n){},a30105:function(e,t,n){"use strict";var r={name:"EnterOtp",components:{CodeInputs:n("a86883").a},props:{messageSendOn:{type:String,default:""},otpStatus:{type:Object,required:!0},renderTime:{type:String,required:!0},requestInProgress:{type:Boolean,default:!1},isGetCodeHidden:{type:Boolean,default:!1},errorMessage:{type:String,default:""},isEditAllowed:{type:Boolean,default:!0}},data:function(){return{code:""}},computed:{timeLeft:function(){return this.otpStatus.resendAfter},volumeLimitExceeded:function(){return this.otpStatus.volumeLimitExceeded&&!this.otpStatus.active},isOptExpired:function(){return Boolean(this.otpStatus)&&!this.otpStatus.active}},methods:{onGetNewCode:function(){this.$emit("getNewCode"),this.$emit("clearError")},onFocus:function(){this.$emit("clearError")},onCheckCode:function(){4===this.code.length&&this.$emit("checkCode",{otp:this.code})},onSetCode:function(code){this.code=code,this.$emit("setCode",code)}}},o=n("372617"),c=n("b429cb");var component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.volumeLimitExceeded?n("div",[n("div",{class:e.$style.title},[e._v("\n      Упс! Превышено количество попыток.\n    ")]),e._v(" "),n("div",{class:e.$style.note},[e._v("\n      Получить новый код можно через "+e._s(e.renderTime)+"\n    ")])]):n("div",[n("div",{class:e.$style.title},[e._v("\n      Введите код\n    ")]),e._v(" "),n("div",{class:e.$style.note},[e._v("\n      Мы отправили код на "+e._s(e.messageSendOn)+"\n      "),e.isEditAllowed?n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("goTo")}}},[e._v("\n        Изменить\n      ")]):e._e()]),e._v(" "),n("CodeInputs",{attrs:{"is-disabled":e.requestInProgress||e.isOptExpired,"time-left":e.timeLeft,"render-time":e.renderTime,"error-message":e.errorMessage,"request-in-progress":e.requestInProgress,"is-get-code-hidden":e.isGetCodeHidden},on:{getNewCode:e.onGetNewCode,clearError:function(t){return e.$emit("clearError")},onFocus:e.onFocus,sendRequest:e.onCheckCode,onAutoSendRequest:e.onCheckCode,setCode:e.onSetCode}})],1)])}),[],!1,(function(e){this.$style=o.default.locals||o.default}),null,null);t.a=component.exports},a3f609:function(e,t,n){},a42aa4:function(e,t,n){"use strict";var r=n("88a262"),o=n.n(r);t.default=o.a},a459ec:function(e,t,n){},a49fce:function(e,t,n){"use strict";var r=n("4d9995");n.n(r).a},a5149e:function(e,t,n){e.exports=n.p+"img/fc9d9f3.png"},a55955:function(e,t,n){"use strict";n.r(t);var r={CartEmptyCart:{content:function(){return n.e(17).then(n.bind(null,"9b6ebd"))}},CartHeader:{content:function(){return n.e(18).then(n.bind(null,"90dfa7"))}},CartLocation:{content:function(){return n.e(20).then(n.bind(null,"607534"))}},CartControls:{content:function(){return Promise.all([n.e(3),n.e(16)]).then(n.bind(null,"0554c0"))}},CartSplit:{content:function(){return Promise.all([n.e(1),n.e(0),n.e(22)]).then(n.bind(null,"c8ca03"))}},CartUnavailableSplit:{content:function(){return Promise.all([n.e(1),n.e(3),n.e(0),n.e(25)]).then(n.bind(null,"859aeb"))}},CartError:{content:function(){return n.e(6).then(n.bind(null,"9c6bed"))}},CartTotalv2:{content:function(){return n.e(23).then(n.bind(null,"257a43"))}},CartTotalCredit:{content:function(){return n.e(24).then(n.bind(null,"4cc024"))}},CartItemDetail:{content:function(){return Promise.all([n.e(1),n.e(19)]).then(n.bind(null,"dd29f7"))}},CartReferralItems:{content:function(){return n.e(21).then(n.bind(null,"ef475d"))}}};t.default=r},a570ac:function(e,t,n){e.exports={title:"bb6fb3",note:"_3c1ae5",blink:"a9c281"}},a5c8f4:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o})),n.d(t,"getters",(function(){return c})),n.d(t,"actions",(function(){return l}));var r=function(){return{}},o={},c={},l={}},a5e442:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return d})),n.d(t,"mutations",(function(){return f})),n.d(t,"actions",(function(){return h}));n("f8695b"),n("41d819"),n("aae158");var r=n("ed745a"),o=n("bbfe95"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},l=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},d=function(){return{visibility:!1}},f={setVisibility:function(e,t){e.visibility=t},setAddress:function(e,address){r.default.set(e,"addresses",address.addresses)},setSuggestions:function(e,address){r.default.set(e,"suggestions",address.addresses)},setDeliveryDate:function(e,t){r.default.set(e,"delivery",t)},setAddToCartItems:function(e,t){r.default.set(e,"toCartItems",t)},resetState:function(e){e.addresses=[],e.suggestions=[],e.delivery={},e.toCartItems=[]}},h={GET_USER_ADDRESS:function(e){var t=e.commit;return c(this,void 0,void 0,(function(){var address,e;return l(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.$api.action.cmsGetUserAddresses.post()];case 1:return address=n.sent(),t("setAddress",address),[3,3];case 2:return e=n.sent(),this.$logger.error({exception:e,message:o.j.ERROR_GETTING_USER_ADDRESS}),[3,3];case 3:return[2]}}))}))},SET_USER_ADDRESS:function(e,t){return c(this,void 0,void 0,(function(){var e;return l(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.$api.action.cmsSetAddress.post(t)];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),this.$logger.error({exception:e,message:o.j.ERROR_SETTING_USER_ADDRESS}),[3,3];case 3:return[2]}}))}))},GET_ADDRESS_SUGGESTIONS:function(e,t){var n=e.commit;return c(this,void 0,void 0,(function(){var address,e;return l(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.$api.action.cmsGetAddressSuggestion.post(t)];case 1:return address=r.sent(),n("setSuggestions",address),[3,3];case 2:return e=r.sent(),n("setSuggestions",{}),this.$logger.error({exception:e,message:o.j.ERROR_GETTING_ADDRESS_SUGGESTIONS}),[3,3];case 3:return[2]}}))}))},GET_BEST_DELIVERY_DATE:function(e,t){var n=e.commit;return c(this,void 0,void 0,(function(){var e,r;return l(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.$api.action.cmsGetBestDeliveryDate.post(t)];case 1:return e=c.sent(),n("setDeliveryDate",e),[3,3];case 2:return r=c.sent(),this.$logger.error({exception:r,message:o.j.ERROR_GETTING_BEST_DELIVERY_DATE}),[3,3];case 3:return[2]}}))}))},SET_ADD_TO_CART_DATA:function(e,t){var n=e.commit;return c(this,void 0,void 0,(function(){return l(this,(function(e){return n("setAddToCartItems",t),[2]}))}))},TOGGLE_MODAL_SUPERMARKET:function(e,t){var n=e.commit;return c(this,void 0,void 0,(function(){return l(this,(function(e){return n("setVisibility",t),!1===t&&n("resetState"),[2]}))}))}}},a6746d:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r}));var r=function(){return{}}},a8415b:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return c})),n.d(t,"mutations",(function(){return l})),n.d(t,"actions",(function(){return d}));n("f8695b"),n("41d819"),n("aae158");var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},o=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},c=function(){return{activateCodePayload:null,activateCodeInProgress:!1}},l={setCodeActivatedPayload:function(e,t){e.activateCodePayload=t},setRequestStatus:function(e,t){e.activateCodeInProgress=t}},d={ACTIVATE_CODE_REQUEST:function(e,code){var t=e.commit;return r(this,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:t("setRequestStatus",!0),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.$api.user.activateDiscount.post({code:code})];case 2:return e=r.sent(),t("setCodeActivatedPayload",e),[3,5];case 3:throw n=r.sent(),new Error(n);case 4:return t("setRequestStatus",!1),[7];case 5:return[2]}}))}))}}},a86883:function(e,t,n){"use strict";n("12a106"),n("5dd61c"),n("66914a"),n("c08bb9"),n("aae158"),n("fcdb9f"),n("497371");var input=n("b8ef3b"),r=n.n(input),o={name:"CodeInputs",components:{Preloader:n("e4cd70").a,OzInput:r.a},props:{countInput:{type:Number,default:4},requestInProgress:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1},timeLeft:{type:Number,required:!0},renderTime:{type:String,required:!0},errorMessage:{type:String,required:!0},isGetCodeHidden:{type:Boolean,default:!1}},data:function(){return{code:{1:"",2:"",3:"",4:""},style:{width:"64px",display:"inline-block","text-align":"center"}}},computed:{codeStr:function(){return Object.values(this.code).join("")}},methods:{nextInput:function(e){(e<this.countInput&&""!==this.code[e]&&this.focusedInput(e+1),e===this.countInput&&""!==this.code[e])&&this.inputEl(e).blur();this.$emit("setCode",this.codeStr)},focusedInput:function(e){var element=this.inputEl(e);this.$emit("clearError"),element.focus()},inputEl:function(e){return this.$refs["input-"+e][0].$refs.inputEl},getNewCode:function(){var e=this.$refs["input-1"][0];e&&e.$refs.inputEl.focus();this.$emit("clearError"),this.$emit("getNewCode"),this.clearCode()},handlerButton:function(e,t){var n={REMOVE:"Backspace",RIGHT:"ArrowRight",LEFT:"ArrowLeft"},code=e.code,r=e.target.value;Object.values(n).includes(code)&&(t>1&&t<=this.countInput&&(code===n.REMOVE&&""===r&&this.focusedInput(t-1),code===n.LEFT&&this.focusedInput(t-1)),t>=1&&t<this.countInput&&code===n.RIGHT&&this.focusedInput(t+1))},onEnter:function(e){this.$emit("setCode",this.codeStr),e===this.countInput&&""!==this.code[e]&&this.$emit("onAutoSendRequest")},onFocus:function(){this.$emit("onFocus")},onBlur:function(){var e=this.codeStr.length;e<4&&0!==e?this.error=!0:4===e&&(this.$emit("setCode",this.codeStr),this.$emit("onAutoSendRequest"))},clearCode:function(){var e=this;Object.keys(this.code).forEach((function(t){e.code[t]=""}))}}},c=n("5238e6"),l=n("b429cb");var component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{class:e.$style.inputs},e._l(e.countInput,(function(t){return n("OzInput",{directives:[{name:"qa",rawName:"v-qa:id",value:"verificationCodeInput"+t,expression:"`verificationCodeInput${index}`",arg:"id"}],key:t,ref:"input-"+t,refInFor:!0,style:e.style,attrs:{mask:"#",size:"xxl",type:"number",autofocus:1===t,disabled:e.isDisabled,"has-error":Boolean(e.errorMessage)},on:{input:function(n){return e.nextInput(t)},focus:e.onFocus,blur:e.onBlur,keydown:function(n){return e.handlerButton(n,t)},keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.onEnter(t)}},model:{value:e.code[t],callback:function(n){e.$set(e.code,t,n)},expression:"code[index]"}})})),1),e._v(" "),e.errorMessage?n("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"otpErrorMessage",expression:"'otpErrorMessage'",arg:"id"}],class:e.$style.error},[e._v("\n    "+e._s(e.errorMessage)+"\n  ")]):e._e(),e._v(" "),e.requestInProgress?n("div",{class:e.$style.preloader},[n("Preloader",{attrs:{mod:"dots-blue"}})],1):e._e(),e._v(" "),e.requestInProgress||e.isGetCodeHidden?e._e():n("div",{class:e.$style.message},[e.timeLeft>0?[e._v("\n      Получить новый код можно"),n("br"),e._v("через "+e._s(e.renderTime)+"\n    ")]:n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"verificationGetNewCodeLink",expression:"'verificationGetNewCodeLink'",arg:"id"}],attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.getNewCode(t)}}},[e._v("\n      Получить новый код\n    ")])],2)])}),[],!1,(function(e){this.$style=c.default.locals||c.default}),null,null);t.a=component.exports},ac2851:function(e,t,n){"use strict";var r=n("197fce"),o=n.n(r);t.default=o.a},ace05f:function(e,t,n){"use strict";n.r(t);var r={LayoutBlockHorizontal:{content:function(){return n.e(196).then(n.bind(null,"7129d6"))},places:["block-vertical.default","container.default"]},LayoutBlockVertical:{content:function(){return Promise.resolve().then(n.bind(null,"7f50c2"))},places:["block-horizontal.default","container.default"]},LayoutContainer:{content:function(){return n.e(197).then(n.bind(null,"b95348"))},places:["block-vertical.default","sticky-container.top","sticky-container.middle","sticky-container.bottom","wallpaper.default","paginator.default","pdp.saleBlock","pdp.placeholder1","pdp.placeholder2","pdp.placeholder3","pdp.placeholder4","pdp.placeholder5","pdp.placeholder6","pdp.placeholder7","pdp.placeholder8","pdp.placeholder9","pdp.placeholder10"]},LayoutStickyContainer:{content:function(){return n.e(203).then(n.bind(null,"617ea7"))}},LayoutRow:{content:function(){return n.e(202).then(n.bind(null,"51e1ea"))},extendPlaces:!0,places:["pdp.productTrustFactors","pdp.characteristicsLong","pdp.webCurrentSeller","pdp.sellerTrustFactors","pdp.saleBlock","pdp.placeholder1","pdp.placeholder2","pdp.placeholder3","pdp.placeholder4","pdp.placeholder5","pdp.placeholder6","pdp.placeholder7","pdp.placeholder8","pdp.placeholder9","pdp.placeholder10"]},LayoutGrid:{content:function(){return n.e(200).then(n.bind(null,"82c505"))}},LayoutError:{content:function(){return n.e(198).then(n.bind(null,"97fd69"))},places:["block-vertical.default","container.default","pdp.content"]},LayoutErrorPage:{content:function(){return n.e(199).then(n.bind(null,"d6451c"))},places:["block-vertical.default"]},LayoutColumn:{content:function(){return n.e(201).then(n.bind(null,"e3147d"))},places:["grid-row.default"]}};t.default=r},ae72c9:function(e,t,n){"use strict";n.r(t),function(e){n("340dbd"),n("f8695b"),n("41d819");var t=n("8fd32c"),r=(n("2c09af"),n("88baaa"),n("dc77a5")),o=(n("5dd61c"),n("66914a"),n("c08bb9"),n("aae158"),n("12a106"),n("e28425"),n("307014"),n("89701c"),n("32c85c"),n("da8dbc"),n("ed745a")),c=n("4b818b"),l=n("3728f9"),d=n("79116e"),f=n("458910"),h=n("d74c44");o.default.component(h.a.name,h.a),o.default.component("NLink",h.a),e.fetch||(e.fetch=c.a);var m,v,y=[],E=window.__NUXT__||{};Object.assign(o.default.config,{silent:!0,performance:!1});var _=o.default.config.errorHandler||console.error;function S(e,t,n){var r=function(component){var e=function(component,e){if(!component||!component.options||!component.options[e])return{};var option=component.options[e];if("function"==typeof option){for(var t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];return option.apply(void 0,n)}return option}(component,"transition",t,n)||{};return"string"==typeof e?{name:e}:e};return e.map((function(e){var t=Object.assign({},r(e));if(n&&n.matched.length&&n.matched[0].components.default){var o=r(n.matched[0].components.default);Object.keys(o).filter((function(e){return o[e]&&e.toLowerCase().includes("leave")})).forEach((function(e){t[e]=o[e]}))}return t}))}function O(e,t,n){return T.apply(this,arguments)}function T(){return(T=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var o,c,l,f,h=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._pathChanged=!!m.nuxt.err||n.path!==t.path,this._queryChanged=JSON.stringify(t.query)!==JSON.stringify(n.query),this._diffQuery=this._queryChanged?Object(d.g)(t.query,n.query):[],this._pathChanged&&this.$loading.start&&!this.$loading.manual&&this.$loading.start(),e.prev=4,e.next=7,Object(d.n)(t);case 7:o=e.sent,!this._pathChanged&&this._queryChanged&&o.some((function(e){var t=e.options.watchQuery;return!0===t||!!Array.isArray(t)&&t.some((function(e){return h._diffQuery[e]}))}))&&this.$loading.start&&!this.$loading.manual&&this.$loading.start(),r(),e.next=23;break;case 12:if(e.prev=12,e.t0=e.catch(4),c=e.t0||{},l=c.statusCode||c.status||c.response&&c.response.status||500,f=c.message||"",!/^Loading( CSS)? chunk (\d)+ failed\./.test(f)){e.next=20;break}return window.location.reload(!0),e.abrupt("return");case 20:this.error({statusCode:l,message:f}),this.$nuxt.$emit("routeChanged",t,n,c),r();case 23:case"end":return e.stop()}}),e,this,[[4,12]])})))).apply(this,arguments)}function I(e,t){return E.serverRendered&&t&&Object(d.a)(e,t),e._Ctor=e,e}function w(e){var path=Object(d.d)(e.options.base,e.options.mode);return Object(d.c)(e.match(path),function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r,o,c){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t||t.options){e.next=4;break}return e.next=3,t();case 3:t=e.sent;case 4:return l=I(Object(d.o)(t),E.data?E.data[c]:null),r.components[o]=l,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,o,c){return e.apply(this,arguments)}}())}function C(e,t,n){var r=this,o=["parseUA"],c=!1;if(void 0!==n&&(o=[],(n=Object(d.o)(n)).options.middleware&&(o=o.concat(n.options.middleware)),e.forEach((function(e){e.options.middleware&&(o=o.concat(e.options.middleware))}))),o=o.map((function(e){return"function"==typeof e?e:("function"!=typeof l.a[e]&&(c=!0,r.error({statusCode:500,message:"Unknown middleware "+e})),l.a[e])})),!c)return Object(d.k)(o,t)}function k(e,t,n){return P.apply(this,arguments)}function P(){return(P=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var o,c,l,h,v,E,_,O,T,I,w,k,P,R,x,A,L=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this._pathChanged||!1!==this._queryChanged){e.next=2;break}return e.abrupt("return",r());case 2:return t===n?y=[]:(o=[],y=Object(d.e)(n,o).map((function(e,i){return Object(d.b)(n.matched[o[i]].path)(n.params)}))),c=!1,l=function(path){n.path===path.path&&L.$loading.finish&&L.$loading.finish(),n.path!==path.path&&L.$loading.pause&&L.$loading.pause(),c||(c=!0,r(path))},e.next=7,Object(d.p)(m,{route:t,from:n,next:l.bind(this)});case 7:if(this._dateLastError=m.nuxt.dateErr,this._hadError=!!m.nuxt.err,h=[],(v=Object(d.e)(t,h)).length){e.next=25;break}return e.next=14,C.call(this,v,m.context);case 14:if(!c){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,this.loadLayout("function"==typeof f.a.layout?f.a.layout(m.context):f.a.layout);case 18:return E=e.sent,e.next=21,C.call(this,v,m.context,E);case 21:if(!c){e.next=23;break}return e.abrupt("return");case 23:return m.context.error({statusCode:404,message:"This page could not be found"}),e.abrupt("return",r());case 25:return v.forEach((function(e){e._Ctor&&e._Ctor.options&&(e.options.asyncData=e._Ctor.options.asyncData,e.options.fetch=e._Ctor.options.fetch)})),this.setTransitions(S(v,t,n)),e.prev=27,e.next=30,C.call(this,v,m.context);case 30:if(!c){e.next=32;break}return e.abrupt("return");case 32:if(!m.context._errored){e.next=34;break}return e.abrupt("return",r());case 34:return"function"==typeof(_=v[0].options.layout)&&(_=_(m.context)),e.next=38,this.loadLayout(_);case 38:return _=e.sent,e.next=41,C.call(this,v,m.context,_);case 41:if(!c){e.next=43;break}return e.abrupt("return");case 43:if(!m.context._errored){e.next=45;break}return e.abrupt("return",r());case 45:O=!0,e.prev=46,T=!0,I=!1,w=void 0,e.prev=50,k=v[Symbol.iterator]();case 52:if(T=(P=k.next()).done){e.next=64;break}if("function"==typeof(R=P.value).options.validate){e.next=56;break}return e.abrupt("continue",61);case 56:return e.next=58,R.options.validate(m.context);case 58:if(O=e.sent){e.next=61;break}return e.abrupt("break",64);case 61:T=!0,e.next=52;break;case 64:e.next=70;break;case 66:e.prev=66,e.t0=e.catch(50),I=!0,w=e.t0;case 70:e.prev=70,e.prev=71,T||null==k.return||k.return();case 73:if(e.prev=73,!I){e.next=76;break}throw w;case 76:return e.finish(73);case 77:return e.finish(70);case 78:e.next=84;break;case 80:return e.prev=80,e.t1=e.catch(46),this.error({statusCode:e.t1.statusCode||"500",message:e.t1.message}),e.abrupt("return",r());case 84:if(O){e.next=87;break}return this.error({statusCode:404,message:"This page could not be found"}),e.abrupt("return",r());case 87:return e.next=89,Promise.all(v.map((function(e,i){if(e._path=Object(d.b)(t.matched[h[i]].path)(t.params),e._dataRefresh=!1,L._pathChanged&&L._queryChanged||e._path!==y[i])e._dataRefresh=!0;else if(!L._pathChanged&&L._queryChanged){var n=e.options.watchQuery;!0===n?e._dataRefresh=!0:Array.isArray(n)&&(e._dataRefresh=n.some((function(e){return L._diffQuery[e]})))}if(!L._hadError&&L._isMounted&&!e._dataRefresh)return Promise.resolve();var r=[],o=e.options.asyncData&&"function"==typeof e.options.asyncData,c=!!e.options.fetch,l=o&&c?30:45;if(o){var f=Object(d.m)(e.options.asyncData,m.context).then((function(t){Object(d.a)(e,t),L.$loading.increase&&L.$loading.increase(l)}));r.push(f)}if(L.$loading.manual=!1===e.options.loading,c){var p=e.options.fetch(m.context);p&&(p instanceof Promise||"function"==typeof p.then)||(p=Promise.resolve(p)),p.then((function(e){L.$loading.increase&&L.$loading.increase(l)})),r.push(p)}return Promise.all(r)})));case 89:c||(this.$loading.finish&&!this.$loading.manual&&this.$loading.finish(),r()),e.next=106;break;case 92:if(e.prev=92,e.t2=e.catch(27),"ERR_REDIRECT"!==(x=e.t2||{}).message){e.next=97;break}return e.abrupt("return",this.$nuxt.$emit("routeChanged",t,n,x));case 97:return y=[],Object(d.i)(x),"function"==typeof(A=f.a.layout)&&(A=A(m.context)),e.next=103,this.loadLayout(A);case 103:this.error(x),this.$nuxt.$emit("routeChanged",t,n,x),r();case 106:case"end":return e.stop()}}),e,this,[[27,92],[46,80],[50,66,70,78],[71,,73,77]])})))).apply(this,arguments)}function R(e,n){Object(d.c)(e,(function(e,n,r,c){return"object"!==Object(t.a)(e)||e.options||((e=o.default.extend(e))._Ctor=e,r.components[c]=e),e}))}function x(e){this._hadError&&this._dateLastError===this.$options.nuxt.dateErr&&this.error();var t=this.$options.nuxt.err?f.a.layout:e.matched[0].components.default.options.layout;"function"==typeof t&&(t=t(m.context)),this.setLayout(t)}function A(e,t){var n=this;!1===this._pathChanged&&!1===this._queryChanged||o.default.nextTick((function(){var t=[],r=Object(d.f)(e,t),c=Object(d.e)(e,t);r.forEach((function(e,i){if(e&&e.constructor._dataRefresh&&c[i]===e.constructor&&!0!==e.$vnode.data.keepAlive&&"function"==typeof e.constructor.options.data){var t=e.constructor.options.data.call(e);for(var n in t)o.default.set(e.$data,n,t[n])}})),x.call(n,e)}))}function L(e){window.onNuxtReadyCbs.forEach((function(t){"function"==typeof t&&t(e)})),"function"==typeof window._onNuxtLoaded&&window._onNuxtLoaded(e),v.afterEach((function(t,n){o.default.nextTick((function(){return e.$nuxt.$emit("routeChanged",t,n)}))}))}function D(){return(D=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=t.app,v=t.router,t.store,e.next=5,Promise.all(w(v));case 5:return n=e.sent,r=new o.default(m),c=E.layout||"default",e.next=10,r.loadLayout(c);case 10:if(r.setLayout(c),l=function(){r.$mount("#__nuxt"),v.afterEach(R),v.afterEach(A.bind(r)),o.default.nextTick((function(){L(r)}))},r.setTransitions=r.$options.nuxt.setTransitions.bind(r),n.length&&(r.setTransitions(S(n,v.currentRoute)),y=v.currentRoute.matched.map((function(e){return Object(d.b)(e.path)(v.currentRoute.params)}))),r.$loading={},E.error&&r.error(E.error),v.beforeEach(O.bind(r)),v.beforeEach(k.bind(r)),!E.serverRendered){e.next=21;break}return l(),e.abrupt("return");case 21:f=function(){R(v.currentRoute,v.currentRoute),x.call(r,v.currentRoute),l()},k.call(r,v.currentRoute,v.currentRoute,(function(path){if(path){var e=v.afterEach((function(t,n){e(),f()}));v.push(path,void 0,(function(e){e&&_(e)}))}else f()}));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(f.b)().then((function(e){return D.apply(this,arguments)})).catch((function(e){var t=new Error(e);t.message="[nuxt] Error while mounting app: "+t.message,_(t)}))}.call(this,n("709e2d"))},ae855d:function(e,t,n){"use strict";var r={name:"ErrorMessage",props:{error:{type:String,required:!0}}},o=n("d8e6d6"),c=n("b429cb");var component=Object(c.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return this.error?t("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"errorMessage",expression:"'errorMessage'",arg:"id"}],class:this.$style.errorMessage},[t("span",{domProps:{innerHTML:this._s(this.error)}})]):this._e()}),[],!1,(function(e){this.$style=o.default.locals||o.default}),null,null);t.a=component.exports},af73d5:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("afced8");var r=n("957094"),o={isEmpty:{phone:"Заполните телефон",email:"Заполните почту",fullName:"Заполните имя и фамилию",password:"Заполните пароль",newPassword:"Заполните новый пароль",oldPassword:"Заполните старый пароль",birthday:"Заполните день рождения",releaseDate:"Заполните дату выдачи",discountCode:"Укажите кодовое слово или сертификат",name:"Заполните наименование организации",inn:"Заполните ИНН",address:"Заполните юридический адрес",factAddress:"Заполните фактический адрес",accountNumber:"Заполните расчетный счет",correspNumber:"Заполните расчетный счет",bankName:"Заполните наименование банка",bic:"Заполните БИК",city:"Заполните город",okpo:"Заполните ОКПО",kpp:"Заполните КПП",passport:"Заполните паспорт",userName:"Заполните имя",lastName:"Заполните фамилию",firstName:"Заполните имя",patronymic:"Заполните отчество",departmentCode:"Заполните код подразделения",receivingAddress:"Заполните адрес получения",birthplace:"Заполните место рождения",registrationAddress:"Заполните адрес регистрации"},isInvalid:{phone:"Некорректный формат телефона",email:"Некорректный формат почты",code:"Неверный код. Попробуйте еще раз",birthday:"Некорректный формат даты",releaseDate:"Некорректный формат даты",okpo:"Некорректный формат код ОКПО"},hasSpaces:{newPassword:"Пароль не должен сожержать пробелы"},tooLong:{newPassword:"Максимальная длина пароля "+r.a.password.maxLength+" символов",address:"Максимальная длина поля адрес "+r.a.string.maxLength+" символов",factAddress:"Максимальная длина поля адрес "+r.a.string.maxLength+" символов",bankName:"Максимальная длина "+r.a.string.maxLength+" символов",city:"Максимальная длина "+r.a.string.maxLength+" символов",okved:"Максимальная длина "+r.a.string.maxLength+" символов",fax:"Максимальная длина факса "+r.a.string.maxLength+" символов",kpp:"Максимальная длина "+r.a.string.maxLength+" символов",fullName:"Максимальная длина "+r.a.string.maxLength+" символов",userName:"Максимальная длина "+r.a.string.maxLength+" символов",lastName:"Максимальная длина "+r.a.string.maxLength+" символов",firstName:"Максимальная длина "+r.a.string.maxLength+" символов",patronymic:"Максимальная длина "+r.a.string.maxLength+" символов",receivingAddress:"Максимальная длина "+r.a.string.maxLength+" символов",birthplace:"Максимальная длина "+r.a.string.maxLength+" символов",registrationAddress:"Максимальная длина "+r.a.string.maxLength+" символов"},tooShort:{newPassword:"Минимальная длина пароля "+r.a.password.minLength+" символов"},isIncorrectLength:{inn:"Некорректная длина ИНН",accountNumber:"Некорректная длина расчетного счета",correspNumber:"Некорректная длина корреспондентского счета",bic:"Некорректная длина БИК",code:"Введите 4 цифры",passport:"Введите 10 цифр",departmentCode:"Введите 6 цифр"},hasSpecialCharacters:{fullName:"Поле имя и фамилия содержит специсимволы",password:"Поле пароль содержит специсимволы",oldPassword:"Поле пароль содержит специсимволы",newPassword:"Поле новый пароль содержит специсимволы"}},c=Object.freeze(o)},b0c954:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return m})),n.d(t,"mutations",(function(){return v})),n.d(t,"getters",(function(){return y})),n.d(t,"actions",(function(){return E}));n("e28425"),n("f8695b"),n("41d819"),n("aae158");var r=n("bbfe95"),o=n("8848ed"),c=n("a17947"),l=n("4342f6"),d=function(){return(d=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},f=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},h=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},m=function(){return{data:{phone:{value:""},email:"",firstLastName:{name:"",surname:"",patronymic:"",value:"",gender:void 0}},checkingInProgress:!1,isLoginExists:null,promoSubscriptionStatus:!1,phoneVerifiedPayload:null,isPhoneVerifyErrorVisible:!1,isLoginErrorVisible:!1,firstLastNameSuggest:null,verificationModalIsVisible:!1}},v={setCheckingInProgress:function(e,t){e.checkingInProgress=t},setFirstLastName:function(e,t){e.data=d({},e.data,{firstLastName:t})},setPromoSubscriptionStatus:function(e,t){e.promoSubscriptionStatus=t},setPhoneVerifiedPayload:function(e,t){e.phoneVerifiedPayload=t},setIsPhoneVerifyErrorVisible:function(e,t){e.isPhoneVerifyErrorVisible=t},setFirstLastNameSuggest:function(e,t){e.firstLastNameSuggest=t},setVerificationModalIsVisible:function(e,t){e.verificationModalIsVisible=t},setLoginErrorVisible:function(e,t){e.isLoginErrorVisible=t}},y={isPhoneValid:function(e){return Object(c.g)(e.data.phone.value)},mappings:function(e){return Object(o.mergeStateWithMappings)(e.data,{phone:e.data.phone.value,firstName:e.data.firstLastName.name,lastName:e.data.firstLastName.surname,middleName:e.data.firstLastName.patronymic,gender:e.data.firstLastName.gender})},isPhoneVerifiedForOrder:function(e){return e.phoneVerifiedPayload&&e.phoneVerifiedPayload.verified&&e.phoneVerifiedPayload.verified.forOrder}},E={RESTORE_USER_INFO:function(e){var t=e.rootState,n=e.dispatch,o=e.rootGetters;return f(this,void 0,void 0,(function(){var e,l,d,f,m,v;return h(this,(function(h){switch(h.label){case 0:return h.trys.push([0,8,,9]),(e=t.userInfo.user.isLoggedIn)?[4,n("RESTORE_FIRST_LAST_NAME")]:[2,!1];case 1:return l=h.sent(),[4,n("RESTORE_PHONE")];case 2:return d=h.sent(),[4,n("RESTORE_EMAIL")];case 3:return f=h.sent(),n("RESTORE_USER_FIELDS",{phone:d,firstLastName:l,email:f}),o["checkout/summary"].legalUser?[4,n("RESTORE_PAYPROPS")]:[3,5];case 4:h.sent(),h.label=5;case 5:return m=Object(c.e)(d.value),Object(c.g)(m)&&e?[4,n("CHECKING_PHONE",m)]:[3,7];case 6:h.sent(),h.label=7;case 7:return[3,9];case 8:return v=h.sent(),this.$logger.error({exception:v,message:r.B.ERROR_FETCH_PHONES}),[3,9];case 9:return[2]}}))}))},RESTORE_FIRST_LAST_NAME:function(e){var t=e.rootState.userInfo.user,n=t.firstName,r=void 0===n?"":n,o=t.lastName,c=void 0===o?"":o,l=t.middleName,d=void 0===l?"":l;return{name:r,surname:c,patronymic:d,gender:void 0,value:d?(c+" "+r+" "+d).trim():(r+" "+c).trim()}},RESTORE_EMAIL:function(e){return e.rootState.userInfo.user.email},RESTORE_PHONE:function(){return f(this,void 0,void 0,(function(){var e;return h(this,(function(t){switch(t.label){case 0:return[4,this.$api.user.phones.get()];case 1:return(e=t.sent())&&e.length?[2,{value:e&&e.length?e[0].number:null}]:[2,{value:""}]}}))}))},RESTORE_USER_FIELDS:function(e,t){var n=e.dispatch;for(var r in t)n("checkout/form/SET_FIELD_VALUE",{name:r,formType:"user",value:t[r]},{root:!0})},RESTORE_PAYPROPS:function(e){var t=e.dispatch;return f(this,void 0,void 0,(function(){var e,n,o,c;return h(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,this.$api.user.requisites.get()];case 1:for(o in e=d.sent(),n=Object(l.a)(e))t("checkout/form/SET_FIELD_VALUE",{name:o,formType:"legal",value:n[o]},{root:!0});return t("checkout/form/SET_FIELD_VALUE",{name:"_inn",formType:"legal",value:n.inn},{root:!0}),[3,3];case 2:return c=d.sent(),this.$logger.error({exception:c,payload:{statusCode:r.h.ERROR_PAYPROPS_GET}}),[3,3];case 3:return[2]}}))}))},SET_FULLNAME:function(e,t){var n=e.commit,c=e.dispatch,l=e.rootState;return f(this,void 0,void 0,(function(){var e;return h(this,(function(d){switch(d.label){case 0:if(t.isDadata)return delete t.isDadata,n("setFirstLastName",t),[2];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,o.updateFullName.call(this,{dispatch:c,rootState:l,fullName:t.value,fieldName:"firstLastName",formType:"user"})];case 2:return d.sent(),[3,4];case 3:return e=d.sent(),this.$logger.error({exception:e,message:r.h.ERROR_PARSE_FULLNAME}),[3,4];case 4:return[2]}}))}))},SET_LAST_NAME:function(e,t){var n=e.dispatch,r=e.state;return f(this,void 0,void 0,(function(){var e;return h(this,(function(o){switch(o.label){case 0:return e=(r.data.firstLastName.name+" "+t).trim(),[4,n("SET_FULLNAME",{value:e})];case 1:return o.sent(),[2]}}))}))},SET_FIRST_NAME:function(e,t){var n=e.dispatch,r=e.state;return f(this,void 0,void 0,(function(){var e;return h(this,(function(o){switch(o.label){case 0:return e=(t+" "+r.data.firstLastName.surname).trim(),[4,n("SET_FULLNAME",{value:e})];case 1:return o.sent(),[2]}}))}))},CHECKING_PHONE:function(e,t){var n=e.commit,o=e.rootState,c=e.dispatch;return f(this,void 0,void 0,(function(){var e,l;return h(this,(function(d){switch(d.label){case 0:n("setCheckingInProgress",!0),d.label=1;case 1:return d.trys.push([1,4,,5]),!0,o.userInfo.user.isLoggedIn?[4,this.$api.user.phoneStatus.get(t)]:[3,3];case 2:e=d.sent(),c("SET_PHONE_VERIFIED_PAYLOAD",e),d.label=3;case 3:return[3,5];case 4:return l=d.sent(),this.$logger.error({exception:l,message:r.B.ERROR_PHONE_CHECK}),[3,5];case 5:return n("setCheckingInProgress",!1),[2]}}))}))},CHECKING_SUBSCRIPTION:function(e){var t=e.commit;return f(this,void 0,void 0,(function(){var e,n,o;return h(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.$api.user.push.get(1)];case 1:return e=c.sent(),n=e.enabled,t("setPromoSubscriptionStatus",n),[3,3];case 2:return o=c.sent(),this.$logger.error({exception:o,message:r.B.ERROR_CHECKING_SUBSCRIPTIONS}),[3,3];case 3:return[2]}}))}))},SET_PHONE_VERIFY_ERROR_VISIBILITY:function(e,t){(0,e.commit)("setIsPhoneVerifyErrorVisible",t)},VALIDATE_USER:function(e){var t=e.dispatch,n=e.commit,r=e.getters,o=e.rootState;return f(this,void 0,void 0,(function(){var e,c;return h(this,(function(l){return e=r.isPhoneValid,c=o.userInfo.user.isLoggedIn,e&&c?r.isPhoneVerifiedForOrder||t("SET_PHONE_VERIFY_ERROR_VISIBILITY",!0):c||n("setLoginErrorVisible",!0),[2]}))}))},SET_PHONE_VERIFIED_PAYLOAD:function(e,t){(0,e.commit)("setPhoneVerifiedPayload",t)},SET_FIRST_LAST_NAME_SUGGEST:function(e,t){(0,e.commit)("setFirstLastNameSuggest",t)}}},b12e21:function(e,t,n){"use strict";var r=n("5ffe0a"),o=n.n(r);t.default=o.a},b13dca:function(e,t,n){e.exports={active:"_7f4074",itemLogo:"f07996",itemName:"_48bb90",itemCounter:"_2d7703",arrow:"_08ac74",blink:"fe77c5"}},b25b4a:function(e,t,n){"use strict";var r=n("fbf0fb"),o=n.n(r);t.default=o.a},b274b9:function(e,t,n){"use strict";n("c08bb9"),n("aae158"),n("12a106"),n("5dd61c"),n("66914a");var r=n("4bb5bb"),o={name:"AtomAnnotation",components:{CheckoutButton:r.a},props:{text:{type:String,required:!0},textColor:{type:String,default:void 0},image:{type:String,default:void 0},button:{type:Object,default:function(){return{}}}}},c=n("b25b4a"),l=n("b429cb");var d=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.annotation},[n("div",{class:e.$style.line},[n("img",{class:e.$style.icon,attrs:{src:e.image,alt:""}}),e._v("\n    "+e._s(e.text)+"\n  ")]),e._v(" "),e.button.title?n("div",{class:[e.$style.line,e.$style.modWithExtraPadding]},[n("CheckoutButton",{attrs:{text:e.button.title,type:e.button.type},on:{click:function(t){return e.$emit("click",e.button.link)}}})],1):e._e()])}),[],!1,(function(e){this.$style=c.default.locals||c.default}),null,null).exports,f=n("5eabea"),h=(n("578d8d"),n("2c09af"),n("dc77a5")),m=n("65fbc3"),v=n("05da3f"),y={name:"SeparateSplit",components:{CDNImage:v.a},props:{title:{type:String,default:""},items:{type:Array,default:function(){return[]}}}},E=n("30d258");var _={name:"MergeExtension",components:{SeparateSplit:Object(l.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.split},[e.title?n("p",{class:e.$style.title},[e._v("\n    "+e._s(e.title)+"\n  ")]):e._e(),e._v(" "),n("div",{class:e.$style.items},e._l(e.items,(function(t){return n("div",{key:t.id,class:e.$style.item},[n("CDNImage",{class:e.$style.image,attrs:{size:40,src:t.img}}),e._v(" "),n("div",[n("p",{class:e.$style.itemText},[e._v("\n          "+e._s(t.text)+"\n        ")]),e._v(" "),n("p",{class:e.$style.itemDeliveryText,domProps:{innerHTML:e._s(t.deliveryText)}})])],1)})),0)])}),[],!1,(function(e){this.$style=E.default.locals||E.default}),null,null).exports},props:{type:{type:String,required:!0},title:{type:String,default:""},text:{type:String,default:""},textColor:{type:String,default:"#808d9a"},deliveryText:{type:String,default:""},separateSplits:{type:Array,default:function(){return[]}}},computed:{textStyle:function(){return{color:this.textColor}}}},S=n("17ad72");var O,T,I={name:"ActionsExtensions",components:{"merge-extension":Object(l.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.merge},[e.title?n("p",{class:e.$style.title},[e._v("\n    "+e._s(e.title)+"\n  ")]):e._e(),e._v(" "),e.text?n("p",{class:e.$style.text,style:e.textStyle},[e._v("\n    "+e._s(e.text)+"\n  ")]):e._e(),e._v(" "),e.deliveryText?n("p",{class:e.$style.deliveryText},[e._v("\n    "+e._s(e.deliveryText)+"\n  ")]):e._e(),e._v(" "),n("div",e._l(e.separateSplits,(function(t){return n("SeparateSplit",{key:t.title,class:e.$style.split,attrs:{items:t.items,title:t.title}})})),1)])}),[],!1,(function(e){this.$style=S.default.locals||S.default}),null,null).exports},props:{extensions:{type:Array,required:!0}},methods:{getComponent:function(e){return this.$options.components["".concat(e,"-extension")]}}},w=Object(l.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.extensions,(function(t,r){return[e.getComponent(t.type)?n(e.getComponent(t.type),e._b({key:r,tag:"component"},"component",t,!1)):e._e()]}))],2)}),[],!1,null,null,null).exports,C=n("314430"),k=n("df2fe1"),P=n("509163"),R="divide",x="delete",A={name:"AtomHeaderActions",components:{OzonTooltip:m.a,SplitActionsExtensions:w,CheckcartConfirmModal:C.a,OzonModal:k.a},props:{actions:{type:Array,required:!0}},data:function(){return{modalContainerMods:P.a,confirmModalPromise:void 0,confirmModalResolveCallback:void 0,confirmModalData:{title:"Удаление отправления",text:"Вы точно хотите удалить эти товары из заказа?\n        Товары будут перемещены в корзину",confirmButtonText:"Удалить"}}},methods:{isExtensionsVisible:function(e){return e.action&&e.action.extensions},getIcon:function(e){return e.icon||e.image||""},onActionClick:(T=Object(h.a)(regeneratorRuntime.mark((function e(t){var n,r,link;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.type,r=t.action){e.next=3;break}return e.abrupt("return");case 3:link=r.link,e.t0=n,e.next=e.t0===x?7:e.t0===R?12:14;break;case 7:return e.next=9,this.deleteSplit();case 9:return e.sent&&this.$emit("click",link),e.abrupt("break",16);case 12:case 14:return this.$emit("click",link),e.abrupt("break",16);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return T.apply(this,arguments)}),deleteSplit:(O=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.openConfirmDeleteModal());case 1:case"end":return e.stop()}}),e,this)}))),function(){return O.apply(this,arguments)}),openConfirmDeleteModal:function(){var e=this;return this.confirmModalPromise=new Promise((function(t){e.confirmModalResolveCallback=t})),this.confirmModalPromise},resolveConfirmModal:function(e){this.confirmModalResolveCallback(e),this.confirmModalPromise=void 0,this.confirmModalResolveCallback=void 0}}},L=n("cf910c");var D={name:"AtomHeader",components:{SplitHeaderActions:Object(l.a)(A,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",e._l(e.actions,(function(t,r){return n("div",{key:r,class:e.$style.actionWrapper},[e.isExtensionsVisible(t)?[n("OzonTooltip",{attrs:{trigger:"hover",theme:"material"}},[n("button",{class:e.$style.action,on:{click:function(n){return e.onActionClick(t)}}},[n("img",{class:e.$style.icon,attrs:{src:e.getIcon(t),alt:""}})]),e._v(" "),n("template",{slot:"tip"},[n("SplitActionsExtensions",{attrs:{extensions:t.action.extensions}})],1)],2)]:[n("button",{class:e.$style.action,on:{click:function(n){return e.onActionClick(t)}}},[n("img",{class:e.$style.icon,attrs:{src:e.getIcon(t),alt:""}})])]],2)})),0),e._v(" "),Boolean(e.confirmModalPromise)?n("OzonModal",{attrs:{"hide-default-close-button":"",mods:[e.modalContainerMods.RESET_PADDING]},on:{close:function(t){return e.resolveConfirmModal(!1)}}},[n("CheckcartConfirmModal",{attrs:{"hide-reject-button":"",title:e.confirmModalData.title,text:e.confirmModalData.text,"resolve-button-text":e.confirmModalData.confirmButtonText},on:{reject:function(t){return e.resolveConfirmModal(!1)},resolve:function(t){return e.resolveConfirmModal(!0)}}})],1):e._e()],1)}),[],!1,(function(e){this.$style=L.default.locals||L.default}),null,null).exports,CheckoutButton:r.a},props:{link:{type:String,default:""},title:{type:String,default:""},icon:{type:String,default:""},text:{type:String,default:""},textColor:{type:String,default:""},action:{type:Object,default:function(){return{link:"",behaviour:""}}},actions:{type:Array,default:function(){return[]}},widgetName:{type:String,default:""},mods:{type:Array,default:function(){return[]}}},data:function(){return{extractModsClasses:Ve}},computed:{titleClasses:function(){return[this.$style.title,Object(f.a)({},this.$style.isClickable,!!this.link)]},titleStyle:function(){return{color:this.textColor}}},methods:{onTitleClick:function(){this.$emit("click",this.link)},onActionClick:function(){this.$emit("click",this.action.link)},onHeaderActionClick:function(link){this.$emit("click",link)}}},$=n("c8b03d");var header=Object(l.a)(D,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[this.$style.header].concat(e.extractModsClasses(e.$style,e.mods))},[e.icon?n("img",{class:e.$style.icon,attrs:{src:e.icon,alt:""}}):e._e(),e._v(" "),e.title||e.text?n("div",[n("span",{class:e.titleClasses,style:e.titleStyle,on:{click:e.onTitleClick}},[e._v("\n      "+e._s(e.title||e.text)+"\n    ")])]):e._e(),e._v(" "),e.action.link?n("CheckoutButton",{attrs:{text:"Изменить",type:"INFO",size:"m"},on:{click:e.onActionClick}}):e._e(),e._v(" "),e.actions.length?n("SplitHeaderActions",{attrs:{actions:e.actions},on:{click:e.onHeaderActionClick}}):e._e()],1)}),[],!1,(function(e){this.$style=$.default.locals||$.default}),null,null).exports,M={name:"AtomButtons",components:{CheckoutButton:r.a},props:{buttons:{type:Array,default:function(){return[]}}},methods:{onClick:function(e){e&&this.$store.dispatch("composer/GET_LAYOUT",{url:e})}}},N=n("7e2e9e");var j=Object(l.a)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.buttons},e._l(e.buttons,(function(button,t){return n("CheckoutButton",{key:t,class:e.$style.button,attrs:{text:button.title,type:button.type},on:{click:function(t){return e.onClick(button.link)}}})})),1)}),[],!1,(function(e){this.$style=N.default.locals||N.default}),null,null).exports,F={name:"AtomSubHeader",props:{title:{type:String,default:""},textColor:{type:String,default:""}},computed:{style:function(){return{color:this.textColor}}}},B=n("95ba5a");var U=Object(l.a)(F,(function(){var e=this.$createElement;return(this._self._c||e)("p",{class:this.$style.subHeader,style:this.style},[this._v("\n  "+this._s(this.title)+"\n")])}),[],!1,(function(e){this.$style=B.default.locals||B.default}),null,null).exports,G=n("574559"),V={name:"AtomCheckbox",components:{OzCheckbox:n.n(G).a},props:{items:{type:Array,default:function(){return[]}}},methods:{onClick:function(e){e&&e.link&&this.$emit("click",e.link)}}},H=(n("09f68d"),n("fb65ed"));var z=Object(l.a)(V,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.items,(function(t,r){var o;return n("div",{key:r,class:e.$style.checkboxContainer},[n("OzCheckbox",{attrs:{checked:t.isChecked,disabled:!t.isEnabled},on:{change:function(n){return e.onClick(t.action)}}},[n("span",{class:[e.$style.text,(o={},o[e.$style.mDisabled]=!t.isEnabled,o)],domProps:{innerHTML:e._s(t.text)}}),e._v(" "),t.additionalAction?n("a",{class:e.$style.additionalAction,attrs:{href:""},on:{click:function(n){return n.stopPropagation(),e.onClick(t.additionalAction)}}},[e._v("\n        "+e._s(t.additionalAction.linkTitle)+"\n      ")]):e._e()])],1)})),0)}),[],!1,(function(e){this.$style=H.default.locals||H.default}),null,null).exports,Y={name:"AtomImage",components:{CDNImage:v.a},props:{image:{type:String,default:""},borderColor:{type:String,default:""}},computed:{style:function(){return{borderColor:this.borderColor}}}},W=n("c894ec");var K=Object(l.a)(Y,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:this.$style.imageBlock,style:this.style},[t("CDNImage",{attrs:{size:102,src:this.image}})],1)}),[],!1,(function(e){this.$style=W.default.locals||W.default}),null,null).exports,X=n("418e06"),Q=(n("497371"),{name:"OzonProgressLine",props:{percent:{type:Number,default:0,validator:function(e){return e>=0||e<=100}},width:{type:Number,default:void 0},height:{type:Number,default:void 0},roundedCorners:{type:Boolean,default:!1},color:{type:String,default:"#000"},backColor:{type:String,default:"transparent"},time:{type:Number,default:1},bezier:{type:String,default:"linear"}},computed:{borderRadius:function(){return this.roundedCorners&&this.height?"".concat(this.height/2,"px"):void 0},barHeight:function(){return this.height?"".concat(this.height,"px"):void 0},mainBarStyle:function(){return{width:this.width?"".concat(this.width,"px"):void 0,height:this.barHeight,background:"".concat(this.backColor),"border-radius":this.borderRadius}},innerBarStyle:function(){return{background:"".concat(this.color),width:"".concat(this.percent,"%"),transition:"width ".concat(this.time,"s ").concat(this.bezier)}}}}),Z=n("dd3a96");var line=Object(l.a)(Q,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.progress,on:{click:function(t){return e.$emit("click")}}},[n("div",{class:e.$style.mainBar,style:e.mainBarStyle},[n("div",{class:e.$style.innerBar,style:e.innerBarStyle})]),e._v(" "),n("div",{class:e.$style.progressInner},[e._t("default")],2)])}),[],!1,(function(e){this.$style=Z.default.locals||Z.default}),null,null).exports,J={name:"AtomProgressBar",components:{OzonProgressLine:line},props:{text:{type:String,default:""},percent:{type:Number,required:!0},progressBarColor:{type:String,default:""}}},ee=n("3f58b0");var te=Object(l.a)(J,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("OzonProgressLine",{class:[t.$style.progressLine,(e={},e[t.$style.modMobile]=t.isMobile,e)],attrs:{percent:t.percent,width:t.isMobile?void 0:162,height:16,time:.2,color:t.progressBarColor,"back-color":"#c4cbd2","rounded-corners":""}},[r("span",{class:t.$style.text,domProps:{innerHTML:t._s(t.text)}})])}),[],!1,(function(e){this.$style=ee.default.locals||ee.default}),null,null).exports,ne={name:"AtomProgressBarSigned",components:{OzonProgressLine:line},props:{text:{type:String,default:""},title:{type:String,default:""},percent:{type:Number,required:!0},progressBarColor:{type:String,default:""},mods:{type:Array,default:function(){return[]}}},data:function(){return{extractModsClasses:Ve}}},re=n("3c34bb");var ie=Object(l.a)(ne,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{class:[t.$style.barSigned].concat(t.extractModsClasses(t.$style,t.mods))},[r("div",{class:t.$style.upper},[r("span",{class:t.$style.upperTitle},[t._v(t._s(t.title))]),t._v(" "),r("span",[t._v(t._s(t.text))])]),t._v(" "),r("OzonProgressLine",{class:[t.$style.progressLine,(e={},e[t.$style.modMobile]=t.isMobile,e)],attrs:{percent:t.percent,width:t.isMobile?void 0:240,height:6,time:.2,color:t.progressBarColor,"back-color":"#c4cbd2","rounded-corners":""}})],1)}),[],!1,(function(e){this.$style=re.default.locals||re.default}),null,null).exports,oe={name:"AtomDeliveryHeader",props:{title:{type:String,default:""}}},ae=n("d1a740");var se=Object(l.a)(oe,(function(){var e=this.$createElement;return(this._self._c||e)("p",{class:this.$style.deliveryHeader},[this._v("\n  "+this._s(this.title)+"\n")])}),[],!1,(function(e){this.$style=ae.default.locals||ae.default}),null,null).exports,ce={name:"AtomDeliveryForm",components:{FormBuilder:n("5d036f").a},props:{rowSize:{type:Number,default:12},rows:{type:Array,required:!0}},methods:{onSelect:function(element){if(element){var link=element.link;this.$emit("click",link)}}}},ue=n("6a53d5");var le=Object(l.a)(ce,(function(){var e=this.$createElement;return(this._self._c||e)("FormBuilder",{class:this.$style.formWrapper,attrs:{"row-size":this.rowSize,rows:this.rows},on:{select:this.onSelect}})}),[],!1,(function(e){this.$style=ue.default.locals||ue.default}),null,null).exports,de={name:"AtomIcon",props:{icon:{type:String,required:!0}}},fe=Object(l.a)(de,(function(){var e=this.$createElement;return(this._self._c||e)("img",{attrs:{src:this.icon,alt:""}})}),[],!1,null,"4b350164",null).exports,he={name:"AtomTextMedium",components:{CheckoutButton:r.a},props:{title:{type:String,default:""},text:{type:String,default:void 0},textColor:{type:String,default:void 0},lines:{type:Number,default:void 0},image:{type:String,default:void 0},action:{type:Object,default:function(){return{link:void 0}}},button:{type:Object,default:function(){return{}}},mods:{type:Array,default:function(){return[]}}},data:function(){return{extractModsClasses:Ve}},computed:{singleLine:function(){return 1===this.lines}},methods:{onClick:function(){this.action.link&&this.$emit("click",this.action.link)}}},pe=n("39e005");var me=Object(l.a)(he,(function(){var e,t,n=this,r=n.$createElement,o=n._self._c||r;return o("div",{class:[n.$style.textMedium,(e={},e[n.$style.modClickable]=Boolean(n.action.link),e[n.$style.modWithExtraPadding]=!Boolean(n.image),e)].concat(n.extractModsClasses(n.$style,n.mods)),on:{click:n.onClick}},[Boolean(n.image)?o("div",{class:n.$style.imageWrapper},[o("div",{class:n.$style.image},[o("img",{attrs:{src:n.image,alt:""}})])]):n._e(),n._v(" "),o("div",{class:n.$style.description},[Boolean(n.title)?o("div",{domProps:{innerHTML:n._s(n.title)}}):n._e(),n._v(" "),Boolean(n.text)?o("div",{class:n.$style.text,style:{color:n.textColor}},[o("span",{class:[n.$style.innerText,(t={},t[n.$style.modSingleLine]=n.singleLine,t)],domProps:{innerHTML:n._s(n.text)}}),n._v(" "),n.button.title?o("CheckoutButton",{class:n.$style.innerTextButton,attrs:{text:n.button.title,type:n.button.type},on:{click:function(e){return n.$emit("click",n.button.link)}}}):n._e()],1):n._e()])])}),[],!1,(function(e){this.$style=pe.default.locals||pe.default}),null,null).exports,ve={name:"AtomTextSmall",props:{title:{type:String,default:""},text:{type:String,default:void 0},textColor:{type:String,default:void 0},image:{type:String,default:void 0},action:{type:Object,default:function(){return{link:void 0}}},mods:{type:Array,default:function(){return[]}}},data:function(){return{extractModsClasses:Ve}},methods:{onClick:function(){this.action.link&&this.$emit("click",this.action.link)}}},be=n("91b9fc");var ge=Object(l.a)(ve,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{class:[t.$style.textSmall,(e={},e[t.$style.modClickable]=Boolean(t.action.link),e)].concat(t.extractModsClasses(t.$style,t.mods)),on:{click:t.onClick}},[r("div",{class:t.$style.description},[Boolean(t.title)?r("div",{domProps:{innerHTML:t._s(t.title)}}):t._e(),t._v(" "),Boolean(t.text)?r("div",{class:t.$style.text,style:{color:t.textColor}},[t.image?r("img",{class:t.$style.image,attrs:{src:t.image,alt:""}}):t._e(),t._v(" "),r("span",{domProps:{innerHTML:t._s(t.text)}})]):t._e()])])}),[],!1,(function(e){this.$style=be.default.locals||be.default}),null,null).exports,ye={name:"AtomTextSubtext",props:{text:{type:String,default:""},subtext:{type:String,default:""},subtextColor:{type:String,default:""},image:{type:String,default:""},action:{type:Object,default:function(){return{link:"",behaviour:""}}},mods:{type:Array,default:function(){return[]}}},data:function(){return{extractModsClasses:Ve}},computed:{subtextStyle:function(){return{color:this.subtextColor}}}},Ee=n("386ba3");var _e=Object(l.a)(ye,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{class:[t.$style.textSubtext,(e={},e[t.$style.modExtraPadding]=!t.image,e)].concat(t.extractModsClasses(t.$style,t.mods))},[t.image?r("img",{class:t.$style.icon,attrs:{src:t.image,alt:""}}):t._e(),t._v(" "),r("div",[r("p",{class:t.$style.text},[t._v("\n      "+t._s(t.text)+"\n    ")]),t._v(" "),t.subtext?r("p",{class:[t.$style.subtext].concat(t.extractModsClasses(t.$style,t.mods)),style:t.subtextStyle},[t._v("\n      "+t._s(t.subtext)+"\n    ")]):t._e()])])}),[],!1,(function(e){this.$style=Ee.default.locals||Ee.default}),null,null).exports,Se={name:"AtomTextFooter",props:{title:{type:String,default:""},text:{type:String,default:""},textColor:{type:String,default:""},image:{type:String,default:""},action:{type:Object,default:function(){return{link:"",behaviour:""}}},mods:{type:Array,default:function(){return[]}}},data:function(){return{extractModsClasses:Ve}},methods:{onClick:function(){this.action.link&&this.$emit("click",this.action.link)}}},Oe=n("200b67");var Te=Object(l.a)(Se,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{class:[t.$style.infoBlockText,(e={},e[t.$style.mClickable]=!!t.action.link,e)].concat(t.extractModsClasses(t.$style,t.mods)),on:{click:t.onClick}},[r("div",{class:t.$style.imageWrapper},[r("div",{class:t.$style.image},[r("img",{attrs:{src:t.image,alt:""}})])]),t._v(" "),r("div",{class:t.$style.description},[r("div",{domProps:{innerHTML:t._s(t.title)}}),t._v(" "),Boolean(t.text)?r("div",{style:{color:t.textColor}},[t._v("\n      "+t._s(t.text)+"\n    ")]):t._e()])])}),[],!1,(function(e){this.$style=Oe.default.locals||Oe.default}),null,null).exports,Ie=n("c61099"),we=n("f67b27"),Ce=n("56afa9"),ke=n("15596c"),Pe={name:"AtomImageCarousel",components:{Carousel:Ie.a,CarouselItem:we.a,CarouselCdnImage:Ce.a,BlockingLoader:ke.a},props:{images:{type:Array,default:function(){return[]}}},data:function(){return{isReady:!1}},methods:{onInit:function(){this.isReady=!0}}},Re=n("39ba29");var xe=Object(l.a)(Pe,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{class:t.$style.carouselWrapper},[t.images.length?r("Carousel",{class:[t.$style.carousel,(e={},e[t.$style.modVisible]=t.isReady,e)],attrs:{autoplay:!1,items:t.images,loop:!1,"show-pagination":t.images.length>1,"show-navigation":t.images.length>1,"theme-navigation":"material-inside"},on:{init:t.onInit}},[r("template",{slot:"sliders"},t._l(t.images,(function(image,e){return r("CarouselItem",{key:"carousel-item-"+e,attrs:{"force-lazy-image":e>=1}},[r("CarouselCdnImage",{attrs:{image:image,size:600}})],1)})),1)],2):t._e(),t._v(" "),r("div",{class:t.$style.loader},[t.isReady?t._e():r("BlockingLoader")],1)],1)}),[],!1,(function(e){this.$style=Re.default.locals||Re.default}),null,null).exports,Ae={name:"AtomPrice",props:{type:{type:String,required:!0,validator:function(e){return"price"===e}},price:{type:String,required:!0},priceColor:{type:String,default:""},originalPrice:{type:String,default:""},originalPriceColor:{type:String,default:""},mods:{type:Array,default:function(){return[]}}},data:function(){return{extractModsClasses:Ve}},computed:{priceStyle:function(){return{color:this.priceColor}},originalPriceStyle:function(){return{color:this.originalPriceColor}}}},Le=n("c27648");var De=Object(l.a)(Ae,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.$style.content].concat(e.extractModsClasses(e.$style,e.mods))},[n("span",{class:e.$style.price,style:e.priceStyle},[e._v(e._s(e.price))]),e._v(" "),e.originalPrice?n("span",{class:e.$style.originalPrice,style:e.originalPriceStyle},[e._v(" "+e._s(e.originalPrice))]):e._e()])}),[],!1,(function(e){this.$style=Le.default.locals||Le.default}),null,null).exports,$e={name:"AtomBulletElements",props:{type:{type:String,required:!0,validator:function(e){return"bulletElements"===e}},context:{type:String,default:""},items:{type:Array,default:function(){return[]},validator:function(e){return e.filter((function(e){return e.text}))}},mods:{type:Array,default:function(){return[]}}},data:function(){return{extractModsClasses:Ve}}},Me=n("d2cf88");var Ne,je=Object(l.a)($e,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{class:[].concat(e.extractModsClasses(e.$style,e.mods))},e._l(e.items,(function(t,r){return n("li",{key:r,class:e.$style.item,domProps:{innerHTML:e._s(t.text)}})})),0)}),[],!1,(function(e){this.$style=Me.default.locals||Me.default}),null,null).exports;n("b6b43f");!function(e){e.ADDRESS_INFO="modAddressInfo",e.PAYMENT_INFO="modPaymentInfo",e.ADDRESS_EDIT_DETAIL="modAddressEditDetail",e.ADDRESS_EDIT_DETAIL_METRO="modAddressEditDetailMetro",e.ADDRESS_EDIT_FORM_PROMPT="modAddressEditFormPrompt",e.CART_SPLIT_TITLE="modCartSplitTitle",e.ADDRESS_EDIT_UNAVAILABLE_ITEMS="modAddressEditUnavailableItems",e.PICKUP_DETAIL_HEADER="modPickupDetailHeader",e.PICKUP_DETAIL="modPickupDetail",e.ATOM_LIST="modAtomList",e.PREMIUM_BANNER="modPremiumBanner",e.PREMIUM_BANNER_DETAILS="modPremiumBannerDetails",e.PREMIUM_BANNER_DETAILS_RECURRENT_PRICE="modPremiumBannerDetailsRecurrentPrice",e.PREMIUM_BANNER_DETAILS_TOTAL_PRICE="modPremiumBannerDetailsTotalPrice",e.ADDRESS_EDIT_FORM="modAddressEditForm",e.MOBILE="modMobile",e.ADDRESS_BOOK="modAddressBook",e.NOTIFICATION="modNotification"}(Ne||(Ne={})),n.d(t,"b",(function(){return Be})),n.d(t,"d",(function(){return Ue})),n.d(t,"c",(function(){return Ge})),n.d(t,"a",(function(){return Ve})),n.d(t,"e",(function(){return Ne}));var Fe={annotation:d,header:header,subHeader:U,textMedium:me,textFooter:Te,textSubtext:_e,textSmall:ge,checkboxes:z,image:K,icon:fe,products:X.a,progressBar:te,progressBarSigned:ie,deliveryHeader:se,deliveryForm:le,buttons:j,imageCarousel:xe,price:De,bulletElements:je};function Be(e){return Fe[e]||null}function Ue(e,t){void 0===e&&(e=[]);var n=void 0===t?{}:t,r=n.include,o=void 0===r?[]:r,c=n.exclude,l=void 0===c?[]:c;if(!e.length)return[];var d=e;return o.length&&(d=e.filter((function(element){return o.includes(element.type)}))),l.length&&(d=d.filter((function(element){return!l.includes(element.type)}))),d}function Ge(e,t){void 0===e&&(e={});var n=void 0===t?{}:t,r=n.include,o=void 0===r?[]:r,c=n.exclude,l=void 0===c?[]:c;if(0===Object.keys(e).length)return{};var d={};if(o.length)for(var f in e)o.includes(f)&&(d[f]=e[f]);else d=e;var h={};if(l.length)for(var f in d)l.includes(f)||(h[f]=d[f]);else h=d;return h}function Ve(e,t){return void 0===e&&(e={}),void 0===t&&(t=[]),t.map((function(t){return e[t]})).filter(Boolean)}},b28e02:function(e,t,n){"use strict";var r=n("6876d5"),o=n("da0937"),c=function(){return(c=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},l=["error","warning","info"];t.a={computed:c({},Object(r.e)({composerDebug:function(e){var t=e.debug;return t&&t.composer||{}}})),methods:{logComposerError:function(e,t,n){void 0===t&&(t={}),void 0===n&&(n="error");var r=c({},t,this.composerDebug);if(l.indexOf(n)<0)return!1;e instanceof o.a?this.$logger[n](e.getLoggerMessage(r)):this.$logger[n]({message:e.message,payload:r})}}}},b296fc:function(e,t,n){"use strict";var r={name:"SearchInput",model:{prop:"modelVal",event:"input"},props:{modelVal:{type:String,default:""},placeholder:{type:String,default:"Выбирайте..."}},methods:{reemitKeyUp:function(e){this.$emit("keyup",e)},clearSearchInput:function(){this.$emit("input",""),this.$emit("clear"),this.$refs.inputEl.focus()},onSearch:function(){this.$emit("onsearch")},onInput:function(e){this.$emit("input",e.target.value)},reemitFocus:function(e){this.$emit("focus",e)},reemitBlur:function(e){this.$emit("blur",e)}}},o=(n("d7581b"),n("b429cb")),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["search",{"m-mobile":e.isMobile}]},[n("div",{staticClass:"search-wrap"},[e.isMobile?n("div",{class:["back",{"m-show":e.modelVal.length}],on:{click:function(t){return e.clearSearchInput({toFocus:!1})}}}):e._e(),e._v(" "),n("div",{staticClass:"search-input-wrap"},[e._t("chip"),e._v(" "),n("input",{ref:"inputEl",staticClass:"search-input",attrs:{placeholder:e.placeholder,autocapitalize:"off",autocomplete:"off",autocorrect:"off","data-test-id":"header-search-input",maxlength:"255",spellcheck:"false",type:"text"},domProps:{value:e.modelVal},on:{blur:e.reemitBlur,focus:e.reemitFocus,input:e.onInput,keyup:e.reemitKeyUp}})],2),e._v(" "),n("no-ssr",[n("div",{staticClass:"clear-wrap",on:{click:function(t){return e.clearSearchInput()}}},[e.modelVal?n("div",{staticClass:"clear",attrs:{"data-test-id":"header-search-clear"}}):e._e()])])],1)])}),[],!1,null,"0526186b",null);t.a=component.exports},b2a4b2:function(e,t,n){"use strict";var r=n("3aacf1"),o=n("e245b5"),c={isEmpty:function(e){return o.a.isEmpty(e)},isInvalid:function(e){return!o.a.isEmailValid(e)}},l=n("c6d334"),d=n("039d9b");n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m}));var f=function(){return(f=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},h=f({},d.a,{id:r.a.EMAIL,placeholder:"Почта",value:"",mask:"",withIcon:!1,type:"text",autofocus:!0,required:!0,checkRules:{checkRulesEmail:c}}),m=[f({},h),f({},d.a,{id:r.a.PASSWORD,placeholder:"Пароль",value:"",mask:"",withIcon:!0,type:"password",autofocus:!1,required:!0,checkRules:{checkRulesPassword:l.a}})]},b2bfcf:function(e,t,n){"use strict";var r=n("6cb909");n.n(r).a},b2fa9e:function(e,t,n){"use strict";var r=n("67cd20"),o=n.n(r);t.default=o.a},b33be6:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return f})),n.d(t,"mutations",(function(){return h})),n.d(t,"getters",(function(){return m})),n.d(t,"actions",(function(){return v}));n("c08bb9"),n("fcdb9f"),n("f8695b"),n("41d819"),n("aae158");var r=n("bbfe95"),o=n("023870"),c=n("1a069f"),l=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},d=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},f=function(){return{itemsHash:{}}},h={setItemsHash:function(e,t){e.itemsHash=t}},m={itemsCount:function(e){var t=e.itemsHash,n=void 0===t?{}:t;return Object.values(n).reduce((function(e,t){var n=t.quantity;return e+(void 0===n?0:n)}),0)},cartUrl:function(){return o.a.CART}},v={GET_CART_ITEMS_IDS:function(e){var t=e.commit;return l(this,void 0,void 0,(function(){var e,n;return d(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.$api.cart.summary.get()];case 1:return e=o.sent()||{},t("setItemsHash",e),[2,e];case 2:return n=o.sent(),this.$logger.error({exception:n,message:r.f.ERROR_GET_ITEMS_IDS}),[3,3];case 3:return[2]}}))}))},UPDATE_ITEMS_IN_CART:function(e,t){var n=e.dispatch,o=t.ids,c=t.method;return l(this,void 0,void 0,(function(){var e,t,l;return d(this,(function(d){switch(d.label){case 0:e={},d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.$api.cart.items[c](o)];case 2:return t=d.sent(),e=t.headers,[3,4];case 3:throw l=d.sent(),this.$logger.error({exception:l,message:r.f.ERROR_UPDATE_ITEMS}),l;case 4:return[4,n("GET_CART_ITEMS_IDS")];case 5:return d.sent(),[2,{headers:e}]}}))}))},CHANGE_QUANTITY:function(e,t){var n=e.dispatch,r=t.itemId,o=t.quantity,f=t.spaceContext;return l(this,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return[4,n("UPDATE_ITEMS_IN_CART",{ids:[{id:r,quantity:o,spaceContext:f}],method:c.ITEMS_METHODS.PUT})];case 1:return e.sent(),[2]}}))}))},ADD_FIRST_ITEM:function(e,t){var n=e.dispatch,r=t.itemId,o=t.quantity,f=void 0===o?1:o,h=t.spaceContext;return l(this,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return[4,n("UPDATE_ITEMS_IN_CART",{ids:[{id:r,quantity:f,spaceContext:h}],method:c.ITEMS_METHODS.POST})];case 1:return e.sent(),[2]}}))}))},ADD_TO_CART:function(e,t){var n=e.state,r=e.dispatch,o=t.itemId,c=t.spaceContext;return l(this,void 0,void 0,(function(){var e,t;return d(this,(function(l){switch(l.label){case 0:return e=(n.itemsHash[o]||{}).quantity,[4,r((t=void 0===e?0:e)>0?"CHANGE_QUANTITY":"ADD_FIRST_ITEM",{itemId:o,quantity:t+1,spaceContext:c})];case 1:return l.sent(),[4,r("GET_CART_ITEMS_IDS")];case 2:return l.sent(),[2]}}))}))},ADD_TO_CART_CUSTOM_QUANTITY:function(e,t){var n=e.state,r=e.dispatch,o=t.itemId,c=t.itemQuantity,f=void 0===c?1:c,h=t.spaceContext,m=t.onlyNew,v=void 0!==m&&m;return l(this,void 0,void 0,(function(){var e,t,c;return d(this,(function(l){switch(l.label){case 0:return e=(n.itemsHash[o]||{}).quantity,(c=(t=void 0===e?0:e)>0)&&v?[2,!1]:[4,r(c?"CHANGE_QUANTITY":"ADD_FIRST_ITEM",{itemId:o,quantity:t+f,spaceContext:h})];case 1:return l.sent(),[4,r("GET_CART_ITEMS_IDS")];case 2:return l.sent(),[2,!0]}}))}))},ADD_TO_CART_NOOP:function(){}}},b40b93:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return o})),n.d(t,"getters",(function(){return c}));var r=n("8848ed"),o=function(){return{data:{email:""}}},c={mappings:function(e){return Object(r.mergeStateWithMappings)(e.data,{})}}},b56451:function(e,t,n){"use strict";var r=n("6876d5"),o=n("1e8b3a"),c=n("2dad57"),l=n.n(c),d=function(){return(d=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},f={name:"CmsCart",components:{HeaderIcon:o.a,CartIcon:l.a},computed:d({},Object(r.c)({cartCount:"cartGlobal/itemsCount",cartUrl:"cartGlobal/cartUrl"}))},h=n("d4d5ef"),m=n("b429cb");var component=Object(m.a)(f,(function(){var e=this.$createElement,t=this._self._c||e;return t("HeaderIcon",{directives:[{name:"qa",rawName:"v-qa:id",value:"header-cart",expression:"'header-cart'",arg:"id"}],attrs:{link:this.cartUrl,counter:this.cartCount,title:"Корзина"}},[t("CartIcon",{class:this.$style.pic})],1)}),[],!1,(function(e){this.$style=h.default.locals||h.default}),null,null);t.a=component.exports},b6b43f:function(e,t,n){"use strict";var r=n("b274b9"),o={name:"Molecula",props:{atoms:{type:Array,default:function(){return[]}},mods:{type:Array,default:function(){return[]}}},data:function(){return{getAtomComponent:r.b}}},c=n("b429cb"),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.atoms.length?n("section",e._l(e.atoms,(function(t,r){return n(e.getAtomComponent(t.type),e._b({key:r,tag:"component",attrs:{mods:e.mods}},"component",t,!1))})),1):e._e()}),[],!1,null,null,null);t.a=component.exports},b80d48:function(e,t){},b8e6a0:function(e,t,n){e.exports={tooltip:"_24623f",button:"_6938a8",blink:"c425b6"}},b902cb:function(e,t,n){"use strict";n("5dd61c");var r=n("e4cd70"),o=["submit","button","reset"],c=["","small","enlarged","large","xxl"],l=["default","blue","green","orange","orange-red","cream","blue-cream","gray",""],d=["","m-material"],f=["","primary","secondary","text","empty"],h={name:"OButton",components:{Preloader:r.a},props:{loading:{type:Boolean,default:!1},name:{type:String,default:""},href:{type:String,default:""},type:{type:String,default:o[0],validator:function(e){return o.includes(e)}},size:{type:String,default:c[0],validator:function(e){return c.includes(e)}},color:{type:String,default:l[0],validator:function(e){return l.includes(e)}},full:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},mimicHref:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},mod:{type:String,default:function(){return""},validator:function(e){return d.includes(e)}},theme:{type:String,default:function(){return""},validator:function(e){return f.includes(e)}}},computed:{component:function(){return this.href.length?"a":"button"},commonEvents:function(){return{click:this.onClick,blur:this.onBlur,focus:this.onFocus,mouseover:this.onMouseOver,mouseout:this.onMouseOut,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave}},commonClass:function(){var e;return["button",this.color,this.size,this.mod,(e={"full-width":this.full,"flat-button":this.flat,bordered:this.bordered,"link-like":this.mimicHref},e["theme-"+this.theme]=this.theme,e)]}},methods:{onClick:function(e){this.$emit("click",e)},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)},onMouseOver:function(e){this.$emit("mouseover",e)},onMouseOut:function(e){this.$emit("mouseout",e)},onMouseEnter:function(e){this.$emit("mouseenter",e)},onMouseLeave:function(e){this.$emit("mouseleave",e)}}},m=(n("7de4c8"),n("b429cb"));n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l}));var component=Object(m.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.component,e._g({tag:"component",class:e.commonClass,attrs:{disabled:e.disabled,href:e.href||!1,type:"button"===e.component&&e.type}},e.commonEvents),[e.loading?n("Preloader",{staticClass:"loader",attrs:{mod:"dots-blue"}}):e._e(),e._v(" "),e._t("default")],2)}),[],!1,null,"ede8888c",null);t.b=component.exports},b9321c:function(e,t,n){"use strict";var r=n("24ac90"),o=n.n(r);t.default=o.a},ba8b8e:function(e,t,n){e.exports={submitButton:"_362b07",blink:"c0fb10"}},bb0191:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o})),n.d(t,"getters",(function(){return c})),n.d(t,"actions",(function(){return l}));var r=function(){return{default:{nextPage:"",items:[]}}},o={},c={getItems:function(e){return function(t){return e[t].items}}},l={}},bb54a7:function(e,t,n){e.exports={barSigned:"_3fb2fc",modNotification:"b7657d",upperTitle:"bebcaa",upper:"aeddc8",progressLine:"_0fd9fa",modMobile:"a06122",blink:"ce13da"}},bd5098:function(e,t,n){"use strict";var r=n("b429cb"),component=Object(r.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return this.isMobile?t("a",{attrs:{href:"/"}},[this._v("\n  На главную\n")]):t("a",{attrs:{href:"/"}},[this._v("\n  Вернуться на главную\n")])}),[],!1,null,null,null);t.a=component.exports},bd53b8:function(e,t,n){e.exports={errorMessage:"_497097",blink:"_9c52ce"}},bdebd2:function(e,t,n){e.exports={image:"_615bd3",blink:"d3c74f"}},be62e4:function(e,t,n){"use strict";n("5dd61c"),n("66914a"),n("42f576"),n("497371"),n("c08bb9"),n("aae158"),n("fcdb9f");var r=n("eeb025"),o=n("e4cd70"),input=n("384e52"),c={components:{TextInput:r.a,Preloader:o.a},props:{autofocus:{type:Boolean,default:!1},suggestions:{type:Array,default:function(){return[]}},desktopHeader:{type:Boolean,default:!1},placeholder:{type:String,default:""},value:{type:String,default:""},id:{type:String,default:""},highInput:{type:Boolean,default:!1},textKey:{type:String,required:!0},mods:{type:Array,default:function(){return[]},validator:function(e){return 0===e.filter((function(e){return-1===Object.values(input.b).indexOf(e)})).length}},isLoading:{type:Boolean,default:!1},filter:{type:Boolean,default:!1},max:{type:Number,default:void 0}},data:function(){return{show:!1,focusedItemIndex:-1,inputBlurEvent:null}},computed:{text:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},filteredSuggestions:function(){var e=this,t=this.suggestions||[];return this.filter&&(t=t.filter((function(t){return e.text.split(" ").every((function(n){return t[e.textKey].toLowerCase().includes(n.toLowerCase())}))}))),t.slice(0,this.max||t.length)},isVisible:function(){return Boolean(this.show&&this.filteredSuggestions&&this.filteredSuggestions.length)}},mounted:function(){document.addEventListener("click",this.handleClickOutside)},destroyed:function(){document.removeEventListener("click",this.handleClickOutside)},methods:{handleClickOutside:function(e){!this.$el.contains(e.target)&&this.show&&(this.show=!1,this.$emit("blur",this.inputBlurEvent))},onInput:function(e){this.focusedItemIndex=-1,this.$emit("input",e),this.show=!0},selectItem:function(e,t){t.preventDefault(),this.$emit("close"),this.$emit("selected",e,t),this.show=!1},onBlur:function(e){this.inputBlurEvent=e},onFocus:function(e){this.$emit("focus",e),this.show=!0},onClear:function(){this.$emit("clear")},onKeydown:function(e){switch(e.keyCode){case 38:this.focusedItemIndex=0===this.focusedItemIndex||-1===this.focusedItemIndex?this.filteredSuggestions.length-1:this.focusedItemIndex-1;break;case 40:this.focusedItemIndex=this.filteredSuggestions.length-1===this.focusedItemIndex?0:this.focusedItemIndex+1;break;case 27:this.$emit("close"),this.focusedItemIndex=0;break;case 13:var t=this.focusedItemIndex>=0?this.focusedItemIndex:0,n=this.filteredSuggestions[t];n&&(this.selectItem(n,e),this.focusedItemIndex=0);break;default:this.show=!0}}}},l=(n("24c270"),n("b429cb")),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"autocomplete",class:{"m-desktop-header":e.desktopHeader},on:{click:function(e){e.stopPropagation()},keydown:function(t){return e.onKeydown(t)}}},[n("TextInput",{ref:"input",class:{"m-low-height":!e.isMobile,high:e.highInput},attrs:{id:e.id,autofocus:e.autofocus,mods:e.mods,placeholder:e.placeholder,"clear-btn":"","data-test-id":"city-selector-autocomplete-input",type:"text"},on:{blur:e.onBlur,clear:e.onClear,focus:e.onFocus},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}},[e.isLoading?n("div",{attrs:{slot:"right"},slot:"right"},[n("Preloader")],1):e._e()]),e._v(" "),e.isVisible&&e.filteredSuggestions&&e.filteredSuggestions.length?n("div",{staticClass:"b-select"},e._l(e.filteredSuggestions,(function(element,t){return n("div",{key:element+t,staticClass:"item",class:{focused:t===e.focusedItemIndex},attrs:{"data-test-id":"city-selector-autocomplete-item-"+t},on:{click:function(t){return e.selectItem(element,t)}}},[e._v("\n      "+e._s(element[e.textKey])+"\n    ")])})),0):e._e()],1)}),[],!1,null,"1f203b9e",null);t.a=component.exports},c08a9e:function(e,t,n){e.exports={progress:"e7c8c8",loader:"_596ca6",blink:"dc68ad"}},c0bc28:function(e,t,n){"use strict";var r=["in-out","out-in",""],o={props:{mode:{type:String,default:"",validator:function(e){return r.some((function(t){return t===e}))}}}},c=(n("06d57d"),n("b429cb")),component=Object(c.a)(o,(function(){var e=this.$createElement;return(this._self._c||e)("transition",{attrs:{mode:this.mode,name:"fade"}},[this._t("default")],2)}),[],!1,null,"0316f5fa",null);t.a=component.exports},c1554f:function(e,t,n){"use strict";var r=n("1858a3"),o=n.n(r);t.default=o.a},c27648:function(e,t,n){"use strict";var r=n("37885a"),o=n.n(r);t.default=o.a},c2a4e0:function(e,t,n){},c3dd77:function(e,t,n){e.exports={action:"b33897",icon:"e42c99",actionWrapper:"f1c41a",blink:"_4ec34b"}},c3e90b:function(e,t,n){"use strict";n.r(t),n.d(t,"actions",(function(){return l}));n("aef563"),n("f8695b"),n("41d819"),n("aae158");var r=n("bbfe95"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},c=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},l={SWITCH_ASPECT:function(e,t){var n=t.id,r=t.rewriteUrl;return o(this,void 0,void 0,(function(){var e;return c(this,(function(t){e=r||"/context/detail/id/"+n+"/"+(location&&location.search);try{this.$composerRouter.push(e)}catch(e){this.$logger.error({exception:e})}return[2]}))}))},CREATE_INACCURACY_REPORT:function(e,t){return o(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.$api.content.entity.descriptionError.put(t)];case 1:return n.sent(),[2,Promise.resolve(!0)];case 2:return e=n.sent(),this.$logger.error({exception:e,message:r.u.ERROR_SUBMITING_INACCURACY_REPORT}),[2,Promise.resolve(!1)];case 3:return[2]}}))}))}}},c48362:function(e,t,n){"use strict";var r=n("2faacb");n.n(r).a},c4c3e9:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));n("654ecb"),n("dc5bd1"),n("aae158"),n("e28425");var r=n("fb508a"),o=n("802b83"),c=function(){return(c=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},l=function(e,t){var component=t[e];if(!component)return[];var n=component.places||[];return n.length?component.extendPlaces?o.a.concat(n):n:o.a};function d(t,n,o){void 0===n&&(n=[]);for(var d={allowed:[],disallowed:[]},f=0;f<n.length;f++){var h=n[f],component=c({},h),m=Object(r.a)(component.vertical,component.component);component.name=m,component.index=f;var v=l(m,o).indexOf(t)>-1?"allowed":"disallowed";if(component.params instanceof e){var y=component.params.toString();component.params=y&&y.length?JSON.parse(y):{}}component.widgetTrackingInfo instanceof e&&(component.widgetTrackingInfo=component.widgetTrackingInfo.toString()),d[v].push(component)}return d}}).call(this,n("3be624").Buffer)},c4f5c0:function(e,t,n){"use strict";var r=n("2f83d0"),o=n.n(r);t.default=o.a},c60876:function(e,t,n){},c61099:function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106");var r=n("5eabea"),o=n("8fd32c"),c=(n("497371"),n("6876d5")),l=n("01dcc3"),d={name:"CarouselNavigation",props:{onPrevClick:{type:Function,default:void 0},onNextClick:{type:Function,default:void 0},darkArrows:{type:Boolean,default:!1},theme:{type:String,default:"flat"}},computed:{extraButtons:function(){return this.onPrevClick&&this.onNextClick},rootClass:function(){return[this.$style.navigation,this.$style[this.theme],Object(r.a)({},this.$style.extraButtons,this.extraButtons),Object(r.a)({},this.$style.mobile,this.isMobile)]},prevClass:function(){return[this.$style.navigationBtn,this.$style.navigationPrev,Object(r.a)({},this.$style.darkArrows,this.darkArrows)]},nextClass:function(){return[this.$style.navigationBtn,this.$style.navigationNext,Object(r.a)({},this.$style.darkArrows,this.darkArrows)]}},methods:{handlePrevClick:function(){this.onPrevClick()},handleNextClick:function(){this.onNextClick()}}},f=n("2c8a68"),h=n("b429cb");var m=Object(h.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.rootClass},[n("button",{staticClass:"swiper-button-prev swiper-button reset-button",class:e.prevClass,attrs:{"aria-label":"Назад"}}),e._v(" "),e.extraButtons?n("button",{staticClass:"reset-button swiper-button",class:e.prevClass,attrs:{"aria-label":"В конец"},on:{click:e.handlePrevClick}}):e._e(),e._v(" "),n("button",{staticClass:"swiper-button-next swiper-button reset-button",class:e.nextClass,attrs:{"aria-label":"Вперед"}}),e._v(" "),e.extraButtons?n("button",{staticClass:"reset-button swiper-button",class:e.nextClass,attrs:{"aria-label":"В начало"},on:{click:e.handleNextClick}}):e._e()])}),[],!1,(function(e){this.$style=f.default.locals||f.default}),null,null).exports,v={name:"CarouselPagination",props:{darkPagination:{type:Boolean,default:!1},bluePagination:{type:Boolean,default:!1}}},y=(n("22abae"),Object(h.a)(v,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"swiper-pagination carousel-pagination",class:{"dark-pagination":this.darkPagination,"blue-pagination":this.bluePagination}})}),[],!1,null,"38400ed6",null).exports);function E(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var _={name:"Carousel",components:{Navigation:m,Pagination:y},mixins:[l.b],props:{length:{type:Number,default:1},type:{type:String,default:""},items:{type:Array,default:function(){return[]}},activeIndex:{type:Number,default:0},loop:{type:Boolean,default:!1},autoplay:{type:Boolean,default:!1},autoplayDelay:{type:Number,default:5e3},slidesPerView:{validator:function(e){var t=Object(o.a)(e);return"number"===t||"string"===t&&"auto"===e},default:1},slidesPerGroup:{type:Number,default:1},spaceBetween:{type:Number,default:10},lazy:{type:Boolean,default:!1},showNavigation:{type:Boolean,default:!1},showPagination:{type:Boolean,default:!1},breakpoints:{type:Object,default:function(){return{}}},animationFade:{type:Boolean,default:!1},centeredSlides:{type:Boolean,default:!1},darkArrows:{type:Boolean,default:!1},darkPagination:{type:Boolean,default:!1},bluePagination:{type:Boolean,default:!1},themeNavigation:{type:String,default:"flat"},noBorder:{type:Boolean,default:!1},overflowVisible:{type:Boolean,default:!1}},data:function(){return{id:"",sliderOptions:{autoplay:{delay:5e3},on:{click:this.onSlideClick,slideChange:this.onSlideChange,reachBeginning:this.onStart,reachEnd:this.onEnd,fromEdge:this.fromEdge,init:this.init}}}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?E(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):E(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.c)({isMobileOld:"browser/showMobileVersion"}),{swiper:function(){return this.$refs.instance.swiper},classMod:function(){var e;return[this.$style.carousel,(e={},Object(r.a)(e,this.$style.mobile,this.isMobile),Object(r.a)(e,this.$style.mobileHeader,"main-mobile"===this.type),Object(r.a)(e,this.$style.mobileCrossborder,"cross-border"===this.type),Object(r.a)(e,this.$style.choiceProductCarousel,"choice-product-carousel"===this.type),Object(r.a)(e,this.$style.rateBoughtItems,"rate-bought-items-carousel"===this.type),Object(r.a)(e,this.$style.noBorder,this.noBorder),Object(r.a)(e,this.$style.overflowVisible,this.overflowVisible),e)]},navigationProps:function(){return this.loop?{onPrevClick:this.onPrevClick,onNextClick:this.onNextClick,darkArrows:this.darkArrows,theme:this.themeNavigation}:{theme:this.themeNavigation,darkArrows:this.darkArrows}}}),watch:{items:function(){var e=this;this.$nextTick((function(){e.swiper.emit("resize"),e.swiper.update()}))},autoplay:function(e){var t=this;this.$nextTick((function(){e?t.carousel.autoplay.start():t.carousel.autoplay.stop()}))},activeIndex:function(e){var t=this;this.$nextTick((function(){t.loop||t.slideTo(e,1e3)}))}},created:function(){var e,t,n=this.autoplayDelay,r=this.slidesPerView,o=this.spaceBetween,c=this.showPagination;this.id||(this.id=this.buildId()),this.sliderOptions.autoplay=!!this.autoplay&&{delay:n},1!==this.slidesPerView&&function(e,t){var n=t.slidesPerView,r=t.spaceBetween;Object.assign(e,{slidesPerView:n,spaceBetween:r})}(this.sliderOptions,{slidesPerView:r,spaceBetween:o}),1!==this.slidesPerGroup&&(this.sliderOptions.slidesPerGroup=this.slidesPerGroup),this.lazy&&(this.sliderOptions.lazy=this.lazy,this.sliderOptions.watchSlidesVisibility=!0),this.sliderOptions.navigation=this.showNavigation?{nextEl:"#"+(e=this.id)+" .swiper-button-next",prevEl:"#"+e+" .swiper-button-prev"}:{},this.sliderOptions.pagination=c?function(e){return{el:"#"+e+" .swiper-pagination",clickable:!0,type:"bullets"}}(this.id):{},this.breakpoints&&(this.sliderOptions.breakpoints=this.breakpoints),this.animationFade&&((t=this.sliderOptions).effect="fade",t.fadeEffect={crossFade:!0},t.speed=500),this.centeredSlides&&(this.sliderOptions.centeredSlides=this.centeredSlides)},methods:{buildId:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",i=0;i<5;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},onMouseOver:function(){this.autoplay&&this.carousel.autoplay.stop()},onMouseOut:function(){this.autoplay&&this.carousel.autoplay.start()},slideTo:function(e,t){this.carousel.slideTo(e,t)},slideToNext:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.carousel.slideNext(e)},slideToPrev:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.carousel.slidePrev(e)},onSlideClick:function(e){var t=this.swiper.clickedIndex;this.$emit("onSlideClick",{$event:e,clickedIndex:t})},onSlideChange:function(){var e=this.swiper,t=e.realIndex,n=e.slides,r=e.width,o=Math.floor(r/n[t].clientWidth);this.$emit("onSlideChange",{realIndex:t,swipesCount:o})},onPrevClick:function(){this.swiper.slideTo(this.items.length-1,1e3)},onNextClick:function(){this.swiper.slideTo(0,1e3)},onStart:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.$emit.apply(this,["onStart"].concat(t))},onEnd:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.$emit.apply(this,["onEnd"].concat(t))},fromEdge:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.$emit.apply(this,["fromEdge"].concat(t))},init:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.$emit.apply(this,["init"].concat(t))}}},S=n("4735ba");var O=Object(h.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"slider",class:e.$style.wrapper,attrs:{id:e.id}},[n("div",{directives:[{name:"swiper",rawName:"v-swiper:carousel",value:e.sliderOptions,expression:"sliderOptions",arg:"carousel"}],ref:"instance",class:e.classMod,on:{mouseout:e.onMouseOut,mouseover:e.onMouseOver}},[n("div",{ref:"wrapper",staticClass:"swiper-wrapper"},[e._t("sliders")],2)]),e._v(" "),e._t("pagination",[e.showPagination?n("Pagination",{attrs:{"blue-pagination":e.bluePagination,"dark-pagination":e.darkPagination}}):e._e()],{to:e.slideTo}),e._v(" "),e._t("navigation",[e.showNavigation?n("Navigation",e._b({},"Navigation",e.navigationProps,!1)):e._e()],{next:e.slideToNext,prev:e.slideToPrev})],2)}),[],!1,(function(e){this.$style=S.default.locals||S.default}),null,null);t.a=O.exports},c6d334:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n("e245b5"),o=n("957094"),c=function(){return(c=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},l={isEmpty:function(e){return r.a.isEmpty(e)}},d=c({},l,{tooLong:function(e){var t=o.a.password.maxLength;return r.a.tooLong(e,{maxValue:t})},tooShort:function(e){var t=o.a.password.minLength;return r.a.tooShort(e,{minValue:t})}})},c6e557:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return c})),n.d(t,"mutations",(function(){return l})),n.d(t,"getters",(function(){return d})),n.d(t,"actions",(function(){return f}));n("f8695b"),n("41d819"),n("aae158");var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},o=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},c=function(){return{}},l={},d={},f={UPDATE_VALUE:function(e,t){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.$api.communications.update.post(t)];case 1:return e.sent(),[2]}}))}))}}},c894ec:function(e,t,n){"use strict";var r=n("6763d1"),o=n.n(r);t.default=o.a},c8b03d:function(e,t,n){"use strict";var r=n("4a43b6"),o=n.n(r);t.default=o.a},c8f083:function(e,t,n){e.exports={productsWrapper:"_1f62f0",modMobile:"_2da2a1",products:"be0803",moreButton:"_4f0e16",":hover":"b02b57",":focus":"c9dddc",blink:"_648a97"}},c95bce:function(e,t,n){"use strict";var r={name:"HeaderCategoryLinks",components:{LinksStub:n("17e9e6").a},props:{items:{type:Array,default:function(){return[]}},showActions:{type:Boolean,default:!1},widgetName:{type:String,default:""}},data:function(){return{allItem:{id:"all-actions",title:"Все акции",link:"/context/actions/"}}},computed:{mergeItems:function(){return this.showActions?[this.allItem].concat(this.items):this.items}}},o=(n("1739ae"),n("b429cb")),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.mergeItems.length?n("ul",{staticClass:"links"},e._l(e.mergeItems,(function(t,r){return n("li",{key:r,staticClass:"links-item"},[n("LinksStub",{directives:[{name:"qa",rawName:"v-qa",value:{id:"header-navigation-link",categoryId:t.id,categoryName:t.name},expression:"{id:'header-navigation-link', categoryId: item.id, categoryName: item.name}"}],staticClass:"link",attrs:{href:t.link},on:{click:function(n){return e.$emit("clickOnItem",{cell:t.cellTrackingInfo})}}},[t.icon?n("span",{staticClass:"container",style:{backgroundImage:"url('"+t.icon+"')"}}):e._e(),e._v("\n      "+e._s(t.title)+"\n    ")])],1)})),0):e._e()}),[],!1,null,"205afcaf",null);t.a=component.exports},c9f5df:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return E})),n.d(t,"mutations",(function(){return _})),n.d(t,"actions",(function(){return S}));n("f8695b"),n("41d819"),n("aae158");var r=n("ed745a"),o=n("ff287e"),c=n.n(o),l=n("a1cf5d"),d=n.n(l),f=n("bbfe95"),h=n("7fe460"),m=function(){return(m=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},v=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},y=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},E=function(){return{itemsHash:{},priceItemsHash:{},subscriptionItem:{},subscriptionTrackerEvent:{},email:""}},_={setItemsHash:function(e,t){void 0===t&&(t={}),e.itemsHash=t},setPriceItemsHash:function(e,t){void 0===t&&(t={}),e.priceItemsHash=t},changeItemHash:function(e,t){var n=t.id,o=t.value;r.default.set(e.itemsHash,n,o)},changePriceItemHash:function(e,t){var n=t.id,o=t.value;r.default.set(e.priceItemsHash,n,o)},setSubscriptionItem:function(e,t){void 0===t&&(t={}),e.subscriptionItem=t},setSubscriptionTrackerEvent:function(e,t){void 0===t&&(t={}),e.subscriptionTrackerEvent=t},setEmail:function(e,t){void 0===t&&(t=""),e.email=t}},S={GET_ALL:function(e){var t=e.commit;return v(this,void 0,void 0,(function(){var e,n,r;return y(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.$api.subscription.items.all.get()];case 1:return e=o.sent(),n={},Array.isArray(e.data)&&(n=e.data.reduce((function(e,t){return e[t.id]=!0,e}),{})),t("setItemsHash",n),[3,3];case 2:return r=o.sent(),this.$logger.error({message:f.w.FETCH,exception:r}),[3,3];case 3:return[2]}}))}))},GET_ALL_PRICE:function(e){var t=e.commit;return v(this,void 0,void 0,(function(){var e,n,r;return y(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.$api.subscriptionPrice.subscriptions.get()];case 1:return e=o.sent(),n={},Array.isArray(e.subscriptions)&&(n=e.subscriptions.reduce((function(e,t){return e[t.sku]=!0,e}),{})),t("setPriceItemsHash",n),[3,3];case 2:return r=o.sent(),this.$logger.error({message:f.w.FETCH,exception:r}),[3,3];case 3:return[2]}}))}))},ADD:function(e,t){var n=e.commit,r=t.sku;return v(this,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.$api.subscription.item.post(r)];case 1:return t.sent(),n("changeItemHash",{id:r,value:!0}),[3,3];case 2:return e=t.sent(),this.$logger.error({message:f.w.ADD,exception:e}),[3,3];case 3:return[2]}}))}))},ITEM_ADD_EMAIL:function(e,t){var n=e.rootState,r=e.state,o=e.commit,l=t.email;return v(this,void 0,void 0,(function(){var e,t,d,h,m,v,E;return y(this,(function(y){switch(y.label){case 0:return y.trys.push([0,4,,5]),e=r.subscriptionItem,t=void 0===e?{}:e,d=r.subscriptionTrackerEvent,h=void 0===d?{}:d,m=c()(n,"favorites.itemsHash",{}),v=m[t.sku],[4,this.$api.subscription.emails.post({id:t.sku,email:l})];case 1:return y.sent(),o("changeItemHash",{id:t.sku,value:!0}),this.$analytics.send("subscription/availOn",{GAEvent:{itemId:t.sku},trackerEvent:h}),v?[3,3]:[4,this.dispatch("favorites/ADD_FAV",{itemId:t.sku})];case 2:y.sent(),this.$analytics.send("favorites/add",{GAEvent:{itemId:t.sku},trackerEvent:h}),y.label=3;case 3:return[3,5];case 4:return E=y.sent(),this.$logger.error({message:f.w.ADD,exception:E}),[3,5];case 5:return[2]}}))}))},PRICE_ADD_EMAIL:function(e,t){var n=e.rootState,r=e.state,o=e.commit,l=t.email;return v(this,void 0,void 0,(function(){var e,t,d,h,v,E,_;return y(this,(function(y){switch(y.label){case 0:return y.trys.push([0,4,,5]),e=r.subscriptionItem,t=void 0===e?{}:e,d=r.subscriptionTrackerEvent,h=void 0===d?{}:d,v=c()(n,"favorites.itemsHash",{}),E=v[t.sku],[4,this.$api.subscriptionPrice.subscribe.post(m({sku:t.sku,currentPrice:t.currentPrice},l?{email:l}:{}))];case 1:return y.sent(),o("changePriceItemHash",{id:t.sku,value:!0}),this.$analytics.send("subscription/priceOn",{trackerEvent:h}),E?[3,3]:[4,this.dispatch("favorites/ADD_FAV",{itemId:t.sku})];case 2:y.sent(),this.$analytics.send("favorites/add",{GAEvent:{itemId:t.sku},trackerEvent:h}),y.label=3;case 3:return[3,5];case 4:return _=y.sent(),this.$logger.error({message:f.w.ADD,exception:_}),[3,5];case 5:return[2]}}))}))},PRICE_ADD:function(e,t){var n=e.commit,r=t.currentPrice,o=t.sku;return v(this,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.$api.subscriptionPrice.subscribe.post({currentPrice:r,sku:o})];case 1:return t.sent(),n("changePriceItemHash",{id:o,value:!0}),[3,3];case 2:return e=t.sent(),this.$logger.error({message:f.w.ADD,exception:e}),[3,3];case 3:return[2]}}))}))},REMOVE:function(e,t){var n=e.commit,r=t.sku;return v(this,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.$api.subscription.item.delete(r)];case 1:return t.sent(),n("changeItemHash",{id:r,value:!1}),[3,3];case 2:return e=t.sent(),this.$logger.error({message:f.w.REMOVE,exception:e}),[3,3];case 3:return[2]}}))}))},PRICE_REMOVE:function(e){var t=e.state,n=e.commit;return v(this,void 0,void 0,(function(){var e,r,o,c,l;return y(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),e=t.subscriptionItem,r=void 0===e?{}:e,o=t.subscriptionTrackerEvent,c=void 0===o?{}:o,[4,this.$api.subscriptionPrice.unsubscribe.post({sku:r.sku})];case 1:return d.sent(),n("changePriceItemHash",{id:r.sku,value:!1}),this.$analytics.send("subscription/priceOff",{trackerEvent:c}),[3,3];case 2:return l=d.sent(),this.$logger.error({message:f.w.REMOVE,exception:l}),[3,3];case 3:return[2]}}))}))},REMOVE_ALL:function(e,t){var n=e.commit,r=t.sku;return v(this,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.$api.subscriptionPrice.unsubscribeAll.post({sku:r})];case 1:return t.sent(),n("changePriceItemHash",{id:r,value:!1}),n("changeItemHash",{id:r,value:!1}),[3,3];case 2:return e=t.sent(),this.$logger.error({message:f.w.REMOVE,exception:e}),[3,3];case 3:return[2]}}))}))},SET_SUBSCRIPTION_DATA:function(e,t){var n=e.commit,r=t.item,o=void 0===r?{}:r,c=t.event,l=void 0===c?{}:c;n("setSubscriptionItem",o),n("setSubscriptionTrackerEvent",l)},GET_EMAIL:function(e){var t=e.commit,n=e.rootState;return v(this,void 0,void 0,(function(){var e,r,o,l,h,m;return y(this,(function(v){switch(v.label){case 0:return v.trys.push([0,2,,3]),(e=c()(n,"userInfo.user.email",""))?(t("setEmail",e),[2]):[4,this.$api.subscriptionPrice.emails.get()];case 1:return r=v.sent(),o=r.emails,d()(o)?[2]:(l=o.filter((function(e){return e.isConfirmed})),h=d()(l)?o[0].email:l[0].email,t("setEmail",h),[3,3]);case 2:return m=v.sent(),this.$logger.error({message:f.w.GET_EMAIL,exception:m}),[3,3];case 3:return[2]}}))}))},SUBSCRIBE_ITEM_CHANGE:function(e,t){var n=e.dispatch,r=e.rootState,o=t.item,l=void 0===o?{}:o,d=t.action,f=t.isSubscribe,m=t.isPriceSubscribe,E=t.trackerEvent,_=t.sendEvent,S=void 0===_||_;return v(this,void 0,void 0,(function(){var e,t,o,v;return y(this,(function(y){switch(y.label){case 0:return e=c()(r,"userInfo.user.isLoggedIn",!1),t=c()(r,"favorites.itemsHash",{}),o=t[l.sku],e&&f?[4,n(d,l)]:[3,4];case 1:return y.sent(),S&&this.$analytics.send("subscription/"+(m?"priceOn":"availOn"),{GAEvent:{itemId:l.sku},trackerEvent:E}),o?[3,3]:[4,this.dispatch("favorites/ADD_FAV",{itemId:l.sku})];case 2:y.sent(),this.$analytics.lastShopShelf=Object(h.b)(location.href),S&&this.$analytics.send("favorites/add",{GAEvent:{itemId:l.sku},trackerEvent:E}),y.label=3;case 3:return[3,8];case 4:return f?[4,n("GET_EMAIL")]:[3,6];case 5:return y.sent(),n("SET_SUBSCRIPTION_DATA",{item:l,event:E}),this.dispatch("subscriptionModal/TOGGLE_NOT_AUTH_USER_"+(m?"PRICE":"ITEM")+"_MODAL",!0),[3,8];case 6:return f?[3,8]:[4,n(d,l)];case 7:y.sent(),v="unsubscribe",void 0!==m&&(v=m?"priceOff":"availOff"),S&&this.$analytics.send("subscription/"+v,{GAEvent:{itemId:l.sku},trackerEvent:E}),y.label=8;case 8:return[2]}}))}))},SUBSCRIBE_ITEMS_TO_ALL:function(e,t){var n=e.commit,r=t.skus;return v(this,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.$api.favoritesLists.subscribeAll.post({skus:r})];case 1:return t.sent(),r.forEach((function(e){n("changeItemHash",{id:e,value:!0}),n("changePriceItemHash",{id:e,value:!0})})),[3,3];case 2:return e=t.sent(),this.$logger.error({message:f.w.ADD,exception:e}),[3,3];case 3:return[2]}}))}))},UNSUBSCRIBE_ITEMS_TO_ALL:function(e,t){var n=e.commit,r=t.skus;return v(this,void 0,void 0,(function(){var e;return y(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.$api.favoritesLists.unsubscribeAll.post({skus:r})];case 1:return t.sent(),r.forEach((function(e){n("changeItemHash",{id:e,value:!1}),n("changePriceItemHash",{id:e,value:!1})})),[3,3];case 2:return e=t.sent(),this.$logger.error({message:f.w.REMOVE,exception:e}),[3,3];case 3:return[2]}}))}))}}},ca096a:function(e,t,n){},ca7816:function(e,t,n){var map={"./amex.png":"cc9671","./jcb.png":"a5149e","./mastercard.png":"caca74","./mir.png":"579d3d","./visa.png":"d883ea"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=o,e.exports=r,r.id="ca7816"},caca74:function(e,t,n){e.exports=n.p+"img/5774e72.png"},caf5a3:function(e,t,n){e.exports={link:"_8ffd2c",dark:"_5d6c86",":hover":"_2a19da",light:"_453461",blink:"c764d8"}},cb0edf:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return{"gtm.star":Date.now(),event:"gtm.js"}}},cb4790:function(e,t,n){e.exports={"user-profile":"f3da5a","focus-none":"_0cb21f",icon:"_8f8823",pic:"d92c59",bellIcon:"_85738f",blink:"cffe6e"}},cbe1db:function(e,t,n){"use strict";var r=n("9a8f26");n.n(r).a},cc9671:function(e,t,n){e.exports=n.p+"img/3e8582c.png"},ccdad1:function(e,t,n){e.exports={pic:"_0859ac",blink:"_8e24a4"}},cd9ebb:function(e,t,n){},ceb02e:function(e,t,n){"use strict";n.r(t);n("cb1771"),n("c08bb9"),n("340dbd"),n("e28425"),n("497371"),n("393231"),n("f8695b"),n("41d819"),n("aae158");var r=n("bbfe95"),o=n("ff287e"),c=n.n(o),l=n("7fe460"),d=n("0c80ec");function f(e){var t,n=e.item,r=e.forCheckout,o=void 0!==r&&r,c=n.price||{},f=c.price,h=void 0===f?0:f,m=c.discount,v=void 0===m?0:m,y=n.feedback||{},E=y.rating,_=void 0===E?0:E,S=y.commentsCount,O=void 0===S?0:S,T=n.availability&&n.availability[0]||{},I=T.availabilityDate,w=void 0===I?"":I,C=T.availabilityType,k=void 0===C?"":C,P=T.freeRest,R=void 0===P?0:P,x=T.prereleaseDate,A=void 0===x?"":x,L=T.warehouseId,D=void 0===L?0:L,$=w&&Object(d.h)(new Date(w))||A&&Object(d.h)(new Date(A)),M=o?n.seller&&n.seller.id:n.sellerInfo&&n.sellerInfo.marketplaceSellerId;return Array.isArray(n.relations)&&n.relations.forEach((function(e){"Brand"===e.name&&(t=e.entities&&e.entities.length&&e.entities[0].name)})),{name:n.info&&n.info.name,id:n.id,price:h,quantity:n.quantity,brand:t||"",list:""+Object(l.b)(location.href),dimension12:M,dimension98:Math.min(5,R),dimension132:$,dimension112:k,dimension113:_,dimension141:v,dimension145:D,dimension93:O}}var h,m=n("6455b7"),v=n("0e4782"),y=n("667e87");!function(e){e.PROCEED_TO_CHECKOUT="proceedToCheckout"}(h||(h={}));var E=n("362c4b"),_=n("39f766");n.d(t,"state",(function(){return I})),n.d(t,"mutations",(function(){return w})),n.d(t,"getters",(function(){return C})),n.d(t,"actions",(function(){return k}));var S=function(){return(S=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},O=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},T=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},I=function(){return{type:"",items:[],products:[],orderInfo:null,subscribeToNews:!0,hasServiceError:!1,errors:[],orderError:null,messages:[],formPromises:[],isOrderInProgress:!1,isCredit:!1,isCreateOrderPaused:!1,marketingInfo:[],isSubscription:!1,banners:null,isUserDataReady:!1,specialFlags:[],swiftGiftId:null}},w={setType:function(e,t){e.type=t},setItems:function(e,t){e.items=t},setProducts:function(e,t){e.products=t},setSubscribeToNews:function(e,t){e.subscribeToNews=t},setOrderInfo:function(e,t){e.orderInfo=t},setHasServiceError:function(e,t){e.hasServiceError=t},setErrors:function(e,t){e.errors=t},setOrderError:function(e,t){e.orderError=t},setMessages:function(e,t){e.messages=t},addFormPromise:function(e,t){e.formPromises.push(t)},setIsOrderInProgress:function(e,t){e.isOrderInProgress=t},setIsCredit:function(e,t){e.isCredit=t},setIsCreateOrderPaused:function(e,t){e.isCreateOrderPaused=t},setMarketingInfo:function(e,t){e.marketingInfo=t},setIsSubscription:function(e,t){e.isSubscription=t},setBanners:function(e,t){e.banners=t},setIsUserDataReady:function(e,t){e.isUserDataReady=t},setSpecialFlags:function(e,t){e.specialFlags=t},setSwiftGiftId:function(e,t){e.swiftGiftId=t}},C={isDigital:function(e){return e.type===r.g.TYPES.DIGITAL},legalUser:function(e,t,n){return n.userInfo.user.userType===r.A.TYPES.LEGAL},collectFields:function(e,t){return function(n){if(e.form.fields){var r={},o={address:e.delivery.activeDeliveryType?t["delivery/addressMappings"]:t["form/address/mappings"],receiver:t["form/receiver/mappings"],user:t["form/user/mappings"]},c=S({},o.address,o.receiver,o.user);if(n){if(!o[n])return{};for(var l in e.form.fields)o[n][l]&&(r[l]=o[n][l])}else for(var l in e.form.fields)r[l]=c[l];return S({},r)}}},payprops:function(e,t){var n=t.legalUser,r=e.form.payprops;if(n&&r){var o={},c=S({},t["form/legal/mappings"]);for(var l in r)o[l]=c[l];return o}},isOrderFormValid:function(e){return e.form.isOrderFormValid},isPhoneValid:function(e,t){return t["form/user/isPhoneValid"]},isAuthValid:function(e,t){var n=t["form/user/isPhoneVerifiedForOrder"],r=t["form/user/isPhoneValid"],o=t["form/receiver/isPhoneValid"],c=e.form.user.isLoginExists;return Boolean(n&&r&&o&&!c)},isFullFormValid:function(e,t){var n=e.total.readyForOrder,r=t.isOrderFormValid,o=t.isAuthValid;return n&&r&&o},deliveryToDoorFlag:function(e){return e.specialFlags?e.specialFlags.find((function(e){return"DoorDeliverySupport"===e.id})):null},summary:function(e,t,n){var r,o,l,d=n.location.current.areaId,f=e.items.map((function(e){return{id:e.id,quantity:e.quantity}})),h=t["packages/splitGroups"],v=c()(e,"delivery.activeDeliveryType.id"),y=t["packages/deliveryMethodIds"],E=c()(e,"payment.paymentMethodId"),_=c()(e,"payment.userSavedCardToken"),S=t.legalUser,O=t.collectFields(),T=S?t["form/legal/mappings"]:void 0,I=t["payment/balanceAmount"],w=t["payment/pointsAmount"],C={isMobileSite:Object(m.a)(n)},k=!!t.deliveryToDoorFlag&&t.deliveryToDoorFlag.active,P=c()(e,"swiftGiftId")||void 0,R=e.subscribeToNews;return t["delivery/isServiceActiveDeliveryType"]&&(r=c()(e,"delivery.addressInfo.addressUid")||void 0,o=c()(e,"delivery.addressInfo.fiasId")||null,l=c()(e,"delivery.addressInfo.coordinates")||null),{addressUid:r,areaId:d,items:f,splitGroups:h,fiasId:o,deliveryTypeId:v,deliveryMethodIds:y,paymentMethodId:E,userSavedCardToken:_,legalUser:S,collectFields:O,payProps:T,balanceAmount:I,pointsAmount:w,geoCoordinate:l,tags:C,loanRequest:e.isCredit?{enabled:!0}:void 0,deliveryToDoor:k,isSubscription:R,swiftGiftId:P}}},k={INIT_CART_ITEMS:function(e){var t=e.commit,n=e.dispatch;return O(this,void 0,void 0,(function(){var e,o,c,l;return T(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,this.$api.checkout.startUpCheckout.get()];case 1:return e=d.sent(),o=e.items,c=e.isCredit,t("setItems",o),t("setIsCredit",c),[3,3];case 2:return l=d.sent(),Object(E.a)(this.$logger,l,r.h.ERROR_GET_CART_ITEMS),n("SET_HAS_SERVICE_ERROR",!0),[3,3];case 3:return[2]}}))}))},GET_CHECKOUT:function(e,t){var n=e.getters,r=e.rootState,o=void 0===t?{scope:[],options:{}}:t,c=o.scope,l=o.options;return O(this,void 0,void 0,(function(){var e,t,o,d,f,h,m,v,y,E,_,O,I,w,C,k,P,R;return T(this,(function(T){switch(T.label){case 0:e=n.summary,t=e.areaId,o=e.balanceAmount,d=e.deliveryTypeId,f=e.fiasId,h=e.geoCoordinate,m=e.items,v=void 0===m?[]:m,y=e.legalUser,E=e.loanRequest,_=e.paymentMethodId,O=e.userSavedCardToken,I=e.pointsAmount,w=e.splitGroups,C=e.deliveryToDoor,k=Boolean(r.experiments.experiments["web.checkoutAddressBook"]),l=S({useAddressBook:k},l),P=r.browser.isMobile,R=S({areaId:t,balanceAmount:o,deliveryTypeId:d,fiasId:f,geoCoordinate:h,items:v,legalUser:y,loanRequest:E,paymentMethodId:_,userSavedCardToken:O,pointsAmount:I,scope:c,splitGroups:w,deliveryToDoor:C,isMobile:P},l),T.label=1;case 1:return T.trys.push([1,3,,4]),[4,this.$api.checkout.checkout.post(R)];case 2:return[2,T.sent()];case 3:throw T.sent();case 4:return[2]}}))}))},SET_PAGE_QUERY_PARAMS:function(e,t){var n=e.commit,r=(void 0===t?{}:t).swiftGiftId;n("setSwiftGiftId",Number(r))},SET_CHECKOUT:function(e,t){var n=e.state,o=e.dispatch,l=e.rootState,d=t.data,f=d.addressBook,h=d.checkout,m=d.delivery,v=d.deliveryMethods,y=d.payment,E=t.errors;return O(this,void 0,void 0,(function(){var e;return T(this,(function(t){switch(t.label){case 0:return o("SET_TYPE",h.type||r.g.TYPES.REGULAR),o("packages/SET_GROUPS",h.groups),o("total/SET_TOTAL",h.total),o("SET_MARKETING_INFO",h.total.marketingInfo),o("SET_MARKETING_DETAILS",h.total.marketingDetails),o("SET_MARKETING_DETAILS_SCORE",h.total.marketingDetailsScore),o("SET_CHECKOUT_ERRORS",E),o("SET_MESSAGES",h.messages),o("SET_IS_SUBSCRIPTION",h.isSubscription),o("SET_BANNERS",h.banners),o("SET_SPECIAL_FLAGS",h.specialFlags),o("delivery/SET_DELIVERY_TYPES",m),o("delivery/SET_ACTIVE_DELIVERY_TYPE",h.deliveryTypeId),o("delivery/SET_POINT_INFO",h.selectedPickupPointInfo),o("delivery/SET_DELIVERY_METHODS",v),o("delivery/SET_OZON_PREMIUM",m.hasOzonPremium),o("delivery/SET_DELIVERY_TYPE_UNAVAILABLE_TEXT",m.deliveryTypeUnavailableText),l.experiments.experiments["web.checkoutAddressBook"]?[4,o("form/RESTORE_ADDRESS_FROM_ADDRESS_BOOK",f)]:[3,2];case 1:return t.sent(),[3,3];case 2:o("form/address/SET_FIAS_ID",h.fiasId),o("form/address/SET_COORDINATES",h.geoCoordinate),e=n.form.address.data,o("delivery/SET_ADDRESS_INFO",e),t.label=3;case 3:return o("payment/SET_DISCOUNT_CODE_AVAILABLE",c()(h,"discountCode.discountCodeAvailable")),o("payment/SET_PAYMENT_METHODS",y),o("payment/SET_PAYMENT_METHOD_ID",h.paymentMethodId),o("payment/SET_USER_SAVED_CARD_TOKEN",h.userSavedCardToken),o("payment/SET_POINTS",h.points),o("payment/SET_BALANCE",h.balance),[4,o("packages/SET_ACTIVE_DELIVERY_METHODS",{groups:h.groups,areaId:h.areaId})];case 4:return t.sent(),o("UPGRADE_ITEMS_DATA"),[2]}}))}))},UPDATE_CHECKOUT:function(e,t){var n=e.dispatch,r=void 0===t?{scope:[],options:{}}:t,o=r.scope,c=r.options;return O(this,void 0,void 0,(function(){var e;return T(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,n("GET_CHECKOUT",{scope:o,options:c})];case 1:return e=t.sent(),[4,n("SET_CHECKOUT",e)];case 2:return t.sent(),[2,e];case 3:throw t.sent();case 4:return[2]}}))}))},INIT_CHECKOUT:function(e,t){var n=e.state,o=e.getters,l=e.dispatch,d=e.rootState,f=(void 0===t?{}:t).mergeGroup;return O(this,void 0,void 0,(function(){var e,t,m,_,S,O,I,w,C,address,k;return T(this,(function(T){switch(T.label){case 0:return T.trys.push([0,13,,14]),[4,l("form/user/RESTORE_USER_INFO")];case 1:return T.sent(),l("SET_IS_USER_DATA_READY",!0),d.experiments.experiments["web.checkoutAddressBook"]||l("delivery/REFRESH_PREVIOUS_ADDRESSES"),l("form/address/RESET_FORM"),e=o.summary,t=e.items,m=e.splitGroups,t&&t.length?(l("delivery/RESET_DELIVERY"),l("payment/RESET_PAYMENT"),_=Object(y.b)(h.PROCEED_TO_CHECKOUT),S=new Date((new Date).getTime()-1),_&&Object(y.d)(h.PROCEED_TO_CHECKOUT,"",{expires:S}),[4,l("UPDATE_CHECKOUT",{scope:[v.SCOPE.DELIVERY,v.SCOPE.DELIVERY_METHODS,v.SCOPE.DELIVERY_INFO,v.SCOPE.PAYMENT],options:{splitGroups:f?m:void 0,mergeGroup:f,userAction:_?r.g.USER_ACTIONS.INIT_CHECKOUT:void 0}})]):(this.$logger.error({message:r.h.ERROR_EMPTY_CHECKOUT}),[2,!1]);case 2:return O=T.sent(),(I=n.delivery.nextDeliveryType)?(w=void 0,(C=n.delivery.deliveryTypes)&&C.length&&(w=C.find((function(e){return e.id===I.id}))||C[0]),w?[4,l("SELECT_DELIVERY_TYPE",w)]:[3,4]):[3,4];case 3:T.sent(),T.label=4;case 4:return[4,l("form/COLLECT_FIELDS",{isPreviewMode:Boolean(I)})];case 5:return T.sent(),[4,l("form/receiver/RESET_RECEIVER")];case 6:return T.sent(),d.experiments.experiments["web.checkoutAddressBook"]?d.userInfo.user.isLoggedIn?[3,8]:(address=c()(O,"data.addressBook.currentAddress"),[4,l("form/INIT_ADDRESS_FORM_DATA",{fields:address&&address.fields,fiasId:address&&address.fiasId,geoCoordinate:address&&address.geoCoordinate,addressUid:address&&address.addressUid,area:address&&address.area})]):[3,9];case 7:T.sent(),T.label=8;case 8:return[3,11];case 9:return[4,l("form/RESTORE_ADDRESS_FROM_STORAGE",O)];case 10:T.sent(),T.label=11;case 11:return[4,l("form/RESTORE_DATA_FROM_STORAGE",O)];case 12:return T.sent(),[3,14];case 13:return k=T.sent(),Object(E.a)(this.$logger,k,r.h.ERROR_INIT_CHECKOUT),l("SET_HAS_SERVICE_ERROR",!0),[3,14];case 14:return[2]}}))}))},SET_TYPE:function(e,t){(0,e.commit)("setType",t)},UPGRADE_ITEMS_DATA:function(e){var t=e.state,n=e.commit,r=e.dispatch,o=t.packages.groups,c=t.items.slice();o.forEach((function(e){e.splits.forEach((function(e){e.items.forEach((function(e){c.forEach((function(t,n){t.id===e.id&&(c[n]=S({},e))}))}))}))})),n("setItems",c),r("SET_PRODUCTS")},SET_PRODUCTS:function(e){var t=e.state;(0,e.commit)("setProducts",t.items.map((function(e){return f({item:e,forCheckout:!0})})))},SELECT_DELIVERY_TYPE:function(e,t){var n=e.dispatch,o=e.getters,l=e.rootState,d=e.state;return O(this,void 0,void 0,(function(){var e,f,h,m,y,_,S,O,I,w;return T(this,(function(T){switch(T.label){case 0:return T.trys.push([0,7,,8]),n("delivery/SET_NEXT_DELIVERY_TYPE",t),n("delivery/SET_NEXT_DELIVERY_METHODS",[]),e=t?t.id:null,o["delivery/isPickupNextDeliveryType"]||!l.experiments.experiments["web.checkoutAddressBook"]?[3,2]:[4,n("addressBook/GET_ADDRESS_LIST")];case 1:T.sent(),T.label=2;case 2:return n("delivery_map/SET_VISIBLE",t?t.deliverySchema:""),o["delivery/isPickupNextDeliveryType"]?[4,n("GET_CHECKOUT",{scope:[v.SCOPE.DELIVERY,v.SCOPE.DELIVERY_METHODS,v.SCOPE.DELIVERY_INFO,v.SCOPE.PAYMENT],options:{deliveryTypeId:e,rewriteStorage:!1}})]:[3,4];case 3:return f=T.sent(),h=f.data,m=h.checkout,y=h.deliveryMethods,_=f.errors,n("delivery/SET_PREVIOUS_PICKUP_ADDRESSES",{deliveryMethods:y}),n("delivery/SET_NEXT_DELIVERY_METHODS",y||[]),n("packages/SET_NEXT_GROUPS",m.groups),n("SET_CHECKOUT_ERRORS",_),[3,6];case 4:return(S=d.addressBook.addressList)&&S.length?[3,6]:[4,n("form/COLLECT_FIELDS",{isPreviewMode:!0})];case 5:T.sent(),T.label=6;case 6:return t&&(O=o["delivery/isPickupNextDeliveryType"]?"PVZ":"courier",I=c()(d,"delivery.nextDeliveryMethods")||[],this.$analytics.send("checkout/modalView",{GAEvent:{modalType:O,region:l.location.current.name,quantityPVZ:o["delivery/isPickupNextDeliveryType"]?I.length:void 0}})),[3,8];case 7:return w=T.sent(),Object(E.a)(this.$logger,w,r.h.ERROR_SELECT_DELIVERY_TYPE),n("SET_HAS_SERVICE_ERROR",!0),[3,8];case 8:return[2]}}))}))},SUBMIT_COURIER_MAP:function(e,t){var n=e.dispatch,o=e.state,l=e.rootState,d=e.getters;return O(this,void 0,void 0,(function(){var address,e,f,h,m,y,_,S,O,I,w;return T(this,(function(T){switch(T.label){case 0:return T.trys.push([0,9,,10]),[4,Promise.all(o.formPromises)];case 1:return T.sent(),[4,n("form/TOGGLE_ADDRESS_FORM_VALIDATION")];case 2:return T.sent(),o.form.isAddressFormValid?(address=o.form.address.data,e=d.summary.deliveryTypeId,f=c()(o,"delivery.nextDeliveryType.id"),h=c()(address,"russianAddress.data.area.areaId")||c()(o,"form.address.editableAddressLocation.areaId"),m=l.location.current.areaId,n("delivery/SET_ACTIVE_DELIVERY_TYPE",f),n("delivery/SET_ADDRESS_INFO",address),e!==f&&n("packages/SET_DELIVERY_METHOD",{deliveryMethodId:void 0}),y=d.collectFields("address"),l.experiments.experiments["web.checkoutAddressBook"]?[4,n("form/SAVE_ADDRESS_TO_ADDRESS_BOOK",{areaId:h||m,fields:y,id:t})]:[3,4]):[3,8];case 3:T.sent(),T.label=4;case 4:return _=h&&h!==m,S=d.summary,O=S.fiasId,I=S.splitGroups,[4,n("UPDATE_CHECKOUT",{scope:[v.SCOPE.DELIVERY,v.SCOPE.DELIVERY_METHODS,v.SCOPE.DELIVERY_INFO,v.SCOPE.PAYMENT],options:{deliveryTypeId:f,areaId:h||m,fiasId:O,rewriteStorage:!0,userAction:r.g.USER_ACTIONS.DELIVERY_CHANGE,splitGroups:_?void 0:I}})];case 5:return T.sent(),this.$analytics.send("checkout/selectAddress",{trackerEvent:{widget:"checkout-widget",delivery_type:c()(l,"checkout.delivery.nextDeliveryType.deliverySchema"),region_id:h||m,address_uid:Boolean(c()(address,"addressUid")),country_id:c()(address,"countrySelector.attributes.uid")}}),n("delivery/RESET_NEXT_DELIVERY"),l.experiments.experiments["web.checkoutAddressBook"]?[3,7]:[4,n("form/SAVE_DATA_TO_STORAGE",{type:"address",data:y,areaId:h||m})];case 6:T.sent(),T.label=7;case 7:return _&&n("location/CHANGE_LOCATION",{areaId:h},{root:!0}),[2,!0];case 8:return[2,!1];case 9:return w=T.sent(),Object(E.a)(this.$logger,w,r.h.ERROR_SUBMIT_SERVICE_MAP),n("SET_HAS_SERVICE_ERROR",!0),[3,10];case 10:return[2]}}))}))},SUBMIT_DELIVERY_POINT:function(e,t){var n=e.state,o=e.dispatch;return O(this,void 0,void 0,(function(){var e,l,d;return T(this,(function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),e=c()(n,"delivery.nextDeliveryType.id"),l=n.delivery.nextDeliveryMethods?n.delivery.nextDeliveryMethods.slice():null,o("delivery/SET_ACTIVE_DELIVERY_TYPE",e),o("delivery/SET_DELIVERY_METHODS",l),o("packages/SET_DELIVERY_METHOD",{deliveryMethodId:t.id,isUserAction:!0}),[4,o("UPDATE_CHECKOUT",{scope:v.SCOPE_SETS.PICKUP,options:{userAction:r.g.USER_ACTIONS.DELIVERY_CHANGE}})];case 1:return f.sent(),o("delivery/RESET_NEXT_DELIVERY"),[4,o("form/COLLECT_FIELDS")];case 2:return f.sent(),[3,4];case 3:return d=f.sent(),Object(E.a)(this.$logger,d,r.h.ERROR_SUBMIT_PICKPOINT_MAP),o("SET_HAS_SERVICE_ERROR",!0),[3,4];case 4:return[2]}}))}))},SELECT_DELIVERY_METHOD:function(e,t){var n=e.dispatch,o=t.splitKey,c=t.deliveryMethodId,l=t.timeSlotId;return O(this,void 0,void 0,(function(){var e,t;return T(this,(function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),n("packages/SET_DELIVERY_METHOD",{splitKey:o,deliveryMethodId:c,timeSlotId:l,isUserAction:!0}),e=l?void 0:r.g.USER_ACTIONS.DELIVERY_CHANGE,[4,n("UPDATE_CHECKOUT",{scope:v.SCOPE_SETS.SERVICE,options:{userAction:e}})];case 1:return d.sent(),[4,n("form/COLLECT_FIELDS")];case 2:return d.sent(),[3,4];case 3:return t=d.sent(),Object(E.a)(this.$logger,t,r.h.ERROR_SELECT_DELIVERY_METHOD),n("SET_HAS_SERVICE_ERROR",!0),[3,4];case 4:return[2]}}))}))},SELECT_TIME_SLOT:function(e,t){var n=e.dispatch,o=t.splitKey,c=t.deliveryMethodId,l=t.timeSlotId;return O(this,void 0,void 0,(function(){var e,t;return T(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),n("packages/SET_DELIVERY_METHOD",{splitKey:o,deliveryMethodId:c,timeSlotId:l,isUserAction:!0}),e=l?void 0:r.g.USER_ACTIONS.DELIVERY_CHANGE,[4,n("UPDATE_CHECKOUT",{scope:v.SCOPE_SETS.SERVICE,options:{userAction:e}})];case 1:return d.sent(),[3,3];case 2:return t=d.sent(),Object(E.a)(this.$logger,t,r.h.ERROR_SELECT_TIME_SLOT),n("SET_HAS_SERVICE_ERROR",!0),[3,3];case 3:return[2]}}))}))},SELECT_PAYMENT_METHOD:function(e,t){var n=e.state,o=e.dispatch,l=e.getters;return O(this,void 0,void 0,(function(){var e,d,f;return T(this,(function(h){switch(h.label){case 0:e=t.id,d=c()(t,"savedCardInfo.cardToken"),this.$analytics.send("checkout/changeCheckoutOptions",{GAEvent:{action:"ChangePaymentType",oldValue:n.payment.paymentMethodId,newValue:e}}),h.label=1;case 1:return h.trys.push([1,3,,4]),o("payment/SET_PAYMENT_METHOD_ID",e),o("payment/SET_USER_SAVED_CARD_TOKEN",d),[4,o("UPDATE_CHECKOUT",{scope:l["delivery/isPickup"]?v.SCOPE_SETS.PICKUP:v.SCOPE_SETS.SERVICE})];case 2:return h.sent(),[3,4];case 3:return f=h.sent(),Object(E.a)(this.$logger,f,r.h.ERROR_SELECT_PAYMENT_METHOD),o("SET_HAS_SERVICE_ERROR",!0),[2];case 4:return[4,o("packages/GET_ALL_TIME_SLOTS")];case 5:return h.sent(),[2]}}))}))},CREATE_ORDER:function(e){var t=e.getters,n=e.dispatch,o=e.state,l=e.commit;return O(this,void 0,void 0,(function(){var e,d,f,summary,h,m,y,_,O,I,w,C,k,P,R,x,A,L,D,$;return T(this,(function(T){switch(T.label){case 0:return T.trys.push([0,21,22,23]),o.isOrderInProgress?[2]:[4,Promise.all(o.formPromises)];case 1:return T.sent(),n("SET_IS_ORDER_IN_PROGRESS",!0),[4,n("form/user/VALIDATE_USER")];case 2:return T.sent(),[4,n("form/TOGGLE_ORDER_FORM_VALIDATION",!0)];case 3:return T.sent(),e=t.isPhoneValid,d=t["form/user/isPhoneVerifiedForOrder"],!e||d?[3,5]:[4,l("form/user/setVerificationModalIsVisible",!0)];case 4:return T.sent(),n("SET_IS_CREATE_ORDER_PAUSED",!0),[2,!1];case 5:return[4,n("form/COLLECT_FIELDS")];case 6:return T.sent(),t.isFullFormValid?[4,n("VALIDATE_WITH_SERVICE")]:[2,!1];case 7:if(!T.sent())return[2,!1];f={},summary=S({},t.summary),T.label=8;case 8:return T.trys.push([8,10,,11]),[4,this.$api.checkout.order.post(summary)];case 9:return f=T.sent(),[3,11];case 10:return h=T.sent(),Object(E.a)(this.$logger,h,r.h.ERROR_CREATE_ORDER_REQUEST_SERVER),n("SET_HAS_SERVICE_ERROR",!0),[2];case 11:if(f&&!f.errorTarget&&!f.error&&f.orderNumber)return[3,16];Object(E.a)(this.$logger,f.error,r.h.ERROR_CREATE_ORDER_REQUEST_CLIENT),T.label=12;case 12:return T.trys.push([12,14,,15]),[4,n("UPDATE_CHECKOUT",{scope:t["delivery/isPickup"]?v.SCOPE_SETS.PICKUP:v.SCOPE_SETS.SERVICE})];case 13:return T.sent(),[3,15];case 14:return m=T.sent(),Object(E.a)(this.$logger,m,r.h.ERROR_REFRESH_CHECKOUT_AFTER_FAILED_CREATE_ORDER),n("SET_HAS_SERVICE_ERROR",!0),[2];case 15:return n("SET_ORDER_ERROR",f),[2];case 16:return[4,n("SET_ORDER_INFO",f)];case 17:return T.sent(),n("SET_ORDER_ERROR",null),y=o.total,_=y.itemsDiscountedPrice,O=y.deliveryOriginalPrice,I=y.itemsOriginalPrice,w=y.quantity,C=y.weight,k=y.deliveryDiscountedPrice,P=summary.splitGroups,R=summary.addressUid,x=o.payment.paymentMethodId,A=P&&P.length&&P.reduce((function(e,t){return e.concat.apply(e,t.splits)}),[]).length,L=t["payment/activePaymentMethod"],this.$analytics.send("checkout/createOrder",{trackerEvent:{widget:"checkout-widget",order_id:f.orderNumber,payment_type:x,count_items:w,original_price:I,final_price:_,original_delivery_price:O,final_delivery_price:k,weight:C,count_postings:A,card_is_remember:Boolean(summary.userSavedCardToken),card_id:c()(L,"savedCardInfo.cardToken"),card_type:c()(L,"savedCardInfo.cardType"),address_uid:Boolean(R)},GAEvent:{id:f.orderNumber,revenue:o.total.itemsDiscountedPrice,coupon:"",shipping:o.total.deliveryDiscountedPrice,products:o.products,deliveryTypeGroup:summary.deliveryTypeId,transactionPayType:summary.paymentMethodId,cartType:"",deliveryOptions:t["packages/deliveryOptions"],card_is_remember:String(Boolean(summary.userSavedCardToken)),card_id:c()(L,"savedCardInfo.cardToken")||"",card_type:c()(L,"savedCardInfo.cardType")||""}}),this.$analytics.send("checkout/checkoutDone",{GAEvent:{groups:o.packages.groups,total:o.total,isDeliverySelected:!0}}),(D=f.redirectUrl)?[4,this.$api.checkout.startUpCheckout.post()]:[3,19];case 18:return T.sent(),location.replace(D),[3,20];case 19:this.$logger.error({exception:Error("Redirect link is missing"),message:r.h.ERROR_REDIRECT_TO_ORDER_DONE}),T.label=20;case 20:return[2];case 21:return $=T.sent(),Object(E.a)(this.$logger,$,r.h.ERROR_CREATE_ORDER),n("SET_HAS_SERVICE_ERROR",!0),[3,23];case 22:return c()(o,"orderInfo.redirectUrl")||(n("SET_IS_ORDER_IN_PROGRESS",!1),n("loaders/SET_LOADING_ALL",!1)),[7];case 23:return[2]}}))}))},SET_ORDER_INFO:function(e,t){(0,e.commit)("setOrderInfo",t)},TOGGLE_SUBSCRIBE_TO_NEWS:function(e,t){(0,e.commit)("setSubscribeToNews",t)},TOGGLE_USE_BALANCE:function(e,t){var n=e.dispatch,o=e.getters;return O(this,void 0,void 0,(function(){var e;return T(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),n("payment/SET_USE_BALANCE",t),[4,n("UPDATE_CHECKOUT",{scope:o["delivery/isPickup"]?v.SCOPE_SETS.PICKUP:v.SCOPE_SETS.SERVICE})];case 1:return c.sent(),[3,3];case 2:return e=c.sent(),Object(E.a)(this.$logger,e,r.h.ERROR_TOGGLE_USE_BALANCE),n("SET_HAS_SERVICE_ERROR",!0),[3,3];case 3:return[2]}}))}))},TOGGLE_USE_POINTS:function(e,t){var n=e.dispatch,o=e.getters;return O(this,void 0,void 0,(function(){var e;return T(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),n("payment/SET_USE_POINTS",t),[4,n("UPDATE_CHECKOUT",{scope:o["delivery/isPickup"]?v.SCOPE_SETS.PICKUP:v.SCOPE_SETS.SERVICE})];case 1:return c.sent(),[3,3];case 2:return e=c.sent(),Object(E.a)(this.$logger,e,r.h.ERROR_TOGGLE_USE_POINTS),n("SET_HAS_SERVICE_ERROR",!0),[3,3];case 3:return[2]}}))}))},MERGE_SPLITS:function(e,t){var n=e.getters,o=e.dispatch,c=t.key,l=t.merge;return O(this,void 0,void 0,(function(){var e;return T(this,(function(t){switch(t.label){case 0:return t.trys.push([0,5,,6]),n["delivery/isPickup"]?(o("delivery/RESET_DELIVERY"),o("payment/RESET_PAYMENT"),[4,o("UPDATE_CHECKOUT",{scope:[v.SCOPE.DELIVERY],options:{mergeGroup:{key:c,merge:l}}})]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,o("UPDATE_CHECKOUT",{scope:v.SCOPE_SETS.SERVICE,options:{mergeGroup:{key:c,merge:l},userAction:r.g.USER_ACTIONS.DELIVERY_CHANGE}})];case 3:t.sent(),t.label=4;case 4:return[3,6];case 5:return e=t.sent(),Object(E.a)(this.$logger,e,r.h.ERROR_MERGE_SPLITS),o("SET_HAS_SERVICE_ERROR",!0),[3,6];case 6:return[2]}}))}))},VALIDATE_WITH_SERVICE:function(e){var t=e.getters,n=e.dispatch,o=e.rootState;return O(this,void 0,void 0,(function(){var e,c,l,d,f,h,m,v;return T(this,(function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),e=t.summary,c=e.areaId,l=e.deliveryMethodIds,d=e.collectFields,f=Boolean(o.experiments.experiments["web.checkoutCountrySelector"]),[4,this.$api.checkout.validate.post({areaId:c,deliveryMethodIds:l,collectFields:d,useCountrySelector:f})];case 1:return(h=y.sent())&&h.length?(m=h.reduce((function(e,element){var t,n=element.field,r=element.message;return S({},e,((t={})[n]=r,t))}),{}),n("form/SET_INVALID_SERVICE_FIELDS",m),this.$logger.error({message:r.h.ERROR_VALIDATE,payload:{endpoint:"/validate",exception:"There are "+m.length+" invalid fields",params:{areaId:c,deliveryMethodIds:l,collectFields:d},validateResponse:h}}),[2,!1]):[2,!0];case 2:return v=y.sent(),this.$logger.error({exception:v,message:r.h.ERROR_VALIDATE}),n("SET_HAS_SERVICE_ERROR",!0),[3,3];case 3:return[2]}}))}))},SUBMIT_INVALID_SERVICE_FIELDS_FORM:function(e,t){var n=e.dispatch,r=e.state,o=e.getters,c=e.rootState,l=t.lastName,d=t.firstName,f=t.receiverFirstName,h=t.receiverLastName,m=t.rusZipCode;return O(this,void 0,void 0,(function(){var e,address,t,y,E;return T(this,(function(_){switch(_.label){case 0:return e=r.delivery.addressInfo,e?[4,n("form/INIT_ADDRESS_FORM_DATA",{fields:e,fiasId:e.fiasId,geoCoordinate:e.coordinates,addressUid:e.addressUid})]:[3,2];case 1:_.sent(),_.label=2;case 2:return l?[4,n("form/UPDATE_FIELD",{name:"lastName",formType:"user",value:l})]:[3,4];case 3:_.sent(),_.label=4;case 4:return d?[4,n("form/UPDATE_FIELD",{name:"firstName",formType:"user",value:d})]:[3,6];case 5:_.sent(),_.label=6;case 6:return m?[4,n("form/UPDATE_FIELD",{name:"rusZipCode",formType:"address",value:m})]:[3,8];case 7:_.sent(),_.label=8;case 8:return h?[4,n("form/UPDATE_FIELD",{name:"receiverLastName",formType:"receiver",value:h})]:[3,10];case 9:_.sent(),_.label=10;case 10:return f?[4,n("form/UPDATE_FIELD",{name:"receiverFirstName",formType:"receiver",value:f})]:[3,12];case 11:_.sent(),_.label=12;case 12:return address=r.form.address.data,[4,n("delivery/SET_ADDRESS_INFO",S({},address))];case 13:return _.sent(),t=o.collectFields("address"),c.experiments.experiments["web.checkoutAddressBook"]?[4,n("addressBook/GET_ADDRESS_LIST")]:[3,17];case 14:return _.sent(),y=o["addressBook/selectedAddress"],E=o.summary.areaId,[4,n("form/SAVE_ADDRESS_TO_ADDRESS_BOOK",{areaId:E,fields:t,id:y.id})];case 15:return _.sent(),[4,n("UPDATE_CHECKOUT",{scope:o["delivery/isPickup"]?v.SCOPE_SETS.PICKUP:v.SCOPE_SETS.SERVICE})];case 16:return _.sent(),[3,19];case 17:return[4,n("form/SAVE_DATA_TO_STORAGE",{type:"address",data:t})];case 18:_.sent(),_.label=19;case 19:return[4,n("CREATE_ORDER")];case 20:return _.sent(),[2]}}))}))},DELETE_SPLIT:function(e,t){var n=e.state,o=e.dispatch,c=e.getters;return O(this,void 0,void 0,(function(){var e,l,d,f,h;return T(this,(function(m){switch(m.label){case 0:return m.trys.push([0,4,,5]),e=t.items.map((function(e){return e.id})),l=n.items.reduce((function(t,n){return-1===e.indexOf(n.id)&&t.push(n),t}),[]),[4,this.$api.checkout.startUpCheckout.post({items:l,isCredit:n.isCredit})];case 1:return m.sent(),[4,o("INIT_CART_ITEMS")];case 2:return m.sent(),d=void 0,c["delivery/isPickup"]?((f=t.groupType===_.c.SUBSCRIPTION)||(o("delivery/RESET_DELIVERY"),o("payment/RESET_PAYMENT")),d=f?v.SCOPE_SETS.PICKUP:[v.SCOPE.DELIVERY]):d=v.SCOPE_SETS.SERVICE,[4,o("UPDATE_CHECKOUT",{scope:d,options:{userAction:r.g.USER_ACTIONS.DELIVERY_CHANGE}})];case 3:return m.sent(),[3,5];case 4:return h=m.sent(),Object(E.a)(this.$logger,h,r.h.ERROR_DELETE_SPLIT),o("SET_HAS_SERVICE_ERROR",!0),[3,5];case 5:return[2]}}))}))},SET_HAS_SERVICE_ERROR:function(e,t){(0,e.commit)("setHasServiceError",t)},SET_CHECKOUT_ERRORS:function(e,t){var n=e.dispatch;t?(n("SET_ERRORS",t.checkout),n("delivery/SET_ERRORS",t.delivery),n("payment/SET_ERRORS",t.payment)):(n("SET_ERRORS",[]),n("delivery/SET_ERRORS",[]),n("payment/SET_ERRORS",[]))},SET_ERRORS:function(e,t){var n=e.commit;t&&t.length?n("setErrors",t.filter((function(e){return e.message}))):n("setErrors",[])},SET_ORDER_ERROR:function(e,t){var n=e.commit;t&&!t.message&&(t.message="Произошла ошибка при оформлении заказа. Пожалуйста, попробуйте оформить заказа ещё раз."),n("setOrderError",t)},SET_MESSAGES:function(e,t){(0,e.commit)("setMessages",t)},UPDATE_DELIVERY_METHOD:function(e,t){var n=e.getters,r=e.dispatch;return O(this,void 0,void 0,(function(){var e,o;return T(this,(function(c){switch(c.label){case 0:return!(e=n["delivery/getNextDeliveryMethodById"](t))||e.isFull?[2]:(r("delivery/UPDATE_ONE_NEXT_DELIVERY_METHOD",{deliveryMethodId:t,data:{isFull:!0}}),[4,r("delivery/GET_DELIVERY_INFO",t)]);case 1:return(o=c.sent())&&r("delivery/UPDATE_ONE_NEXT_DELIVERY_METHOD",{deliveryMethodId:t,data:o}),[2]}}))}))},ADD_FORM_PROMISE:function(e,t){(0,e.commit)("addFormPromise",t)},SET_IS_ORDER_IN_PROGRESS:function(e,t){(0,e.commit)("setIsOrderInProgress",t)},SET_IS_CREATE_ORDER_PAUSED:function(e,t){(0,e.commit)("setIsCreateOrderPaused",t)},SET_MARKETING_INFO:function(e,t){this.dispatch("checkcart/marketingInfo/SET_MARKETING_INFO",t)},SET_MARKETING_DETAILS:function(e,t){this.dispatch("checkcart/marketingInfo/SET_MARKETING_DETAILS",t)},SET_MARKETING_DETAILS_SCORE:function(e,t){this.dispatch("checkcart/marketingInfo/SET_MARKETING_DETAILS_SCORE",t)},SET_IS_SUBSCRIPTION:function(e,t){(0,e.commit)("setIsSubscription",t)},SET_BANNERS:function(e,t){(0,e.commit)("setBanners",t)},ADD_ITEMS:function(e,t){var n=e.state,o=e.dispatch,c=t.itemId,l=t.quantity,d=void 0===l?1:l,h=t.addToCart,m=void 0!==h&&h;return O(this,void 0,void 0,(function(){var e,t,l;return T(this,(function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),m?[4,this.dispatch("cartGlobal/ADD_TO_CART_CUSTOM_QUANTITY",{itemId:c,quantity:d,onlyNew:!0})]:[3,2];case 1:e=h.sent(),h.label=2;case 2:return[4,o("ADD_TO_STARTUP",{itemId:c,quantity:d})];case 3:return h.sent(),[4,o("INIT_CART_ITEMS")];case 4:return h.sent(),[4,o("INIT_CHECKOUT")];case 5:return h.sent(),e&&(t=n.items.find((function(e){var t=e.id;return c===t})),this.$analytics.send("cart/add",{GAEvent:f({item:t,forCheckout:!0})})),[3,7];case 6:return l=h.sent(),this.$logger.error({exception:l,message:r.h.ERROR_ADD_ITEMS}),o("SET_HAS_SERVICE_ERROR",!0),[3,7];case 7:return[2]}}))}))},ADD_TO_STARTUP:function(e,t){var n=e.state,r=t.itemId,o=t.quantity;return O(this,void 0,void 0,(function(){var e;return T(this,(function(t){switch(t.label){case 0:return n.items.some((function(e){var t=e.id;return r===t}))?[2]:(e=n.items.map((function(e){return{id:e.id,quantity:e.quantity}})).concat([{id:r,quantity:o}]),[4,this.$api.checkout.startUpCheckout.post({items:e,isCredit:n.isCredit})]);case 1:return t.sent(),[2]}}))}))},DISCOUNT_CODE_ACTIVATED:function(e){var t=e.dispatch,n=e.getters;return O(this,void 0,void 0,(function(){var e;return T(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t("UPDATE_CHECKOUT",{scope:n["delivery/isPickup"]?v.SCOPE_SETS.PICKUP:v.SCOPE_SETS.SERVICE})];case 1:return o.sent(),[3,3];case 2:return e=o.sent(),Object(E.a)(this.$logger,e,r.h.ERROR_DISCOUNT_CODE_ACTIVATED),t("SET_HAS_SERVICE_ERROR",!0),[3,3];case 3:return[2]}}))}))},SET_IS_USER_DATA_READY:function(e,t){(0,e.commit)("setIsUserDataReady",t)},SET_SPECIAL_FLAGS:function(e,t){void 0===t&&(t=[]),(0,e.commit)("setSpecialFlags",t)},UPDATE_DELIVERY_TO_DOOR:function(e,t){var n=e.dispatch;return void 0===t&&(t=!1),O(this,void 0,void 0,(function(){var e;return T(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,n("UPDATE_CHECKOUT",{scope:C["delivery/isPickup"]?v.SCOPE_SETS.PICKUP:v.SCOPE_SETS.SERVICE,options:{deliveryToDoor:t}})];case 1:return o.sent(),[3,3];case 2:return e=o.sent(),Object(E.a)(this.$logger,e,r.h.ERROR_UPDATE_DELIVERY_TO_DOOR),n("SET_HAS_SERVICE_ERROR",!0),[3,3];case 3:return[2]}}))}))}}},cef374:function(e,t,n){e.exports={btn:"ef8c70",":hover":"d792cf",icon:"ca1e3b",active:"_274480",blink:"d267c5"}},cf1cd4:function(e,t,n){"use strict";n.r(t),n.d(t,"TOGGLE_ORDER_POPUP",(function(){return d})),n.d(t,"TOGGLE_ORDER_CANCEL_MODAL",(function(){return f})),n.d(t,"OPEN_ORDER_DETAILS",(function(){return h})),n.d(t,"OPEN_ORDER_LIST",(function(){return m})),n.d(t,"state",(function(){return v})),n.d(t,"mutations",(function(){return y})),n.d(t,"getters",(function(){return E})),n.d(t,"actions",(function(){return _}));n("f8695b"),n("41d819"),n("aae158");var r,o=n("9e82e9"),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},l=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},d="TOGGLE_ORDER_POPUP",f="TOGGLE_ORDER_CANCEL_MODAL",h="OPEN_ORDER_DETAILS",m="OPEN_ORDER_LIST",v=function(){return{}},y={},E={},_=((r={})[d]=function(e,t){return c(this,void 0,void 0,(function(){return l(this,(function(e){return[2,Promise.resolve(t)]}))}))},r[f]=function(e,t){return c(this,void 0,void 0,(function(){return l(this,(function(e){return[2,Promise.resolve(t)]}))}))},r[h]=function(e,t){return c(this,void 0,void 0,(function(){return l(this,(function(e){return this.$composerRouter.push("/my/orderlist/?order="+t.number,{silent:!0}),[2,Promise.resolve(t)]}))}))},r[m]=function(e,t){return c(this,void 0,void 0,(function(){return l(this,(function(e){return this.$composerRouter.push("/my/orderlist/?rnd=list",{silent:!0}),[2,Promise.resolve(t)]}))}))},r.FETCH_ORDER_DETAILS=function(){return c(this,void 0,void 0,(function(){return l(this,(function(e){return[2,Promise.resolve(!0)]}))}))},r.SET_CANCEL_ORDER=function(e,t){var n=t.reasonRequestPayload;return c(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.$api.orderList.cancel.post(n)];case 1:return e.sent(),[2]}}))}))},r.OPEN_TRACKING_POPUP=function(){return c(this,void 0,void 0,(function(){return l(this,(function(e){return[2,Promise.resolve(!0)]}))}))},r.DOWNLOAD_INVOICE=function(e,t){return c(this,void 0,void 0,(function(){var e,n,link,r;return l(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.$api.paymentInvoice.createInvoice.get(t)];case 1:return e=c.sent(),n=new Blob([e],{type:"application/pdf"}),window.navigator&&window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(n):((link=document.createElement("a")).href=window.URL.createObjectURL(n),link.download="invoice-"+t,link.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))),[3,3];case 2:throw r=c.sent(),this.$logger.error({exception:r,message:o.j.ERROR_DOWNLOAD_INVOICE}),r;case 3:return[2]}}))}))},r)},cf3dd1:function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106");var r=n("5eabea"),o=n("df2fe1"),c=n("b902cb"),l=n("6876d5");function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={name:"AdultModal",components:{OzonButton:c.b,OzonModal:o.a},props:{dismissable:{type:Boolean,default:!0},opaqueBackground:{type:Boolean,default:!1},forceShow:{type:Boolean,default:void 0}},computed:f({},Object(l.e)({userInfo:function(e){return e.userInfo}}),{show:function(){var e=this.userInfo.showAdultModal;return!this.showAdult&&(void 0!==this.forceShow?this.forceShow:e)}}),methods:f({},Object(l.b)("userInfo",{setShowModal:"SET_SHOW_ADULT_MODAL",setShowAdult:"SET_SHOW_ADULT"}),{close:function(){this.dismissable&&this.setShowModal(!1),this.$emit("cancel")},approve:function(){this.setShowModal(!1),this.setShowAdult(!0),this.$emit("approve")}})},m=n("35e16c"),v=n("b429cb");var component=Object(v.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("OzonModal",{attrs:{"opaque-background":e.opaqueBackground},on:{close:e.close}},[n("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"adult-modal",expression:"'adult-modal'",arg:"id"}],class:e.$style.modal},[n("h2",{class:e.$style.title},[e._v("\n      Подтвердите возраст\n    ")]),e._v(" "),n("p",{class:e.$style.content},[e._v("\n      Этот товар категории «для взрослых».\n      Подтвердите, что вы старше 18 лет, чтобы перейти к товару\n    ")]),e._v(" "),n("div",{class:e.$style.actions},[n("OzonButton",{directives:[{name:"qa",rawName:"v-qa:id",value:"adult-modal-cancel",expression:"'adult-modal-cancel'",arg:"id"}],class:e.$style.cancel,attrs:{full:e.isMobile,color:"cream",size:"large"},on:{click:e.close}},[e._v("\n        Отмена\n      ")]),e._v(" "),n("OzonButton",{directives:[{name:"qa",rawName:"v-qa:id",value:"adult-modal-confirm",expression:"'adult-modal-confirm'",arg:"id"}],class:e.$style.approve,attrs:{full:e.isMobile,color:"blue",size:"large"},on:{click:e.approve}},[e._v("\n        Подтвердить\n      ")])],1)])]):e._e()}),[],!1,(function(e){this.$style=m.default.locals||m.default}),null,null);t.a=component.exports},cf910c:function(e,t,n){"use strict";var r=n("c3dd77"),o=n.n(r);t.default=o.a},cfe548:function(e,t,n){e.exports={location:"a758d0",mobile:"be3969",title:"ad54f8",select:"_252240",selectItem:"_85a70b",":hover":"df4a9a",":focus":"_1e2701",":active":"_48bf8d",active:"c808ef",wrap:"_19c36f",blink:"b1ed2a"}},d1a740:function(e,t,n){"use strict";var r=n("e5a616"),o=n.n(r);t.default=o.a},d24c85:function(e,t,n){e.exports={userMenu:"_877a6a",greeting:"_25fd57",menu:"b590c5",link:"e5d2a7",linkAlike:"_06b9bd",pointsAndBalance:"_90a4c1",citySelectorHeader:"e8bc98",blink:"_3166e7"}},d2cf88:function(e,t,n){"use strict";var r=n("6cc523"),o=n.n(r);t.default=o.a},d33449:function(e,t,n){"use strict";var r=n("a2e87c");n.n(r).a},d4cae1:function(e,t,n){"use strict";n("497371");var r=n("ff287e"),o=n.n(r),c={data:function(){return{universalComponent:null}},computed:{isMobile:function(){return Boolean(o()(this,'$store.getters["browser/showMobileVersion"]'))}},created:function(){var e=this.$options.universal;e&&Array.isArray(e)&&2===e.length&&(this.universalComponent=this.$options.universal[Number(this.isMobile)])}},l=n("b429cb"),component=Object(l.a)(c,(function(){var e=this.$createElement;return(this._self._c||e)(this.universalComponent,this._g(this._b({ref:"component",tag:"component"},"component",this.$props,!1),this.$listeners))}),[],!1,null,"c66bfbbc",null);t.a=component.exports},d4d5ef:function(e,t,n){"use strict";var r=n("e18936"),o=n.n(r);t.default=o.a},d516aa:function(e,t,n){"use strict";var r=["in-out","out-in",""],o={props:{mode:{type:String,default:"",validator:function(e){return r.some((function(t){return t===e}))}}}},c=(n("ee1497"),n("b429cb")),component=Object(c.a)(o,(function(){var e=this.$createElement;return(this._self._c||e)("transition",{attrs:{mode:this.mode,name:"fade"}},[this._t("default")],2)}),[],!1,null,"c061cba4",null);t.a=component.exports},d56969:function(e,t,n){"use strict";var r=n("ee682f");n.n(r).a},d5730a:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return d})),n.d(t,"mutations",(function(){return f})),n.d(t,"actions",(function(){return h}));n("f8695b"),n("41d819"),n("aae158");var r=function(){return(r=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},o=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},c=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},l={balancePaid:0,deliveryDiscountedPrice:0,deliveryOriginalPrice:0,discountedPrice:0,hasLoyalty:!1,itemsDiscountedPrice:0,itemsOriginalPrice:0,itemsDiscount:0,originalPrice:0,pointsAdd:0,pointsPaid:0,quantity:0,termsAndConditions:"",weight:0,readyForOrder:!1,message:"",hasPremium:!1,loading:!1,itemsPrice:{},premiumLabel:null,textButton:""},d=function(){return r({},l)},f={setTotal:function(e,t){var n=t.balancePaid,r=void 0===n?0:n,o=t.deliveryDiscountedPrice,c=void 0===o?0:o,l=t.deliveryOriginalPrice,d=void 0===l?0:l,f=t.discountedPrice,h=void 0===f?0:f,m=t.hasLoyalty,v=void 0!==m&&m,y=t.itemsDiscountedPrice,E=void 0===y?0:y,_=t.itemsOriginalPrice,S=void 0===_?0:_,O=t.originalPrice,T=void 0===O?0:O,I=t.pointsAdd,w=void 0===I?0:I,C=t.pointsPaid,k=void 0===C?0:C,P=t.quantity,R=void 0===P?0:P,x=t.termsAndConditions,A=void 0===x?"":x,L=t.weight,D=void 0===L?0:L,$=t.hasPremium,M=void 0!==$&&$,N=t.readyForOrder,j=void 0!==N&&N,F=t.message,B=void 0===F?"":F,U=t.premiumLabel,G=void 0===U?null:U,V=t.textButton,H=void 0===V?"":V;Object.assign(e,{balancePaid:r,deliveryDiscountedPrice:c,deliveryOriginalPrice:d,discountedPrice:h,hasLoyalty:v,itemsDiscountedPrice:E,itemsOriginalPrice:S,itemsDiscount:S-E,originalPrice:T,pointsAdd:w,pointsPaid:k,termsAndConditions:A,quantity:R,weight:D,hasPremium:M,readyForOrder:j,message:B,premiumLabel:G,textButton:H})},setItemsPrice:function(e,t){void 0===t&&(t=[]),e.itemsPrice=t.reduce((function(e,t){return e[t.id]=t,e}),{})},resetTotal:function(e){Object.assign(e,r({},l))},setLoading:function(e,t){e.loading=t}},h={GET_TOTAL:function(e,t){var n=e.dispatch,r=e.rootState,l=e.commit,d=e.state;return o(this,void 0,void 0,(function(){var e,o,f;return c(this,(function(c){switch(c.label){case 0:d.loading&&this.$_promise&&this.$_promise.cancel(),l("setLoading",!0),c.label=1;case 1:return c.trys.push([1,4,,5]),(e=r.location.current.areaId)&&t&&t.length?(this.$_promise=this.$api.cart.total.post({areaId:e,items:t}),[4,this.$_promise]):[3,3];case 2:o=c.sent(),l("setItemsPrice",o.items),n("SET_TOTAL",o.total),this.dispatch("checkcart/marketingInfo/SET_MARKETING_INFO",o.marketingInfo),l("setLoading",!1),c.label=3;case 3:return[3,5];case 4:return f=c.sent(),l("setLoading",!1),this.$logger.error({exception:f}),this.dispatch("checkout/SET_HAS_SERVICE_ERROR",!0,{root:!0}),[3,5];case 5:return[2]}}))}))},RESET_TOTAL:function(e){(0,e.commit)("resetTotal")},SET_TOTAL:function(e,t){void 0===t&&(t={}),(0,e.commit)("setTotal",t)},SET_LOADING:function(e,t){(0,e.commit)("setLoading",t)}}},d74c44:function(e,t,n){"use strict";n("f8695b"),n("41d819"),n("c08bb9"),n("5dd61c"),n("66914a");var r=n("ed745a"),o=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},c=window.IntersectionObserver&&new window.IntersectionObserver((function(e){e.forEach((function(e){var t=e.intersectionRatio,link=e.target;t<=0||link.__prefetch()}))}));t.a={name:"NuxtLink",extends:r.default.component("RouterLink"),props:{noPrefetch:{type:Boolean,default:!1}},mounted:function(){this.noPrefetch||o(this.observe,{timeout:2e3})},beforeDestroy:function(){this.__observed&&(c.unobserve(this.$el),delete this.$el.__prefetch)},methods:{observe:function(){c&&this.shouldPrefetch()&&(this.$el.__prefetch=this.prefetch.bind(this),c.observe(this.$el),this.__observed=!0)},shouldPrefetch:function(){return this.getPrefetchComponents().length>0},canPrefetch:function(){var e=navigator.connection;return!(this.$nuxt.isOffline||e&&((e.effectiveType||"").includes("2g")||e.saveData))},getPrefetchComponents:function(){return this.$router.resolve(this.to,this.$route,this.append).resolved.matched.map((function(e){return e.components.default})).filter((function(e){return"function"==typeof e&&!e.options&&!e.__prefetched}))},prefetch:function(){if(this.canPrefetch()){c.unobserve(this.$el);var e=this.getPrefetchComponents(),t=!0,n=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var d=o.value;d().catch((function(){})),d.__prefetched=!0}}catch(e){n=!0,r=e}finally{try{t||null==l.return||l.return()}finally{if(n)throw r}}}}}}},d7581b:function(e,t,n){"use strict";var r=n("164a37");n.n(r).a},d7b1bb:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return l})),n.d(t,"mutations",(function(){return h})),n.d(t,"getters",(function(){return m})),n.d(t,"actions",(function(){return v}));n("29141d"),n("c08bb9"),n("12a106"),n("f8695b"),n("41d819"),n("aae158");var r=n("667e87"),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},c=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},l=function(){return{browser:"",isDesktop:void 0,isMobile:void 0,pixelRatio:1,os:"",platform:"",version:"",forceDesktop:!1,ip:"",isBot:!1,prevLocation:"",connectionType:"",hasWebP:!1,useWebP:!1,useImageSrcSet:!1,o3Params:{}}},d=function(e,t,n){return Object(r.d)("browser_"+e,t,n)},f=function(){return o(this,void 0,void 0,(function(){var e,t,n,r;return c(this,(function(o){return e=window.navigator,(t=e.connection||e.mozConnection||e.webkitConnection)&&t.effectiveType?(r=e.connection.effectiveType,n="4g"===r?"good":"bad"):n="good",d("network",n,{domain:".ozon.ru",expires:new Date(Date.now()+36e5)}),[2,n]}))}))},h={setForceDesktop:function(e,t){e.forceDesktop=t},setBrowser:function(e,t){Object.keys(t).forEach((function(n){e[n]=t[n]}))},ip:function(e,t){e.ip=t},setSpeed:function(e,t){e.connectionType=t},setPixelRatio:function(e,t){e.pixelRatio=parseFloat(t)}},m={showMobileVersion:function(e){return!e.forceDesktop&&e.isMobile}},v={nuxtServerInit:function(e,t){var n=e.dispatch,r=t.req;r.isComposer||n("RESTORE_FROM_SERVER",r.cookie)},toggleForceDesktop:function(e){(0,e.commit)("setForceDesktop",!e.state.forceDesktop)},RESTORE_FROM_SERVER:function(e,t){var n=e.commit;void 0===t&&(t={});var r=Object.keys(t).filter((function(e){return e.startsWith("browser_")})).filter((function(e){return t[e]&&"undefined"!==t[e]})).map((function(e){var n,r;try{return(n={})[e.slice("browser_".length)]=JSON.parse(t[e]),n}catch(n){return(r={})[e.slice("browser_".length)]=t[e],r}})).reduce((function(e,data){return Object.assign(e,data)}),{}),o=r.network,c=r.pixelRatio;o&&n("setSpeed",o),c&&n("setPixelRatio",c)},SET_PIXEL_RATIO:function(e,t){var n=e.commit,r=t.pixelRatio;n("setPixelRatio",r),d("pixelRatio",r,{domain:".ozon.ru",expires:new Date(Date.now()+36e5)})},CHECK_NETWORK_SPEED:function(e){var t=e.state,n=e.commit;return o(this,void 0,void 0,(function(){var e;return c(this,(function(r){switch(r.label){case 0:return t.connectionType?[3,2]:[4,f()];case 1:e=r.sent(),n("setSpeed",e),r.label=2;case 2:return[2]}}))}))}}},d883ea:function(e,t,n){e.exports=n.p+"img/5996d3f.png"},d89767:function(e,t,n){},d8a3d1:function(e,t,n){},d8e6d6:function(e,t,n){"use strict";var r=n("bd53b8"),o=n.n(r);t.default=o.a},da0937:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("654ecb"),n("dc5bd1"),n("aae158"),n("531aa4");var r,o=(r=function(e,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)b.hasOwnProperty(p)&&(e[p]=b[p])})(e,b)},function(e,b){function t(){this.constructor=e}r(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}),c=function(e){function t(n){var r=e.call(this,n.toString())||this;return Object.setPrototypeOf(r,t.prototype),r.originError=n,r}return o(t,e),t.prototype.getLoggerMessage=function(e){return void 0===e&&(e={}),{message:this.originError,payload:e}},t}(Error)},da3774:function(e,t,n){e.exports={"dropdown-link":"eda596",":hover":"ef276e",subtitle:"e4728c",counter:"_4a5517",blink:"be99b5"}},dab896:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o})),n.d(t,"getters",(function(){return c})),n.d(t,"actions",(function(){return l}));var r=function(){return{}},o={},c={},l={}},dafcf1:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("c9390b");var r=function(e,t){return{params:t,callback:e,viewed:!1}};function o(){return{name:"InViewportMixin",created:function(){this.viewportEvents=[]},mounted:function(){var e=this;this.intersectionObserver=new IntersectionObserver((function(t){var n=t[0];if(!n||!n.isIntersecting)return!1;e.viewportEvents=e.viewportEvents.filter((function(e){return!!e.viewed||(e.viewed=!0,e.callback(!0),!(e.params.once&&!e.params.store))}))})),this.$when("composer/GET_LAYOUT",(function(){e.$nextTick((function(){e.$el instanceof HTMLElement&&(e.intersectionObserver.unobserve(e.$el),e.intersectionObserver.observe(e.$el))}))})),this._bindViewportEvents()},beforeDestroy:function(){this._unbindViewportEvents()},methods:{registerViewportEvent:function(e,t){var n=r(e,t);return this.viewportEvents.push(n),n},_bindViewportEvents:function(){this.$el instanceof HTMLElement&&this.intersectionObserver.observe(this.$el)},_unbindViewportEvents:function(){this.intersectionObserver.disconnect()}}}}},dbd214:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return y})),n.d(t,"mutations",(function(){return E})),n.d(t,"getters",(function(){return _})),n.d(t,"actions",(function(){return S}));n("e28425"),n("aef563"),n("f8695b"),n("41d819"),n("aae158");var r=n("9e82e9"),o=n("8848ed"),c=n("ff287e"),l=n.n(c),d=n("9fb30e"),f=n("bbfe95"),h=function(){return(h=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},m=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},v=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},y=function(){return{data:{addressUid:void 0,russianAddress:{data:{area:null,street:"",house:""},unrestrictedValue:"",value:""},apartment:"",entrance:"",intercom:"",floor:"",comment:"",rusZipCode:"",addressTail:"",city:"",state:{id:"",name:""},foreignZipCode:"",isCarpassRequired:"0",fiasId:null,coordinates:null,countrySelector:null,citySelector:null},isAddressSuggestionsLoading:!1,editableAddressLocation:null}},E={setIsAddressSuggestionsLoading:function(e,t){e.isAddressSuggestionsLoading=t},resetForm:function(e){Object.assign(e,{data:{addressUid:void 0,russianAddress:{data:{area:null,street:"",house:""},unrestrictedValue:"",value:""},apartment:"",entrance:"",intercom:"",floor:"",comment:"",rusZipCode:"",addressTail:"",city:"",state:{id:"",name:""},foreignZipCode:"",isCarpassRequired:"0",fiasId:null,coordinates:null,countrySelector:null,citySelector:null},isAddressSuggestionsLoading:!1,editableAddressLocation:null})},setRussianAddress:function(e,t){e.data.russianAddress=t},setFiasId:function(e,t){e.data.fiasId=t},setCoordinates:function(e,t){e.data.coordinates=t},setEditableAddressLocation:function(e,t){e.editableAddressLocation=t},setAddressUid:function(e,t){e.data.addressUid=t},setCountrySelector:function(e,t){e.data.countrySelector=t},setCitySelector:function(e,t){e.data.citySelector=t}},_={mappings:function(e){var t=Object(d.b)(l()(e.data,"countrySelector")),n=Object(d.a)(l()(e.data,"citySelector"));return Object(o.mergeStateWithMappings)(e.data,{street:l()(e.data,"russianAddress.data.street"),house:l()(e.data,"russianAddress.data.house"),state:l()(e.data,"state.id"),fiasId:l()(e.data,"russianAddress.data.fiasId"),latitude:l()(e.data,"coordinates.latitude"),longitude:l()(e.data,"coordinates.longitude"),precisionGeoCoordinate:l()(e.data,"coordinates.precisionGeoCoordinate"),countrySelector:t,citySelector:n})}},S={GET_SUGGESTIONS:function(e,t){var n=e.state,r=e.rootState,o=e.commit,c=void 0===t?{}:t,address=c.address,l=c.count,d=void 0===l?10:l;return m(this,void 0,void 0,(function(){var e,t;return v(this,(function(c){switch(c.label){case 0:n.isAddressSuggestionsLoading&&this.$_addressSuggestionPromise.cancel(),o("setIsAddressSuggestionsLoading",!0),(e=Boolean(r.experiments.experiments["web.checkoutCountrySelector"]))||(t=n.editableAddressLocation?n.editableAddressLocation.fias:r.location.current.fias),c.label=1;case 1:return c.trys.push([1,3,,4]),this.$_addressSuggestionPromise=this.$api.checkout.addressSuggestion.post({cityFiasId:t,query:address,count:d,useStrictSearch:!e}),[4,this.$_addressSuggestionPromise];case 2:return[2,c.sent()];case 3:return c.sent(),[2,[]];case 4:return[2]}}))}))},GET_ADDRESS_BY_COORDINATES:function(e,t){var n=e.state,o=e.rootState,c=void 0===t?{}:t,d=c.latitude,h=c.longitude;return m(this,void 0,void 0,(function(){var address,e,t,c;return v(this,(function(m){switch(m.label){case 0:this.$_reverseGeocodePromise&&this.$_reverseGeocodePromise.cancel&&this.$_reverseGeocodePromise.cancel(),m.label=1;case 1:return m.trys.push([1,3,4,5]),this.$_reverseGeocodePromise=this.$api.checkout.addressGeocodeReverse.get({latitude:d,longitude:h}),[4,this.$_reverseGeocodePromise];case 2:return address=m.sent()||null,this.$analytics.send("checkout/mapAddress",{trackerEvent:{widget:"checkout-widget",delivery_type:l()(o,"checkout.delivery.nextDeliveryType.deliverySchema"),address_uid:Boolean(l()(address,"addressUid"))}}),address?(e=l()(address,"area.areaId"),t=l()(n,"editableAddressLocation.areaId"),e!==t&&this.$analytics.send("checkout/mapRegion",{trackerEvent:{widget:"checkout-widget",delivery_type:l()(o,"checkout.delivery.nextDeliveryType.deliverySchema"),region_id:e}})):this.$analytics.send("checkout/reverseGeocodeFail",{trackerEvent:{widget:"checkout-widget",delivery_type:f.m.SERVICE,latitude:d,longitude:h}}),this.$_reverseGeocodePromise=null,[2,address];case 3:return(c=m.sent()).request&&this.$logger.error({exception:c,message:r.d.ERROR_GET_ADDRESS_BY_COORDINATES}),[2,null];case 4:return this.$_addressPromise=null,[7];case 5:return[2]}}))}))},GET_ADDRESS_BY_UID:function(e,t){return m(this,void 0,void 0,(function(){var e;return v(this,(function(n){switch(n.label){case 0:this.$_addressPromise&&this.$_addressPromise.cancel&&this.$_addressPromise.cancel(),n.label=1;case 1:return n.trys.push([1,3,4,5]),this.$_addressPromise=this.$api.checkout.address.get(t),[4,this.$_addressPromise];case 2:return[2,n.sent()];case 3:return(e=n.sent()).request&&this.$logger.error({exception:e,message:r.d.ERROR_GET_ADDRESS_BY_UID}),[2,null];case 4:return this.$_addressPromise=null,[7];case 5:return[2]}}))}))},SWITCH_CITY_BY_FIAS:function(e,address){var t=e.rootState,n=e.dispatch;return m(this,void 0,void 0,(function(){var e,o,c,l;return v(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,this.$api.location.search.get({query:address.data.city_fias_id})];case 1:return(e=d.sent())&&e.length?(o=t.location.current.areaId,e.some((function(e){return e.areaId===o}))?[2,!1]:(c=e[0],n("location/CHANGE_LOCATION",c,{root:!0}),[3,3])):[2,!1];case 2:return l=d.sent(),this.$logger.error({exception:l,message:r.i.ERROR_SEARCH_CITY}),[3,3];case 3:return[2]}}))}))},RESET_FORM:function(e){(0,e.commit)("resetForm")},GET_STATES:function(e){var t=e.state,n=e.rootState;return m(this,void 0,void 0,(function(){var e,o;return v(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),e=(t.editableAddressLocation||n.location.current.areaId).areaId,[4,this.$api.checkout.states.get({areaId:e})];case 1:return[2,c.sent()];case 2:return o=c.sent(),this.$logger.error({exception:o,message:r.d.ERROR_FETCH_STATES}),[2,[]];case 3:return[2]}}))}))},SET_STREET:function(e,t){var n=e.state,r=e.commit,o=[t,l()(n.data,"russianAddress.data.house")||""].join(", ").trim();r("setRussianAddress",{data:h({},l()(n.data,"russianAddress.data"),{street:t}),value:o})},SET_HOUSE:function(e,t){var n=e.state,r=e.commit,o=[l()(n.data,"russianAddress.data.street")||"",t].join(", ").trim();r("setRussianAddress",{data:h({},l()(n.data,"russianAddress.data"),{house:t}),value:o})},SET_FIAS_ID:function(e,t){(0,e.commit)("setFiasId",t)},SET_COORDINATES:function(e,t){void 0===t&&(t=null),(0,e.commit)("setCoordinates",t)},SET_AREA:function(e,area){var t=e.state,n=e.commit,r=e.rootState,o=h({},t.data.russianAddress,{data:h({},t.data.russianAddress.data,{area:area})});if(Boolean(r.experiments.experiments["web.checkoutCountrySelector"])&&area){var c=[area.name||"",l()(t.data,"russianAddress.data.street")||"",l()(t.data,"russianAddress.data.house")||""].join(", ").trim();o=h({},o,{value:c})}n("setRussianAddress",o)},SET_EDITABLE_ADDRESS_LOCATION_BY_AREA_ID:function(e,t){var n=e.state,r=e.rootState,o=e.dispatch;return m(this,void 0,void 0,(function(){var e,c;return v(this,(function(l){switch(l.label){case 0:return t&&n.editableAddressLocation&&n.editableAddressLocation.areaId===t?[2]:r.location.current.areaId!==t?[3,1]:(e=r.location.current,[3,4]);case 1:return(c=t)?[4,this.$api.location.areas.get({areaId:t})]:[3,3];case 2:c=l.sent(),l.label=3;case 3:e=c,l.label=4;case 4:return e&&o("SET_EDITABLE_ADDRESS_LOCATION",e),[2]}}))}))},SET_EDITABLE_ADDRESS_LOCATION:function(e,t){(0,e.commit)("setEditableAddressLocation",t)},SET_ADDRESS_UID:function(e,t){(0,e.commit)("setAddressUid",t)},SET_COUNTRY_SELECTOR:function(e,t){(0,e.commit)("setCountrySelector",t)},SET_CITY_SELECTOR:function(e,t){(0,e.commit)("setCitySelector",t)},CHANGE_LOCATION:function(e,t){var n=e.dispatch,r=t.newLocation;return m(this,void 0,void 0,(function(){var e;return v(this,(function(t){switch(t.label){case 0:return e=l()(r,"areaId"),n("RESET_FORM"),[4,n("SET_EDITABLE_ADDRESS_LOCATION_BY_AREA_ID",e)];case 1:return t.sent(),[4,n("checkout/form/COLLECT_FIELDS",{isPreviewMode:!0,selectedAreaId:e},{root:!0})];case 2:return t.sent(),[2]}}))}))},CHANGE_COUNTRY_SELECTOR:function(e,t){var n=e.dispatch;return m(this,void 0,void 0,(function(){var e;return v(this,(function(r){switch(r.label){case 0:return e=l()(t,"area.areaId"),n("RESET_FORM"),n("SET_CITY_SELECTOR",null),[4,n("SET_EDITABLE_ADDRESS_LOCATION_BY_AREA_ID",e)];case 1:return r.sent(),[4,n("checkout/form/COLLECT_FIELDS",{isPreviewMode:!0,selectedAreaId:e},{root:!0})];case 2:return r.sent(),[2]}}))}))},CHANGE_CITY_SELECTOR:function(e,t){var n=e.dispatch;return m(this,void 0,void 0,(function(){var e;return v(this,(function(r){switch(r.label){case 0:return e=l()(t,"area.areaId"),n("RESET_FORM"),n("SET_CITY_SELECTOR",t),[4,n("SET_EDITABLE_ADDRESS_LOCATION_BY_AREA_ID",e)];case 1:return r.sent(),[4,n("checkout/form/COLLECT_FIELDS",{isPreviewMode:!0,selectedAreaId:e},{root:!0})];case 2:return r.sent(),[2]}}))}))}}},dbe526:function(e,t,n){},dbf9bf:function(e,t,n){e.exports={progressLine:"_86ecf6",modMobile:"_4f999a",text:"e7267b",blink:"e71ce3"}},dbfd67:function(e,t,n){e.exports={title:"_7a0c97",note:"_4eda31",blink:"_73a325"}},dcf817:function(e,t,n){e.exports={checkboxContainer:"c0101d",text:"_1c9d0d",mDisabled:"_834ab1",blink:"c12188"}},dd3a96:function(e,t,n){"use strict";var r=n("032c49"),o=n.n(r);t.default=o.a},dde9cd:function(e,t,n){e.exports={header:"cf3b48","header-top":"_9d1ec6",composerless:"c0163c",logo:"_14ccfc","catalog-menu":"f46c96","search-bar":"_1b1530","user-menu":"_330917","user-menu-item":"_2a1234","steps-bar":"_3ab960","header-bottom":"aaebc2",blink:"_7de609"}},de06ce:function(e,t,n){},de3329:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"getters",(function(){return o})),n.d(t,"mutations",(function(){return c})),n.d(t,"actions",(function(){return l}));var r=function(){return{marketingInfo:[],marketingDetails:[],marketingDetailsScore:[]}},o={marketingInfo:function(e){return e.marketingInfo},marketingDetails:function(e){return e.marketingDetails},marketingDetailsScore:function(e){return e.marketingDetailsScore}},c={setMarketingInfo:function(e,data){void 0===data&&(data=[]),e.marketingInfo=data},setMarketingDetails:function(e,data){void 0===data&&(data=[]),e.marketingDetails=data},setMarketingDetailsScore:function(e,data){void 0===data&&(data=[]),e.marketingDetailsScore=data}},l={SET_MARKETING_INFO:function(e,t){void 0===t&&(t={list:[]}),(0,e.commit)("setMarketingInfo",t.list)},SET_MARKETING_DETAILS:function(e,t){void 0===t&&(t={list:[]}),(0,e.commit)("setMarketingDetails",t.list)},SET_MARKETING_DETAILS_SCORE:function(e,t){void 0===t&&(t={list:[]}),(0,e.commit)("setMarketingDetailsScore",t.list)}}},df09d2:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return y})),n.d(t,"mutations",(function(){return E})),n.d(t,"getters",(function(){return _})),n.d(t,"actions",(function(){return S}));n("393231"),n("f8695b"),n("41d819"),n("aae158");var r=n("0e4782"),o=n("ff287e"),c=n.n(o),l=n("362c4b"),d=n("bbfe95"),f=function(){return(f=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},h=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},m=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},v={addressList:[],limit:0},y=function(){return f({},v)},E={setAddressList:function(e,t){void 0===t&&(t=[]),e.addressList=t},setLimit:function(e,t){e.limit=t}},_={selectedAddress:function(e){return e.addressList.find((function(address){return!0===address.isSelected}))}},S={GET_ADDRESS_LIST:function(e){var t=e.rootState,n=e.commit,r=e.dispatch;return h(this,void 0,void 0,(function(){var e,o,c;return m(this,(function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),e=t.location.current.areaId,[4,this.$api.checkout.addressBook.get({selectedAreaId:e})];case 1:return o=f.sent(),n("setAddressList",o.addresses),n("setLimit",o.limit),[3,3];case 2:return c=f.sent(),Object(l.a)(this.$logger,c,d.h.ERROR_GET_ADDRESS_LIST),r("SET_HAS_SERVICE_ERROR",!0),[3,3];case 3:return[2]}}))}))},ADD_ADDRESS:function(e){var t=e.dispatch,n=e.rootState;return h(this,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return t("checkout/form/address/RESET_FORM",{},{root:!0}),t("checkout/form/address/SET_EDITABLE_ADDRESS_LOCATION",n.location.current,{root:!0}),[4,t("checkout/form/COLLECT_FIELDS",{isPreviewMode:!0},{root:!0})];case 1:return e.sent(),[2]}}))}))},EDIT_ADDRESS:function(e,t){var n=e.state,r=e.dispatch,o=t.id;return h(this,void 0,void 0,(function(){var address,e,area,t,c,f,h,v,y;return m(this,(function(m){switch(m.label){case 0:return m.trys.push([0,8,,9]),r("checkout/form/address/RESET_FORM",{},{root:!0}),(address=n.addressList.find((function(address){return address.id===o})))?(e=address.addressUid,area=address.area,t=address.fields,c=address.fiasId,f=address.geoCoordinate,h=area&&area.areaId,f||!e?[3,2]:[4,r("checkout/form/address/GET_ADDRESS_BY_UID",e,{root:!0})]):[3,7];case 1:(v=m.sent())&&v.data.geoCoordinate&&(f=v.data.geoCoordinate),m.label=2;case 2:return t?[4,r("checkout/form/INIT_ADDRESS_FORM_DATA",{area:area,fields:t,fiasId:c,geoCoordinate:f,addressUid:e},{root:!0})]:[3,4];case 3:m.sent(),m.label=4;case 4:return[4,r("checkout/form/address/SET_EDITABLE_ADDRESS_LOCATION_BY_AREA_ID",h,{root:!0})];case 5:return m.sent(),[4,r("checkout/form/COLLECT_FIELDS",{isPreviewMode:!0,selectedAreaId:h},{root:!0})];case 6:m.sent(),m.label=7;case 7:return[3,9];case 8:return y=m.sent(),Object(l.a)(this.$logger,y,d.h.ERROR_EDIT_ADDRESS),r("SET_HAS_SERVICE_ERROR",!0),[3,9];case 9:return[2]}}))}))},SELECT_ADDRESS:function(e,t){var n=e.state,o=e.dispatch,f=e.rootState,v=e.rootGetters,y=t.id;return h(this,void 0,void 0,(function(){var address,e,t,h,E,_,S;return m(this,(function(m){switch(m.label){case 0:return m.trys.push([0,4,,5]),address=n.addressList.find((function(address){return address.id===y})),e=c()(address,"area.areaId"),t=f.location.current.areaId,[4,this.$api.checkout.addressBook.post({id:y,areaId:e||t})];case 1:return m.sent(),h=c()(f,"checkout.delivery.nextDeliveryType.id"),E=e&&e!==t,_=v["checkout/summary"].splitGroups,[4,o("checkout/UPDATE_CHECKOUT",{scope:r.SCOPE_SETS.SERVICE,options:{areaId:e,deliveryTypeId:h,splitGroups:E?void 0:_}},{root:!0})];case 2:return m.sent(),this.$analytics.send("checkout/pickAddress",{trackerEvent:{widget:"checkout-widget",delivery_type:c()(f,"checkout.delivery.nextDeliveryType.deliverySchema"),region_id:e,address_uid:Boolean(address.addressUid)}}),E?(o("location/CHANGE_LOCATION",{areaId:e},{root:!0}),[2]):[4,o("checkout/form/COLLECT_FIELDS",{},{root:!0})];case 3:return m.sent(),[3,5];case 4:return S=m.sent(),Object(l.a)(this.$logger,S,d.h.ERROR_SELECT_ADDRESS),o("SET_HAS_SERVICE_ERROR",!0),[3,5];case 5:return[2]}}))}))},DELETE_ADDRESS:function(e,t){var n=e.dispatch,o=t.id,c=t.areaId;return h(this,void 0,void 0,(function(){var e;return m(this,(function(t){switch(t.label){case 0:return t.trys.push([0,4,,5]),[4,this.$api.checkout.addressBook.delete({id:o,areaId:c})];case 1:return t.sent(),[4,n("GET_ADDRESS_LIST")];case 2:return t.sent(),[4,n("checkout/UPDATE_CHECKOUT",{scope:r.SCOPE_SETS.SERVICE},{root:!0})];case 3:return t.sent(),[3,5];case 4:return e=t.sent(),Object(l.a)(this.$logger,e,d.h.ERROR_DELETE_ADDRESS),n("SET_HAS_SERVICE_ERROR",!0),[3,5];case 5:return[2]}}))}))},SET_LOADING:function(e,t){(0,e.commit)("setLoading",t)}}},df2fe1:function(e,t,n){"use strict";var r=n("509163"),o={name:"OzonModal",props:{theme:{type:String,default:""},backgroundColor:{type:String,default:r.b.LIGHT,validator:function(e){return e}},modalContainerMods:{type:Array,default:function(){return[]},validator:function(e){return Array.isArray(e)}},opaqueBackground:{type:Boolean,default:!1},opacityBackground:{type:Boolean,default:!1},premium:{type:Boolean,default:!1},scrollingWindow:{type:Boolean,default:!1},isCloseButtonVisible:{type:Boolean,default:!0}},computed:{isGrayMod:function(){return this.backgroundColor===r.b.GRAY},modalContainerClass:function(){return["modal-container",{"m-scrolling":this.scrollingWindow,"modal-premium":this.premium}].concat(this.modalContainerMods)}},mounted:function(){document.addEventListener("keydown",this.checkEscapeKey)},beforeDestroy:function(){document.removeEventListener("keydown",this.checkEscapeKey)},methods:{onMaskClick:function(e){e.target===this.$refs.mask&&this.onClose()},checkEscapeKey:function(e){var t=(void 0===e?{}:e).keyCode;t&&27===t&&this.onClose()},onClose:function(){this.$emit("close")}}},c=(n("fc5264"),n("b429cb")),component=Object(c.a)(o,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("transition",{attrs:{name:"modal"}},[r("div",{directives:[{name:"body-scroll-lock",rawName:"v-body-scroll-lock"}],class:["modal-mask",t.backgroundColor,(e={"m-opaque":t.opaqueBackground,light:t.opacityBackground,"m-scrolling":t.scrollingWindow},e[t.theme+"-theme"]=t.theme,e)]},[r("div",{ref:"mask",class:["modal-wrapper",{"m-scrolling":t.scrollingWindow}],on:{mousedown:t.onMaskClick}},[r("div",{directives:[{name:"body-scroll-lock",rawName:"v-body-scroll-lock"}],class:t.modalContainerClass,attrs:{"data-test-id":"modal-container"}},[t.isCloseButtonVisible&&!t.isGrayMod?r("button",{staticClass:"reset-button close",attrs:{"aria-label":"закрыть",type:"button"},on:{click:t.onClose}}):t._e(),t._v(" "),r("div",{staticClass:"modal-content"},[t._t("default")],2)]),t._v(" "),t.isCloseButtonVisible&&t.isGrayMod?r("button",{class:["reset-button close m-gray",{"m-fixed":t.scrollingWindow}],attrs:{"data-test-id":"modal-button-gray",type:"button"},on:{click:t.onClose}}):t._e()])])])}),[],!1,null,"f8cbf1be",null);t.a=component.exports},dfddc9:function(e,t,n){"use strict";var r=n("9d1af9");n.n(r).a},dff84f:function(e,t,n){e.exports={dropdownTooltip:"ff36bb",blink:"_81abe8"}},e0fcac:function(e,t,n){e.exports={product:"d13909",blink:"_25b31f"}},e10f53:function(e,t,n){},e18936:function(e,t,n){e.exports={pic:"_620e02",blink:"ddffe1"}},e1bd2c:function(e,t,n){"use strict";var r=n("f86d24");n.n(r).a},e245b5:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("afced8"),n("497371"),n("42f576"),n("cb1771"),n("5dd61c"),n("66914a"),n("88baaa");var r=n("a17947"),o={hasSpaces:function(e){var t=e.value;return Boolean(t.match(/([\s]+)/g))},tooLong:function(e,t){var n,r=e.value;return void 0!==t&&(n=t.maxValue),!!n&&r.length>=n},tooShort:function(e,t){var n,r=e.value;return void 0!==t&&(n=t.minValue),!!n&&r.length<n},isCorrectLength:function(e,t){var n,r=e.value,o=e.required;return void 0!==t&&(n=t.lengths),!r&&!o||!!n&&n.includes(r.length)},isEmpty:function(e){var t=e.value,n=e.required;return""===t.replace(/\s/g,"")&&n},isEmailValid:function(e){var t=e.value,n=e.required;return Object(r.f)(t)||""===t&&!n},isPhoneEmpty:function(e){return(e.value===r.b||this.isEmpty(e))&&e.required},isPhoneValid:function(e){var t=e.value;return Object(r.g)(t)},isDateValid:function(e){var t=e.value,n=e.required;if(t){var r=(new Date).getTime(),o=t.split("."),c=o[0]?Number(o[0]):"",l=o[1]?Number(o[1]):"",d=o[2]?Number(o[2]):"";if(!c||!l||!d||c>31||l>13||String(d).length<4)return!1;var f=d+"/"+l+"/"+c;return r>new Date(f).getTime()&&!isNaN(new Date(f).getTime())}return""===t&&!n},isCompanyNameValid:function(e){var t=e.value;return!!t&&/^[а-яА-ЯёЁa-zA-Z]+$/.test(t)},isOKPOValid:function(e){var t=e.value,n=e.required;return!t&&!n||/^[0-9 ,]+$/.test(t)},hasSpecialCharacters:function(e){var t=e.value;return["www","http","\\","//"].reduce((function(e,n){return t.includes(n)&&(e=!0),e}),!1)}},c=Object.freeze(o)},e282cf:function(e,t,n){"use strict";n.r(t);var r={CommunicationNcChat:{content:function(){return Promise.all([n.e(1),n.e(2),n.e(0),n.e(44)]).then(n.bind(null,"9ce9f8"))}}};t.default=r},e31139:function(e,t,n){"use strict";var r=n("5b3cee");n.n(r).a},e382e2:function(e,t,n){"use strict";var r=n("361dc1"),o=n.n(r);t.default=o.a},e3d74d:function(e,t,n){"use strict";var r=n("cef374"),o=n.n(r);t.default=o.a},e3f012:function(e,t,n){"use strict";var r=n("19af75");n.n(r).a},e4591c:function(e,t,n){"use strict";n("42f576"),n("cb1771");var r=n("5eabea"),o=(n("5dd61c"),n("66914a"),n("497371"),n("3f935c")),c=n.n(o),l=n("c7aace"),d=n("b4434c"),f={name:"Price",props:{price:{type:[String,Number],required:!0},currency:{default:"RUB",type:String},size:{default:12,type:Number},styled:{default:!1,type:Boolean},cross:{default:!1,type:Boolean},linethrough:{default:!1,type:Boolean},strikethrough:{default:!1,type:Boolean},withoutMargin:{default:!1,type:Boolean},unit:{type:String,default:void 0},color:{type:String,default:"",validator:function(e){return["red",""].includes(e)}}},computed:{rule:function(){return d.a[this.currency]||d.a.defaultRule},priceParts:function(){var e=this.getPriceParts(this.price),t=e.subString;return{mainString:e.mainString,subString:t,subNumber:e.subNumber}},classObject:function(){var e;return["price",(e={styled:this.styled,cross:this.cross,linethrough:this.linethrough,strikethrough:this.strikethrough},Object(r.a)(e,"_color-".concat(this.color),this.color),Object(r.a)(e,"withoutMargin",this.withoutMargin),e)]}},methods:{getPriceParts:function(e){var t;return c()(e)||(e=Number(e.replace(/\s+/g,"").replace(/,/g,"."))),t=(e=e.toFixed(2)).split("."),{mainString:Object(l.g)(t[0]),subString:t[1],mainNumber:Number(t[0]),subNumber:Number(t[1])}}}},h=(n("e31139"),n("b429cb")),component=Object(h.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.price||0===e.price?n("span",{class:e.classObject,style:{fontSize:e.size+"px"}},[e.rule.leftSide?n("span",{staticClass:"currency",domProps:{innerHTML:e._s(e.rule.symbol)}}):e._e(),e._v(" "),n("span",{staticClass:"price-number",class:{cross:e.cross}},[n("span",{staticClass:"main",domProps:{innerHTML:e._s(e.priceParts.mainString)}}),e.priceParts.subNumber&&!e.styled?n("span",{domProps:{innerHTML:e._s(e.rule.delimiter)}}):e._e(),e.priceParts.subNumber?n("span",{staticClass:"sub",domProps:{innerHTML:e._s(e.priceParts.subString)}}):e._e()]),e._v(" "),e.rule.leftSide?e._e():n("span",{staticClass:"currency",domProps:{innerHTML:e._s(e.rule.symbol)}}),e._v(" "),e.unit?n("span",{staticClass:"unit"},[e._v("/"),n("span",{staticClass:"unit-name",domProps:{innerHTML:e._s(e.unit)}})]):e._e()]):e._e()}),[],!1,null,"2d02c2d5",null);t.a=component.exports},e4a955:function(e,t,n){e.exports={popup:"_5fbcf7",mNoZindex:"_3497bd",fullScreen:"b823ef",close:"_03e0e3",mBlack:"_1b46e3",blink:"adbc03"}},e4caa4:function(e,t,n){"use strict";n.r(t);var r={ReferralGetReferralCode:{content:function(){return n.e(265).then(n.bind(null,"29c265"))},places:["block-horizontal.default","block-vertical.default","container.default"]},ReferralNewReferralPage:{content:function(){return n.e(271).then(n.bind(null,"faf5f9"))},places:["block-horizontal.default","block-vertical.default","container.default"]},ReferralManagerStatistics:{content:function(){return Promise.all([n.e(0),n.e(269)]).then(n.bind(null,"1ae615"))},extendPlaces:!0,places:["grid-column.default"]},ReferralManagerShortInfo:{content:function(){return n.e(268).then(n.bind(null,"5ce750"))},places:["grid-column.default","my-menu.header"]},ReferralManagerMonthProgress:{content:function(){return n.e(267).then(n.bind(null,"6c0208"))},places:["progressPlaceholder.managerMonthProgress","my-menu.header"],extendPlaces:!0},ReferralManagerFormPage:{content:function(){return Promise.all([n.e(0),n.e(266)]).then(n.bind(null,"f7a691"))},places:["grid-column.default"]},ReferralManagerTasks:{content:function(){return Promise.all([n.e(0),n.e(270)]).then(n.bind(null,"fbd026"))},places:["grid-column.default"],extendPlaces:!0}};t.default=r},e4cd70:function(e,t,n){"use strict";n("497371");var r={name:"FiveDots",props:{mod:{type:String,default:"five-dots"},positionModel:{type:String,default:"relative"},height:{type:Number,default:10}},computed:{styles:function(){return{position:this.positionModel,height:"".concat(this.height,"px")}}}},o=(n("425233"),n("b429cb")),component=Object(o.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.mod,style:this.styles},[this._t("default")],2)}),[],!1,null,"73b0af1d",null);t.a=component.exports},e551b4:function(e,t,n){e.exports={merge:"_14ceee",title:"f27d97",text:"_8604fd",deliveryText:"_81aeed",split:"c6aa46",blink:"_848b08"}},e56c70:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.IDLE="IDLE",e.RUNNING="RUNNING",e.SUCCESS="SUCCESS",e.FAILED="FAILED"}(r||(r={}))},e5a616:function(e,t,n){e.exports={deliveryHeader:"_0e2fea",blink:"fc9341"}},e60814:function(e,t,n){"use strict";n("f8695b"),n("41d819"),n("aae158");var r=n("6876d5"),o=n("15596c"),c=n("ff287e"),l=n.n(c),d=n("de0cfd"),f=n("a17947"),input=n("384e52"),h=n("33300a"),m=n("4aabb9"),v=n("ae855d"),y=n("9d8862"),E={name:"InputPhone",components:{FormFieldPhone:m.a,ErrorMessage:v.a,SubmitButton:y.a},props:{requestInProgress:{type:Boolean,required:!0},isLegalEntityRegistration:{type:Boolean,required:!0},errorMessage:{type:String,required:!0},phoneHint:{type:String,default:""}},data:function(){return{byPhoneForm:h.a}},computed:{modsForTextInput:function(){var e=[input.b.GRAY,input.b.MATERIAL];return this.byPhoneForm.errorText&&e.push(input.b.ERROR),e},getButtonText:function(){return this.isLegalEntityRegistration?"Зарегистрироваться":"Получить код"}},created:function(){this.checkPhoneHint()},methods:{onChangePhone:function(e){var t=e.value;this.byPhoneForm.value=t},checkPhoneHint:function(){this.byPhoneForm.value=Object(f.d)(this.phoneHint)},submit:function(){this.byPhoneForm.validate(this.byPhoneForm),this.byPhoneForm.isValid(this.byPhoneForm)&&(this.gaGetSmsEvent(),this.$emit("sendCodeRequest",Object(f.e)(this.byPhoneForm.value)))},clearError:function(){this.$emit("clearError"),this.byPhoneForm.errorText=""},gaGetSmsEvent:function(){this.$analytics.send("authorization/getSmsCode",{isCheckout:!1,phone:this.byPhoneForm.value})},emitEvent:function(e){this.$emit(e),this.clearError()}}},_=n("f3b84a"),S=n("b429cb");var O=Object(S.a)(E,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isLegalEntityRegistration?n("div",{class:e.$style.title},[e._v("\n    Регистрация"),n("br"),e._v("юридического лица\n  ")]):n("div",{class:e.$style.title},[e._v("\n    Вход или регистрация\n  ")]),e._v(" "),n("FormFieldPhone",{attrs:{field:e.byPhoneForm,"test-id":e.byPhoneForm.id+"LoginField",disabled:e.requestInProgress},on:{focus:e.clearError,phoneChanged:e.onChangePhone,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit(t)}}}),e._v(" "),n("ErrorMessage",{attrs:{error:e.errorMessage}}),e._v(" "),n("SubmitButton",{attrs:{"test-id":"getCode",text:e.getButtonText,loading:e.requestInProgress},on:{submit:e.submit}}),e._v(" "),n("div",{class:e.$style.blockWithLinks},[e.isLegalEntityRegistration?[n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"goToPhone",expression:"'goToPhone'",arg:"id"}],class:e.$style.linkBase,attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.emitEvent("goToPhone")}}},[e._v("Войти по телефону")]),e._v(" "),n("br")]:e._e(),e._v(" "),n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"goToEmail",expression:"'goToEmail'",arg:"id"}],class:e.$style.linkBase,attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("goToEmail")}}},[e._v("Войти по почте")]),e._v(" "),n("br"),e._v(" "),e.isLegalEntityRegistration?e._e():n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"goToCreateLegal",expression:"'goToCreateLegal'",arg:"id"}],class:e.$style.linkBase,attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.emitEvent("goToCreateLegal")}}},[e._v("Создать аккаунт как юрлицо")])],2)],1)}),[],!1,(function(e){this.$style=_.default.locals||_.default}),null,null).exports,T={name:"AgreementCheckbox",components:{Checkbox:n("a122d7").a},props:{hasError:{type:Boolean,required:!0}},data:function(){return{checkboxValue:!1}},methods:{toggleAgreement:function(e){this.checkboxValue=e,this.$emit("toggleAgreement",e)}}},I=n("ff656a");var w=Object(S.a)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.agreementCheckbox},[n("Checkbox",{directives:[{name:"qa",rawName:"v-qa:id",value:"agreementCheckbox",expression:"'agreementCheckbox'",arg:"id"}],class:e.$style.checkbox,attrs:{value:e.checkboxValue,"has-error":e.hasError},on:{input:e.toggleAgreement}},[e._v("\n    Согласен с "),n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"agreementLinkSale",expression:"'agreementLinkSale'",arg:"id"}],attrs:{href:"https://docs.ozon.ru/common/pravila-prodayoi-i-rekvizity/usloviya-prodayoi-tovarov-dlya-fizicheskih-lits-v-ozon-ru",target:"_blank"}},[e._v("условиями")]),e._v(" продажи товаров и\n    "),n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"agreementLinkPersonalData",expression:"'agreementLinkPersonalData'",arg:"id"}],attrs:{href:"https://docs.ozon.ru/common/pravila-prodayoi-i-rekvizity/konfidentsial-nost-personal-noj-informatsii",target:"_blank"}},[e._v("обработки")]),e._v(" персональных данных\n  ")])],1)}),[],!1,(function(e){this.$style=I.default.locals||I.default}),null,null).exports,C=n("a30105"),k=n("af73d5"),P={name:"InputOtp",components:{EnterOtp:C.a,AgreementCheckbox:w,SubmitButton:y.a,ErrorMessage:v.a},props:{phoneToOutput:{type:String,required:!0},otpStatus:{type:Object,required:!0},renderTime:{type:String,required:!0},requestInProgress:{type:Boolean,default:!1},newAccountEntry:{type:Boolean,default:!1},isExtraOtpRequested:{type:Boolean,default:!1},isOtpTtlExceeded:{type:Boolean,default:!1},email:{type:String,default:""},errorMessage:{type:String,default:""},otpErrorMessage:{type:String,default:""}},data:function(){return{agreementErrorVisible:!1,codeInvalidErrorMessage:"",agreementConfirmed:!1,otp:""}},computed:{codeIsValid:function(){return 4===this.otp.length},messageSendOn:function(){return this.isExtraOtpRequested?"почту "+this.email:this.phoneToOutput}},created:function(){this.agreementConfirmed=!this.newAccountEntry,this.$analytics.send("authorization/inputCode",{phone:Object(f.e)(this.phoneToOutput)})},methods:{onCheckCode:function(e){var t=e.otp;this.otp=t,this.newAccountEntry||this.$emit("sendCheckCodeRequest",{otp:t})},onToggleAgreement:function(e){this.agreementConfirmed=e,this.agreementErrorVisible=!1},onGoToEmail:function(){this.$emit("goToEmail"),this.$emit("clearError"),this.agreementErrorVisible=!1},onClearError:function(){this.$emit("clearError"),this.codeInvalidErrorMessage=""},submit:function(){var e=this.otp;this.codeIsValid&&this.agreementConfirmed?(this.codeInvalidErrorMessage="",this.$emit("sendCheckCodeRequest",{otp:e})):this.codeIsValid||(this.codeInvalidErrorMessage=k.a.isIncorrectLength.code),this.agreementConfirmed||(this.agreementErrorVisible=!0)},onSetCode:function(code){this.otp=code}}};var R,x,A,L,D,$=Object(S.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("EnterOtp",{attrs:{"message-send-on":e.messageSendOn,"render-time":e.renderTime,"request-in-progress":e.requestInProgress,"error-message":e.otpErrorMessage||e.codeInvalidErrorMessage,"otp-status":e.otpStatus,"is-edit-allowed":!e.isExtraOtpRequested,"is-get-code-hidden":e.isOtpTtlExceeded},on:{goTo:function(t){return e.$emit("goTo")},getNewCode:function(t){return e.$emit("getNewCode")},clearError:e.onClearError,checkCode:e.onCheckCode,setCode:e.onSetCode}}),e._v(" "),n("ErrorMessage",{class:e.$style.errorMessage,attrs:{error:e.errorMessage}}),e._v(" "),e.newAccountEntry?n("AgreementCheckbox",{attrs:{"has-error":e.agreementErrorVisible},on:{toggleAgreement:e.onToggleAgreement}}):e._e(),e._v(" "),e.newAccountEntry?n("SubmitButton",{attrs:{"test-id":"signUp",text:"Зарегистрироваться",loading:e.requestInProgress},on:{submit:e.submit}}):e._e(),e._v(" "),n("div",{class:e.$style.blockWithLinks},[e.isExtraOtpRequested?n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"goToEmail",expression:"'goToEmail'",arg:"id"}],class:e.$style.linkBase,attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("goToPhone")}}},[e._v("Войти по телефону")]):n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"goToEmail",expression:"'goToEmail'",arg:"id"}],class:e.$style.linkBase,attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("goToEmail")}}},[e._v("Войти по почте")]),e._v(" "),Boolean(e.phoneToOutput)?[n("br"),e._v(" "),e.isExtraOtpRequested?e._e():n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"linkDoesNotComeSms",expression:"'linkDoesNotComeSms'",arg:"id"}],class:e.$style.linkBase,attrs:{href:"https://docs.ozon.ru/common/lichnyj-kabinet#id-Личныйкабинет-sms",target:"_blank"}},[e._v("Не приходит СМС?")])]:e._e()],2)],1)}),[],!1,(function(e){this.$style=_.default.locals||_.default}),null,null).exports,M=n("ec8b32"),N=n("b2a4b2"),j=n("3aacf1"),F=n("bbfe95");!function(e){e.FAST_ENTRY="FAST_ENTRY",e.EMAIL_ENTRY="EMAIL_ENTRY",e.PASSWORD_RESET="PASSWORD_RESET"}(R||(R={})),function(e){e.PHONE_REQUIRED="PHONE_REQUIRED",e.OTP_REQUIRED="OTP_REQUIRED",e.EMAIL_PASSWORD_REQUIRED="EMAIL_PASSWORD_REQUIRED",e.EMAIL_CONFIRMATION_REQUIRED="EMAIL_CONFIRMATION_REQUIRED",e.ENTRY_SUCCEEDED="ENTRY_SUCCEEDED"}(x||(x={})),function(e){e.EMAIL_PASSWORD_REQUIRED="EMAIL_PASSWORD_REQUIRED",e.OTP_REQUIRED="OTP_REQUIRED",e.ENTRY_SUCCEEDED="ENTRY_SUCCEEDED"}(A||(A={})),function(e){e.EMAIL_REQUIRED="EMAIL_REQUIRED",e.SUCCESS="SUCCESS"}(L||(L={})),function(e){e.PHONE_EXCLUDES_REGISTRATION="phoneExcludesRegistration",e.OTP_TTL_EXCEEDED="otpTtlExceeded"}(D||(D={}));var B={emailAndPasswordInvalid:F.d.ACCESS_DENIED,userBlocked:F.C.USER_BLOCKED,phoneExcludesRegistration:F.C.CANNOT_CREATE_NEW_ACCOUNT_ON_THIS_NUMBER,phoneInvalid:k.a.isInvalid.phone,phoneNotApplicableForSpecifiedAccount:F.C.PHONE_CANNOT_BE_USED_IN_ACCOUNT,phoneNotUnique:F.C.PHONE_NOT_UNIQUE,otpTtlExceeded:"Время сессии истекло"},U={emailAndPasswordInvalid:F.d.ACCESS_DENIED,userBlocked:F.C.USER_BLOCKED},G={PASSWORD_RESET_ERROR_USER_NOT_FOUND:F.C.NO_MAIL_IS_USED},V={name:"InputEmailPassword",components:{ErrorMessage:v.a,SubmitButton:y.a,FormFieldBase:M.a},props:{requestInProgress:{type:Boolean,required:!0},errorMessage:{type:String,required:!0},phoneToOutput:{type:String,required:!0},newAccountEntry:{type:Boolean,default:!1},errorName:{type:String,default:""}},data:function(){return{byEmailForm:N.a,formFieldIds:j.a}},computed:{phoneExcludesRegistration:function(){return this.errorName===D.PHONE_EXCLUDES_REGISTRATION&&this.errorMessage}},methods:{field:function(e){return this.byEmailForm.reduce((function(t,n){return n.id===e?n:t}),{})},submit:function(){if(this.byEmailForm.forEach((function(e){return e.validate(e)})),this.byEmailForm.every((function(e){return e.isValid(e)}))){var data={email:this.field(j.a.EMAIL).value,password:this.field(j.a.PASSWORD).value};this.$emit("loginByEmail",data)}},onInput:function(e,t){this.field(t).value=e},onFocus:function(e){var t=e.id;this.$emit("clearError"),this.field(t).errorText=""}}};var H=Object(S.a)(V,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{class:e.$style.title},[e.newAccountEntry?[e._v("\n      Кажется, мы вас узнали\n    ")]:[e._v("\n      Вас давно не было\n    ")]],2),e._v(" "),n("div",{class:e.$style.note},[e.newAccountEntry?[e._v("\n      Свяжите телефон "+e._s(e.phoneToOutput)+" с вашим аккаунтом по почте\n    ")]:[e._v("\n      Укажите свой логин и пароль."),n("br"),e._v("Тогда мы будем уверены, что не отдаем аккаунт в чужие руки:\n    ")]],2),e._v(" "),e._l(e.byEmailForm,(function(t){return n("FormFieldBase",{key:t.id,attrs:{field:t,autofocus:t.id===e.formFieldIds.EMAIL,disabled:e.requestInProgress},on:{focus:e.onFocus,enter:e.submit,input:e.onInput}})})),e._v(" "),e.phoneExcludesRegistration?e._e():n("ErrorMessage",{attrs:{error:e.errorMessage}}),e._v(" "),n("SubmitButton",{attrs:{"test-id":"loginButton",text:"Войти",loading:e.requestInProgress},on:{submit:e.submit}}),e._v(" "),n("div",{class:e.$style.forgotPassword},[n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"forgotPasswordButton",expression:"'forgotPasswordButton'",arg:"id"}],class:e.$style.linkBase,attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("forgotPassword")}}},[e._v("Забыли пароль")])]),e._v(" "),n("div",{class:e.$style.blockWithLinks},[e.phoneExcludesRegistration?n("ErrorMessage",{attrs:{error:e.errorMessage}}):[n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"createNewAccountLink",expression:"'createNewAccountLink'",arg:"id"}],class:e.$style.linkBase,attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("forcePhoneRegistration")}}},[e._v("Создать новый аккаунт")]),e._v(" "),n("div",{class:e.$style.message},[e._v("\n        Данные вашего старого аккаунта не будут перенесены в новый\n      ")])]],2)],2)}),[],!1,(function(e){this.$style=_.default.locals||_.default}),null,null).exports,z={name:"ConfirmEmail",components:{ErrorMessage:v.a,SubmitButton:y.a},props:{requestInProgress:{type:Boolean,required:!0},errorMessage:{type:String,required:!0},email:{type:String,required:!0},errorName:{type:String,default:""}},computed:{phoneExcludesRegistration:function(){return this.errorName===D.PHONE_EXCLUDES_REGISTRATION&&this.errorMessage}},methods:{submit:function(){this.$emit("confirmEmail")}}};var Y=Object(S.a)(z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{class:e.$style.title},[e._v("\n    Вас давно не было\n  ")]),e._v(" "),n("div",{class:e.$style.note},[e._v("\n    Помогите нам убедиться, что это вы."),n("br"),e._v("\n    Мы отправим код на вашу почту "+e._s(e.email)+"\n  ")]),e._v(" "),e.phoneExcludesRegistration?e._e():n("ErrorMessage",{attrs:{error:e.errorMessage}}),e._v(" "),n("SubmitButton",{attrs:{"test-id":"getCodeOnEmail",text:"Получить код",loading:e.requestInProgress},on:{submit:e.submit}}),e._v(" "),n("div",{class:e.$style.blockWithLinks},[e.phoneExcludesRegistration?n("ErrorMessage",{attrs:{error:e.errorMessage}}):[n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"createNewAccountLink",expression:"'createNewAccountLink'",arg:"id"}],class:e.$style.linkBase,attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("forcePhoneRegistration")}}},[e._v("Создать новый аккаунт")])]],2)],1)}),[],!1,(function(e){this.$style=_.default.locals||_.default}),null,null).exports,W=n("694e3b"),K=n("5ab435"),X={NOT_VALID:F.C.OTP_INCORRECT,EXPIRED:F.C.OTP_IS_EXPIRED,TOO_MANY_CHECK_REQUESTS:F.C.OTP_IS_EXPIRED},Q=function(){return(Q=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},Z=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},J=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},ee={name:"FastEntry",components:{InputPhone:O,InputOtp:$,InputEmailPassword:H,BlockingLoader:o.a,ConfirmEmail:Y},props:{forceLegalEntity:{type:Boolean,default:!1}},data:function(){return{requestInProgress:!1,errorMessage:"",otpErrorMessage:"",payload:null,stages:x,stage:x.PHONE_REQUIRED,timeout:null,secondDelay:1e3,getAttempt:0,getAttemptEmail:0,wrongAttempt:0,emailPasswordFormWasShown:!1}},computed:{phoneToOutput:function(){var e=l()(this,"payload.data.phone","");return e?Object(f.d)(e):""},renderTime:function(){var e=l()(this,"otp.resendAfter",0),t=Math.floor(e/60),n=e%60;return(t?("00"+t).slice(-2):"00")+":"+(n?("00"+n).slice(-2):"00")},isLegalEntityRegistration:function(){return l()(this,"payload.data.forceLegalEntity",!1)||this.forceLegalEntity},phoneHint:function(){return l()(this,"payload.data.phoneHint")||l()(this,"payload.data.phone")||f.b},otp:function(){var e=l()(this,"payload.data.isExtraOtpRequested",!1),t=l()(this,"payload.data.extraOtpStatus",!1),n=l()(this,"payload.data.otpStatus",!1);return e?t:n},isOtpTtlExceeded:function(){return l()(this,"payload.error","")===D.OTP_TTL_EXCEEDED}},created:function(){return Z(this,void 0,void 0,(function(){return J(this,(function(e){switch(e.label){case 0:return[4,this.sendRequest()];case 1:return e.sent(),this.checkForceLegalEntity(),[2]}}))}))},methods:{sendRequest:function(e){return void 0===e&&(e={}),Z(this,void 0,Promise,(function(){var t,n,r,o,c,l,d,f;return J(this,(function(h){switch(h.label){case 0:this.requestInProgress=!0,h.label=1;case 1:return h.trys.push([1,5,6,7]),t=this,[4,this.$api.authFacade.fastEntry.post(e)];case 2:return t.payload=h.sent(),n=this.payload,r=n.statusCode,o=n.error,r!==x.ENTRY_SUCCEEDED?[3,4]:(c=this.payload.data,l=c.refreshToken,d=c.expiresIn,f=c.accessToken,this.loginAnalytic(e),[4,this.$emit("login",{refreshToken:l,expiresIn:d,accessToken:f})]);case 3:h.sent(),h.label=4;case 4:return this.stage=r||x.PHONE_REQUIRED,this.errorMessage=o?B[o]:"",this.parseOtpError(),this.parsePhoneEnabledError(),r===x.OTP_REQUIRED&&(this.timer(),this.triesExpiredAnalytic()),this.recognizeUserAnalytic(),[3,7];case 5:return h.sent(),this.errorMessage=W.a.wrongRequestParams,[3,7];case 6:return this.requestInProgress=!1,[7];case 7:return[2]}}))}))},onSendCodeRequest:function(e){return Z(this,void 0,void 0,(function(){var t,n,r;return J(this,(function(o){switch(o.label){case 0:return t=l()(this,"payload.data.forceLegalEntity",!1),n=l()(this,"payload.data.otpId",0),r={phone:e,otpId:n},t&&(r.forceLegalEntity=t),this.$analytics.send("authorization/getSmsCode",{phone:e}),[4,this.sendRequest(r)];case 1:return o.sent(),[2]}}))}))},onGetNewCode:function(){return Z(this,void 0,void 0,(function(){var e,t,n,r,o,c;return J(this,(function(d){switch(d.label){case 0:return e=l()(this,"payload.data.forceLegalEntity",!1),t=l()(this,"payload.data.isExtraOtpRequested",!1),n=l()(this,"payload.data.phone",""),r=l()(this,"payload.data.otpId",0),o=l()(this,"payload.data.email",""),c={phone:n,otpId:r},e&&(c.forceLegalEntity=e),t?(c.otp=l()(this,"payload.data.otp",""),c.isExtraOtpRequested=!0,c.email=o,this.getNewCodeEmailAnalytic(o)):this.getNewCodeAnalytic(n),[4,this.sendRequest(c)];case 1:return d.sent(),[2]}}))}))},onSendCheckCodeRequest:function(data){return Z(this,void 0,void 0,(function(){var code,e,t,n,r,o,c;return J(this,(function(d){switch(d.label){case 0:return code=data.otp,e=l()(this,"payload.data.phone",""),t=l()(this,"payload.data.email",""),n=l()(this,"payload.data.forceLegalEntity",!1),r=l()(this,"payload.data.isExtraOtpRequested",!1),o=l()(this,"payload.data.otpId",0),c={phone:e,otpId:o},n&&(c.forceLegalEntity=n),r?(c.otp=l()(this,"payload.data.otp",""),c.extraOtp=code,c.extraOtpId=l()(this,"payload.data.extraOtpId",""),c.isExtraOtpRequested=!0,c.email=t):c.otp=code,[4,this.sendRequest(c)];case 1:return d.sent(),[2]}}))}))},onConfirmEmail:function(){return Z(this,void 0,void 0,(function(){var e,t,n,r,o,c;return J(this,(function(d){switch(d.label){case 0:return e=l()(this,"payload.data.phone",""),t=l()(this,"payload.data.forceLegalEntity",!1),n=l()(this,"payload.data.otpId",0),r=l()(this,"payload.data.otp",""),o=l()(this,"payload.data.email",""),!0,c={otp:r,phone:e,otpId:n,isExtraOtpRequested:!0,email:o},t&&(c.forceLegalEntity=t),[4,this.sendRequest(c)];case 1:return d.sent(),[2]}}))}))},onForcePhoneRegistration:function(){return Z(this,void 0,void 0,(function(){var e,t,n,r,o;return J(this,(function(c){switch(c.label){case 0:return e=l()(this,"payload.data.phone",""),t=l()(this,"payload.data.otp",""),n=l()(this,"payload.data.forceLegalEntity",!1),r=l()(this,"payload.data.otpId",0),o={forcePhoneRegistration:!0,phone:e,otpId:r,otp:t},n&&(o.forceLegalEntity=n),[4,this.sendRequest(o)];case 1:return c.sent(),[2]}}))}))},onLoginByEmail:function(e){var t=e.email,n=e.password;return Z(this,void 0,void 0,(function(){var e,r,o,c;return J(this,(function(d){switch(d.label){case 0:return e=l()(this,"payload.data.phone",""),r=l()(this,"payload.data.otp",""),o=l()(this,"payload.data.otpId",0),c={email:t,password:n,phone:e,otp:r,otpId:o},[4,this.sendRequest(c)];case 1:return d.sent(),[2]}}))}))},parseOtpError:function(){var e=l()(this,"payload.data.otpError",""),t=l()(this,"payload.data.extraOtpError",""),n=l()(this,"payload.data.isExtraOtpRequested",!1);!e||n||e!==K.b.NOT_VALID&&e!==K.b.EXPIRED&&e!==K.b.TOO_MANY_CHECK_REQUESTS?t&&n&&(t===K.b.NOT_VALID||t===K.b.EXPIRED||t===K.b.TOO_MANY_CHECK_REQUESTS)&&(this.otpErrorMessage=X[t]):(this.otpErrorMessage=X[e],this.wrongSmsCodeAnalytic(e))},parsePhoneEnabledError:function(){l()(this,"payload.data.otpStatus.enabled",!0)||(this.errorMessage=F.C.ERROR_SENDING_SMS)},timer:function(){var e=this;this.clearTimeoutForTimer();var t=l()(this,"otp",!1),n=l()(this,"payload.data.isExtraOtpRequested",!1);if(t){this.timeout=setTimeout((function(){return e.timer()}),this.secondDelay);var r=t.resendAfter,o=t.volumeLimitExceeded;r>0?n?this.payload.data.extraOtpStatus.resendAfter=r-1:this.payload.data.otpStatus.resendAfter=r-1:0===r&&o&&(this.stage=x.PHONE_REQUIRED)}},clearTimeoutForTimer:function(){this.timeout&&clearTimeout(this.timeout)},onGoToCreateLegal:function(){var data=Q({},this.payload.data,{forceLegalEntity:!0});this.payload.data=data,this.$emit("goToCreateLegal")},onGoToPhone:function(){this.onClearError(),this.payload.data.forceLegalEntity=!1,this.stage=x.PHONE_REQUIRED,this.$emit("resetForceLegalEntity"),this.$emit("goToPhone")},onGoToEmail:function(){this.onClearError(),this.payload.data.forceLegalEntity=!1,this.$emit("goToEmail")},onForgotPassword:function(){this.onClearError(),this.$emit("forgotPassword"),this.forgotPasswordTapAnalytic()},onClearError:function(){this.errorMessage="",this.otpErrorMessage=""},checkForceLegalEntity:function(){this.forceLegalEntity&&(this.onGoToCreateLegal(),this.$emit("resetForceLegalEntity"))},getNewCodeAnalytic:function(e){this.getAttempt=this.getAttempt+1,this.$analytics.send("authorization/getNewSmsCode",{getAttempt:this.getAttempt,phone:e})},getNewCodeEmailAnalytic:function(e){this.getAttemptEmail=this.getAttemptEmail+1,this.$analytics.send("authorization/getNewCodeOnEmail",{getAttempt:this.getAttemptEmail,email:e})},wrongSmsCodeAnalytic:function(e){if(e&&e===K.b.NOT_VALID){var t=l()(this,"payload.data.phone","");this.wrongAttempt=this.wrongAttempt+1,this.$analytics.send("authorization/wrongSmsCode",{wrongAttempt:this.wrongAttempt,phone:t})}},triesExpiredAnalytic:function(){var e=l()(this,"payload.data.otpStatus",""),t=l()(this,"payload.data.phone","");e&&!e.active&&e.volumeLimitExceeded&&this.$analytics.send("authorization/triesExpired",{phone:t})},loginAnalytic:function(e){var t=e.email,n=e.password,r=l()(this,"payload.data.newAccountEntry",!1),o=l()(this,"payload.data.phone","");r?this.$analytics.send("authorization/signUp",{phone:o}):this.$analytics.send("authorization/signIn",{chainType:d.a.telephone,phone:o,joining:t&&n})},recognizeUserAnalytic:function(){if(this.stage===x.EMAIL_PASSWORD_REQUIRED&&!this.emailPasswordFormWasShown){var e=l()(this,"payload.data.phone","");this.$analytics.send("authorization/recognizeUser",{chainType:d.a.telephone,phone:e}),this.emailPasswordFormWasShown=!0}},forgotPasswordTapAnalytic:function(){var e=l()(this,"payload.data.phone","");this.$analytics.send("authorization/forgotPasswordTap",{phone:e})}}},te=Object(S.a)(ee,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.payload?n("div",[e.stage===e.stages.PHONE_REQUIRED?n("InputPhone",{attrs:{"request-in-progress":e.requestInProgress,"error-message":e.errorMessage,"phone-hint":e.phoneHint,"is-legal-entity-registration":e.isLegalEntityRegistration},on:{goToEmail:e.onGoToEmail,goToPhone:e.onGoToPhone,goToCreateLegal:e.onGoToCreateLegal,sendCodeRequest:e.onSendCodeRequest,clearError:e.onClearError}}):e._e(),e._v(" "),e.stage===e.stages.OTP_REQUIRED?n("InputOtp",{attrs:{"phone-to-output":e.phoneToOutput,email:e.payload.data.email||"","new-account-entry":e.payload.data.newAccountEntry,"render-time":e.renderTime,"request-in-progress":e.requestInProgress,"error-message":e.errorMessage,"otp-error-message":e.otpErrorMessage,"otp-status":e.otp,"is-extra-otp-requested":e.payload.data.isExtraOtpRequested,"is-otp-ttl-exceeded":e.isOtpTtlExceeded},on:{goTo:e.onGoToPhone,goToEmail:e.onGoToEmail,goToPhone:e.onGoToPhone,getNewCode:e.onGetNewCode,sendCheckCodeRequest:e.onSendCheckCodeRequest,clearError:e.onClearError}}):e._e(),e._v(" "),e.stage===e.stages.EMAIL_PASSWORD_REQUIRED?n("InputEmailPassword",{attrs:{"phone-to-output":e.phoneToOutput,"new-account-entry":e.payload.data.newAccountEntry,"request-in-progress":e.requestInProgress,"error-message":e.errorMessage,"error-name":e.payload.error},on:{loginByEmail:e.onLoginByEmail,forgotPassword:e.onForgotPassword,forcePhoneRegistration:e.onForcePhoneRegistration,clearError:e.onClearError}}):e._e(),e._v(" "),e.stage===e.stages.EMAIL_CONFIRMATION_REQUIRED?n("ConfirmEmail",{attrs:{email:e.payload.data.email,"request-in-progress":e.requestInProgress,"error-message":e.errorMessage,"error-name":e.payload.error},on:{confirmEmail:e.onConfirmEmail,forcePhoneRegistration:e.onForcePhoneRegistration}}):e._e()],1):n("BlockingLoader",{attrs:{mod:"dots-blue"}})],1)}),[],!1,null,null,null).exports,ne={name:"ByEmail",components:{ErrorMessage:v.a,SubmitButton:y.a,FormFieldBase:M.a},props:{requestInProgress:{type:Boolean,required:!0},errorMessage:{type:String,required:!0}},data:function(){return{byEmailForm:N.a,formFieldIds:j.a}},created:function(){this.byEmailForm.forEach((function(e){e.errorText=""}))},methods:{field:function(e){return this.byEmailForm.reduce((function(t,n){return n.id===e?n:t}),{})},onInput:function(e,t){this.field(t).value=e,t===j.a.EMAIL&&this.$emit("setEnteredEmail",e)},submit:function(){if(this.byEmailForm.forEach((function(e){return e.validate(e)})),this.byEmailForm.every((function(e){return e.isValid(e)}))){var data={email:this.field(j.a.EMAIL).value,password:this.field(j.a.PASSWORD).value};this.$emit("loginByEmail",data)}},onFocus:function(e){var t=e.id;this.$emit("clearError"),this.field(t).errorText=""}}};var re=Object(S.a)(ne,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{class:e.$style.title},[e._v("\n    Войти по почте\n  ")]),e._v(" "),e._l(e.byEmailForm,(function(t){return n("FormFieldBase",{key:t.id,attrs:{field:t,autofocus:t.id===e.formFieldIds.EMAIL,disabled:e.requestInProgress},on:{focus:e.onFocus,enter:e.submit,input:e.onInput}})})),e._v(" "),n("ErrorMessage",{attrs:{error:e.errorMessage}}),e._v(" "),n("SubmitButton",{attrs:{"test-id":"loginButton",text:"Войти",loading:e.requestInProgress},on:{submit:e.submit}}),e._v(" "),n("div",{class:e.$style.forgotPassword},[n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"forgotPasswordButton",expression:"'forgotPasswordButton'",arg:"id"}],class:e.$style.linkBase,attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("forgotPassword")}}},[e._v("Забыли пароль")])]),e._v(" "),n("div",{class:e.$style.blockWithLinks},[n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"goToPhone",expression:"'goToPhone'",arg:"id"}],class:e.$style.linkBase,attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("goToPhone")}}},[e._v("Войти по телефону")])])],2)}),[],!1,(function(e){this.$style=_.default.locals||_.default}),null,null).exports,ie={name:"EnterOtp",components:{CodeInputs:n("a86883").a},props:{messageSendOn:{type:String,default:""},otpStatus:{type:Object,required:!0},isConfirmationByPhone:{type:Boolean,required:!0},renderTime:{type:String,required:!0},requestInProgress:{type:Boolean,default:!1},errorMessage:{type:String,default:""},isEditAllowed:{type:Boolean,default:!0}},data:function(){return{code:""}},computed:{timeLeft:function(){return this.otpStatus.resendAfter},volumeLimitExceeded:function(){return this.otpStatus.volumeLimitExceeded&&!this.otpStatus.active},isOptExpired:function(){return Boolean(this.otpStatus)&&!this.otpStatus.active}},methods:{onGetNewCode:function(){this.$emit("getNewCode"),this.$emit("clearError")},onFocus:function(){this.$emit("clearError")},onCheckCode:function(){4===this.code.length&&this.$emit("checkCode",{otp:this.code})},onSetCode:function(code){this.code=code,this.$emit("setCode",code)}}},oe=n("7e2315");var ae={name:"InputOtp",components:{EnterOtp:Object(S.a)(ie,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.volumeLimitExceeded?n("div",[n("div",{class:e.$style.title},[e._v("\n      Упс! Превышено количество попыток.\n    ")]),e._v(" "),n("div",{class:e.$style.note},[e._v("\n      Получить новый код можно через "+e._s(e.renderTime)+"\n    ")])]):n("div",[n("div",{class:e.$style.title},[e.isConfirmationByPhone?[e._v("\n        Вы заходите с нового устройства\n      ")]:[e._v("\n        Главное — безопасность вашего аккаунта\n      ")]],2),e._v(" "),n("div",{class:e.$style.note},[e.isConfirmationByPhone?[e._v("\n        Мы отправили код подтверждения"),n("br"),e._v("на "+e._s(e.messageSendOn)+", чтобы убедиться, что это вы\n      ")]:[e._v("\n        Мы отправили код подтверждения на почту"),n("br"),n("b",[e._v(e._s(e.messageSendOn))]),e._v(", чтобы убедиться, что это вы\n      ")]],2),e._v(" "),n("CodeInputs",{attrs:{"is-disabled":e.requestInProgress||e.isOptExpired,"time-left":e.timeLeft,"render-time":e.renderTime,"error-message":e.errorMessage,"request-in-progress":e.requestInProgress},on:{getNewCode:e.onGetNewCode,clearError:function(t){return e.$emit("clearError")},onFocus:e.onFocus,sendRequest:e.onCheckCode,onAutoSendRequest:e.onCheckCode,setCode:e.onSetCode}})],1)])}),[],!1,(function(e){this.$style=oe.default.locals||oe.default}),null,null).exports},props:{phoneToOutput:{type:String,default:function(){return""}},email:{type:String,default:function(){return""}},otpStatus:{type:Object,required:!0},renderTime:{type:String,required:!0},requestInProgress:{type:Boolean,default:!1},newAccountEntry:{type:Boolean,default:!1},errorMessage:{type:String,default:""}},data:function(){return{codeInvalidErrorMessage:"",otp:""}},computed:{codeIsValid:function(){return 4===this.otp.length},messageSendOn:function(){return this.phoneToOutput||this.email},isConfirmationByPhone:function(){return Boolean(this.phoneToOutput)}},created:function(){this.$analytics.send("authorization/inputCode",{phone:Object(f.e)(this.phoneToOutput),email:this.email})},methods:{onCheckCode:function(e){var t=e.otp;this.otp=t,this.newAccountEntry||this.$emit("sendCheckCodeRequest",{otp:t})},onGoToEmail:function(){this.$emit("goToEmail"),this.$emit("clearError")},onClearError:function(){this.$emit("clearError"),this.codeInvalidErrorMessage=""},submit:function(){var e=this.otp;this.codeIsValid?(this.codeInvalidErrorMessage="",this.$emit("sendCheckCodeRequest",{otp:e})):this.codeIsValid||(this.codeInvalidErrorMessage=k.a.isIncorrectLength.code)}}};var se=Object(S.a)(ae,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("EnterOtp",{attrs:{"message-send-on":e.messageSendOn,"render-time":e.renderTime,"request-in-progress":e.requestInProgress,"error-message":e.errorMessage||e.codeInvalidErrorMessage,"otp-status":e.otpStatus,"is-edit-allowed":!1,"is-confirmation-by-phone":e.isConfirmationByPhone},on:{goTo:function(t){return e.$emit("goToEmail")},getNewCode:function(t){return e.$emit("getNewCode")},clearError:e.onClearError,checkCode:e.onCheckCode}}),e._v(" "),n("div",{class:e.$style.blockWithLinks},[n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"goToPhone",expression:"'goToPhone'",arg:"id"}],class:e.$style.linkBase,attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("goToPhone")}}},[e._v("Войти по телефону")]),e._v(" "),Boolean(e.phoneToOutput)?[n("br"),e._v(" "),n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"linkDoesNotComeSms",expression:"'linkDoesNotComeSms'",arg:"id"}],class:e.$style.linkBase,attrs:{href:"https://docs.ozon.ru/common/lichnyj-kabinet#id-Личныйкабинет-sms",target:"_blank"}},[e._v("Не приходит СМС?")])]:e._e()],2)],1)}),[],!1,(function(e){this.$style=_.default.locals||_.default}),null,null).exports,ce=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},ue=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},le={name:"EmailEntry",components:{ByEmail:re,InputOtp:se},data:function(){return{requestInProgress:!1,errorMessage:"",payload:null,password:"",stages:A,stage:A.EMAIL_PASSWORD_REQUIRED,timeout:null,secondDelay:1e3,getAttempt:0,wrongAttempt:0}},computed:{renderTime:function(){var e=l()(this,"payload.data.otpStatus.resendAfter",0),t=Math.floor(e/60),n=e%60;return(t?("00"+t).slice(-2):"00")+":"+(n?("00"+n).slice(-2):"00")}},created:function(){return ce(this,void 0,void 0,(function(){return ue(this,(function(e){switch(e.label){case 0:return[4,this.sendRequest()];case 1:return e.sent(),this.$analytics.send("authorization/emailPopupWasShown",{}),[2]}}))}))},methods:{sendRequest:function(e){return void 0===e&&(e={}),ce(this,void 0,Promise,(function(){var t,n,r,o,c,l,d,f;return ue(this,(function(h){switch(h.label){case 0:this.requestInProgress=!0,h.label=1;case 1:return h.trys.push([1,5,6,7]),t=this,[4,this.$api.authFacade.emailEntry.post(e)];case 2:return t.payload=h.sent(),n=this.payload,r=n.statusCode,o=n.error,r!==A.ENTRY_SUCCEEDED?[3,4]:(c=this.payload.data,l=c.refreshToken,d=c.expiresIn,f=c.accessToken,this.loginAnalytic(),[4,this.$emit("login",{refreshToken:l,expiresIn:d,accessToken:f})]);case 3:h.sent(),h.label=4;case 4:return this.stage=r||A.EMAIL_PASSWORD_REQUIRED,this.errorMessage=o?U[o]:"",this.parseOtpError(),this.parsePhoneEnabledError(),r===A.OTP_REQUIRED&&this.payload.data.otpStatus&&(this.timer(),this.triesExpiredAnalytic()),[3,7];case 5:return h.sent(),this.errorMessage=W.a.wrongRequestParams,[3,7];case 6:return this.requestInProgress=!1,[7];case 7:return[2]}}))}))},onGetNewCode:function(){return ce(this,void 0,void 0,(function(){var e,t,n;return ue(this,(function(r){switch(r.label){case 0:return e=l()(this,"payload.data.email",""),t=l()(this,"payload.data.otpId",0),n=this.password,this.getNewCodeAnalytic(e),[4,this.sendRequest({email:e,password:n,otpId:t})];case 1:return r.sent(),[2]}}))}))},onSendCheckCodeRequest:function(e){var t=e.otp;return ce(this,void 0,void 0,(function(){var e,n,r;return ue(this,(function(o){switch(o.label){case 0:return e=l()(this,"payload.data.email",""),n=l()(this,"payload.data.otpId",0),r=this.password,[4,this.sendRequest({otp:t,email:e,password:r,otpId:n})];case 1:return o.sent(),[2]}}))}))},onLoginByEmail:function(e){var t=e.email,n=e.password;return ce(this,void 0,void 0,(function(){var e;return ue(this,(function(r){switch(r.label){case 0:return e=l()(this,"payload.data.otpId",0),this.password=n,[4,this.sendRequest({email:t,password:n,otpId:e})];case 1:return r.sent(),[2]}}))}))},parseOtpError:function(){var e=l()(this,"payload.data.otpError","");!e||e!==K.b.NOT_VALID&&e!==K.b.EXPIRED&&e!==K.b.TOO_MANY_CHECK_REQUESTS||(this.errorMessage=X[e]),this.wrongCodeAnalytic(e)},parsePhoneEnabledError:function(){l()(this,"payload.data.otpStatus.enabled","")||(this.errorMessage=F.C.USER_BLOCKED)},timer:function(){var e=this;this.clearTimeoutForTimer();var t=l()(this,"payload.data.otpStatus",!1);if(t){this.timeout=setTimeout((function(){return e.timer()}),this.secondDelay);var n=t.resendAfter,r=t.volumeLimitExceeded;n>0?this.payload.data.otpStatus.resendAfter=n-1:0===n&&r&&(this.stage=A.EMAIL_PASSWORD_REQUIRED)}},clearTimeoutForTimer:function(){this.timeout&&clearTimeout(this.timeout)},onGoToPhone:function(){this.errorMessage="",this.$emit("goToPhone")},onGoToEmail:function(){this.errorMessage="",this.stage=A.EMAIL_PASSWORD_REQUIRED,this.$emit("goToEmail")},onGoToCreateLegal:function(){this.errorMessage="",this.$emit("goToCreateLegal")},onForgotPassword:function(){this.errorMessage="",this.$emit("forgotPassword"),this.forgotPasswordTapAnalytic()},onClearError:function(){this.errorMessage=""},getNewCodeAnalytic:function(e){this.getAttempt=this.getAttempt+1;var t=l()(this,"payload.data.phone",""),data={getAttempt:this.getAttempt,email:e};t?(data.phone=Object(f.e)(t),this.$analytics.send("authorization/getNewSmsCode",data)):this.$analytics.send("authorization/getNewCodeOnEmail",data)},wrongCodeAnalytic:function(e){var t=l()(this,"payload.data.phone",""),n=l()(this,"payload.data.email","");this.wrongAttempt=this.wrongAttempt+1,e&&e===K.b.NOT_VALID&&t?this.$analytics.send("authorization/wrongSmsCode",{wrongAttempt:this.wrongAttempt,phone:Object(f.e)(t)}):e&&e===K.b.NOT_VALID&&this.$analytics.send("authorization/wrongEmailCode",{wrongAttempt:this.wrongAttempt,email:n})},triesExpiredAnalytic:function(){var e=l()(this,"payload.data.otpStatus",""),t=l()(this,"payload.data.phone",""),n=l()(this,"payload.data.email","");e&&!e.active&&e.volumeLimitExceeded&&this.$analytics.send("authorization/triesExpired",{phone:Object(f.e)(t),email:n})},loginAnalytic:function(){this.$analytics.send("authorization/signIn",{chainType:d.a.email})},forgotPasswordTapAnalytic:function(){this.$analytics.send("authorization/forgotPasswordTap",{})},onSetEnteredEmail:function(e){this.$emit("setEnteredEmail",e)}}},de=Object(S.a)(le,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.stage===e.stages.EMAIL_PASSWORD_REQUIRED?n("ByEmail",{attrs:{"request-in-progress":e.requestInProgress,"error-message":e.errorMessage},on:{goToPhone:e.onGoToPhone,loginByEmail:e.onLoginByEmail,forgotPassword:e.onForgotPassword,goToCreateLegal:e.onGoToCreateLegal,clearError:e.onClearError,setEnteredEmail:e.onSetEnteredEmail}}):e._e(),e._v(" "),e.stage===e.stages.OTP_REQUIRED?n("InputOtp",{attrs:{"phone-to-output":e.payload.data.phone,email:e.payload.data.email,"render-time":e.renderTime,"request-in-progress":e.requestInProgress,"error-message":e.errorMessage,"otp-status":e.payload.data.otpStatus},on:{goToEmail:e.onGoToEmail,goToPhone:e.onGoToPhone,getNewCode:e.onGetNewCode,sendCheckCodeRequest:e.onSendCheckCodeRequest,clearError:e.onClearError}}):e._e()],1)}),[],!1,null,null,null).exports,fe={name:"InputEmail",components:{ErrorMessage:v.a,SubmitButton:y.a,FormFieldBase:M.a},props:{requestInProgress:{type:Boolean,required:!0},errorMessage:{type:String,required:!0},enteredEmail:{type:String,default:function(){return""}}},data:function(){return{emailField:N.b}},created:function(){this.emailField.value=this.enteredEmail},methods:{submit:function(){if(this.emailField.validate(this.emailField),this.emailField.isValid(this.emailField)){var e=this.emailField.value;this.$emit("reset",{email:e})}},onInput:function(e){this.emailField.value=e},onFocus:function(){this.$emit("clearError"),this.emailField.errorText=""}}};n("885a6c");var he=Object(S.a)(fe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{class:e.$style.title},[e._v("\n    Восстановление доступа\n  ")]),e._v(" "),n("div",{class:e.$style.note},[e._v("\n    Укажите почту от вашего аккаунта, чтобы получить ссылку для смены пароля\n  ")]),e._v(" "),n("FormFieldBase",{key:e.emailField.id,attrs:{field:e.emailField,autofocus:!0,disabled:e.requestInProgress},on:{focus:e.onFocus,enter:e.submit,input:e.onInput}}),e._v(" "),n("ErrorMessage",{attrs:{error:e.errorMessage}}),e._v(" "),n("SubmitButton",{attrs:{"test-id":"getLink",text:"Получить ссылку",loading:e.requestInProgress},on:{submit:e.submit}}),e._v(" "),n("div",{class:e.$style.blockWithLinks},[n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"goToPhone",expression:"'goToPhone'",arg:"id"}],class:e.$style.linkBase,attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("goToPhone")}}},[e._v("Войти по телефону")])])],1)}),[],!1,(function(e){this.$style=_.default.locals||_.default}),null,null).exports,pe=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},me=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},ve={name:"PasswordReset",components:{InputEmail:he},props:{enteredEmail:{type:String,default:function(){return""}}},data:function(){return{requestInProgress:!1,errorMessage:"",payload:null,stages:L,stage:L.EMAIL_REQUIRED}},created:function(){return pe(this,void 0,void 0,(function(){return me(this,(function(e){switch(e.label){case 0:return[4,this.sendRequest()];case 1:return e.sent(),[2]}}))}))},methods:{sendRequest:function(e){return void 0===e&&(e={}),pe(this,void 0,Promise,(function(){var t,n,r;return me(this,(function(o){switch(o.label){case 0:this.requestInProgress=!0,o.label=1;case 1:return o.trys.push([1,3,4,5]),t=this,[4,this.$api.authFacade.passwordReset.post(e)];case 2:return t.payload=o.sent(),n=l()(this,"payload.error",""),r=l()(this,"payload.statusCode",L.EMAIL_REQUIRED),this.stage=r,n&&(this.errorMessage=G[n]),[3,5];case 3:return o.sent(),this.errorMessage=W.a.wrongRequestParams,[3,5];case 4:return this.requestInProgress=!1,[7];case 5:return[2]}}))}))},onReset:function(e){var t=e.email;return pe(this,void 0,void 0,(function(){return me(this,(function(e){switch(e.label){case 0:return[4,this.sendRequest({email:t})];case 1:return e.sent(),[2]}}))}))},onGoToPhone:function(){this.errorMessage="",this.$emit("goToPhone")},onClearError:function(){this.errorMessage=""}}};var be=Object(S.a)(ve,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.stage===e.stages.EMAIL_REQUIRED?n("InputEmail",{attrs:{"request-in-progress":e.requestInProgress,"error-message":e.errorMessage,"entered-email":e.enteredEmail},on:{goToPhone:e.onGoToPhone,reset:e.onReset,clearError:e.onClearError}}):e._e(),e._v(" "),e.stage===e.stages.SUCCESS?n("div",[n("div",{class:e.$style.title},[e._v("\n      Проверьте почту\n    ")]),e._v(" "),n("div",{class:e.$style.note},[e._v("\n      Мы отправили ссылку для смены пароля на "+e._s(e.payload.data.email)+"\n    ")]),e._v(" "),n("div",{class:e.$style.blockWithLinks},[n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"goToPhone",expression:"'goToPhone'",arg:"id"}],class:e.$style.linkBase,attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("goToPhone")}}},[e._v("Войти по телефону")]),e._v(" "),n("br"),e._v(" "),n("a",{directives:[{name:"qa",rawName:"v-qa:id",value:"goToEmail",expression:"'goToEmail'",arg:"id"}],class:e.$style.linkBase,attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("goToEmail")}}},[e._v("Войти по почте")])])]):e._e()],1)}),[],!1,(function(e){this.$style=_.default.locals||_.default}),null,null).exports,ge=n("81cc57"),ye=function(){return(ye=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},Ee=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},_e=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},Se={name:"AuthorizationService",components:{FastEntry:te,EmailEntry:de,PasswordReset:be,BlockingLoader:o.a},props:{widgetState:{type:Object,default:function(){}}},data:function(){return{stages:R,stage:R.FAST_ENTRY,forceLegalEntity:void 0,loginPageName:"login",blockingLoaderIsVisible:!1,enteredEmail:""}},computed:ye({},Object(r.e)("pageInfo",{pageName:function(e){var t=e.pageName;return t}})),mounted:function(){this.$analytics.send("authorization/openPopup")},methods:{onGoToPhone:function(){this.stage=R.FAST_ENTRY,this.historyPush(ge.a.LOGIN)},onGoToCreateLegal:function(){this.stage=R.FAST_ENTRY,this.forceLegalEntity=!0,this.historyPush(ge.a.CREATE_LEGAL)},onGoToEmail:function(){this.stage=R.EMAIL_ENTRY,this.historyPush(ge.a.LOGIN_BY_EMAIL)},onForgotPassword:function(){this.stage=R.PASSWORD_RESET,this.historyPush(ge.a.ACCESS_RECOVERY)},onResetForceLegalEntity:function(){this.forceLegalEntity=void 0},onLogin:function(e){var t=e.accessToken,n=e.refreshToken,r=e.expiresIn;return Ee(this,void 0,void 0,(function(){var data;return _e(this,(function(e){switch(e.label){case 0:return this.blockingLoaderIsVisible=!0,data={token:t,refreshToken:n,expiresIn:r},[4,this.$store.dispatch("authorization/AUTH_SET_TOKEN",data)];case 1:return e.sent(),this.$store.dispatch("authorization/PREMIUM_COOKIE_SETTER"),this.$emit("successLogin"),this.$emit("close"),[2]}}))}))},historyPush:function(e){this.$emit("pushState",e)},onSetEnteredEmail:function(e){this.enteredEmail=e}}};var Oe=Object(S.a)(Se,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{class:["authorization-service",t.$style.authorizationService,(e={},e[t.$style.mobile]=t.isMobile,e)]},[t.blockingLoaderIsVisible?r("BlockingLoader",{attrs:{mod:"dots-blue"}}):t._e(),t._v(" "),t.stage===t.stages.FAST_ENTRY?r("FastEntry",{attrs:{"force-legal-entity":t.forceLegalEntity},on:{resetForceLegalEntity:t.onResetForceLegalEntity,goToEmail:t.onGoToEmail,goToPhone:t.onGoToPhone,goToCreateLegal:t.onGoToCreateLegal,forgotPassword:t.onForgotPassword,login:t.onLogin,close:function(e){return t.$emit("close")}}}):t._e(),t._v(" "),t.stage===t.stages.EMAIL_ENTRY?r("EmailEntry",{on:{goToPhone:t.onGoToPhone,goToEmail:t.onGoToEmail,goToCreateLegal:t.onGoToCreateLegal,forgotPassword:t.onForgotPassword,setEnteredEmail:t.onSetEnteredEmail,login:t.onLogin,close:function(e){return t.$emit("close")}}}):t._e(),t._v(" "),t.stage===t.stages.PASSWORD_RESET?r("PasswordReset",{attrs:{"entered-email":t.enteredEmail},on:{goToPhone:t.onGoToPhone,goToEmail:t.onGoToEmail,close:function(e){return t.$emit("close")}}}):t._e()],1)}),[],!1,(function(e){this.$style=_.default.locals||_.default}),null,null);t.a=Oe.exports},e61a8f:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("bbfe95"),o=function(){return(o=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},c=o({},r.m,{HIDDEN:""})},e8e723:function(e,t,n){},ea14ec:function(e,t,n){"use strict";n.r(t);n("393231"),n("3fc8b4"),n("f8695b"),n("41d819"),n("aae158");var r=n("202a41"),o=function(e,t){return Object(r.a)(t||"").valueOf()-Object(r.a)(e||"").valueOf()},c=n("961006"),l=n.n(c),d=function(e,t){var n=l()(e,{chatId:t.chatId}),r=e.slice();return-1===n?r.push(t):r[n]=t,r},f=n("01be4b"),h=n("f77855"),m=n.n(h),v=n("e56c70"),y=n("ed745a"),E=n("18db5e"),_=n("289770");n.d(t,"state",(function(){return I})),n.d(t,"mutations",(function(){return w})),n.d(t,"getters",(function(){return C})),n.d(t,"actions",(function(){return k}));var S=function(){return(S=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},O=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},T=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},I=function(){return{threads:{data:{chats:[],totalCount:0},status:v.a.IDLE,errors:""},activeThreadId:"",messages:{},lastSentMessageState:{data:null,status:v.a.IDLE,errors:""},noMoreHistory:!1,totalUnreadCount:0,websocketInactiveTimestamp:0,routeQuery:{}}},w={setThreads:function(e,t){var data=t.data,n=t.status,r=t.errors;e.threads.data=data||e.threads.data,e.threads.status=n,e.threads.errors=n===v.a.FAILED?r:""},addThread:function(e,t){e.threads.data.chats.push(t)},setTotalUnreadCount:function(e,t){e.totalUnreadCount=t},setUnreadCountByChat:function(e,t){e.threads.data&&e.threads.data.chats.forEach((function(e){e.unreadCount=t[e.chatId]||0}))},setActiveThread:function(e,t){e.activeThreadId=t},setLastMessageMeta:function(e,t){var body=t.body,n=t.messageId,r=t.isFile,o=t.type,c=t.ts,l=t.chatId,d=e.threads.data.chats.findIndex((function(t){return t.chatId===(l||e.activeThreadId)})),h={body:body.text,isFile:!1,messageId:n,timestamp:c};void 0===r&&(h.isFile=o===f.a.FILE||o===f.a.IMAGE),e.threads.data.chats[d].lastMessageMeta=h},setMessages:function(e,t){var n,data=t.data,o=t.status,c=t.errors,l=e.activeThreadId;if(void 0===e.messages[l]&&y.default.set(e.messages,l,(void 0===(n=[])&&(n=null),{data:n,status:v.a.IDLE,errors:""})),o===v.a.SUCCESS){var d=function(e,t){for(var n=e[0],i=1;i<e.length;i++){var o=e[i];e[i].user.id===n.user.id&&Object(r.a)(o.ts).diff(Object(r.a)(n.ts),"minute")<=t?e[i].hideMessageAvatar=!0:n=o}return e}(data,_.m);e.messages[l].data=d}e.messages[l].status=o,e.messages[l].errors=o===v.a.FAILED?c:""},messageRated:function(e,t){var n=e.activeThreadId;e.messages[n].data.find((function(e){return e.messageId===t})).isMessageRated=!0},setNoMoreHistory:function(e,t){e.noMoreHistory=t},addMessage:function(e,t){var n=e.messages[e.activeThreadId].data||[];if(-1===l()(n,{messageId:t.messageId})){if(n.length){var o=n[n.length-1];Object(r.a)(t.ts).diff(Object(r.a)(o.ts),"minute")<=_.m&&t.user.id===o.user.id&&(t.hideMessageAvatar=!0)}n.push(t),e.messages[e.activeThreadId].data=n;var c=e.threads.data.chats.length>0&&l()(e.threads.data.chats,{chatId:e.activeThreadId})||null,d=e.threads.data.chats.slice();null!==c&&(d[c].lastMessageMeta.messageId=t.messageId||"0",d[c].lastMessageMeta.timestamp=t.ts,e.threads.data.chats=d)}},setFirstThreadUnreadMessageId:function(e,t){var n=t.chatId||e.activeThreadId,r=l()(e.threads.data.chats,{chatId:n});e.threads.data.chats[r].firstUnreadMessageId=t.messageId},setMessageSendingStatus:function(e,t){e.lastSentMessageState=t},clearActiveThreadMessages:function(e){e.messages[e.activeThreadId].data=[]},setWebsocketInactiveTimestamp:function(e,t){e.websocketInactiveTimestamp=t},setRouteQuery:function(e,t){e.routeQuery=t}},C={threads:function(e){return function(e){if(void 0===e&&(e=[]),null===e)return[];var t=e.filter((function(e){return 0===e.unreadCount})).sort((function(e,t){var n=e.lastMessageMeta&&e.lastMessageMeta.timestamp||"",r=t.lastMessageMeta&&t.lastMessageMeta.timestamp||"";return o(n,r)}));return e.filter((function(e){return e.unreadCount>0})).sort((function(e,t){var n=e.lastMessageMeta&&e.lastMessageMeta.timestamp||"",r=t.lastMessageMeta&&t.lastMessageMeta.timestamp||"";return o(n,r)})).concat(t)}(e.threads.data.chats)},getActiveThreadId:function(e){return e.activeThreadId},getThreadById:function(e){return function(t){var n=e.threads.data&&e.threads.data.chats&&e.threads.data.chats.filter((function(n){return n.chatId===(t||e.activeThreadId)}));return n.length>0?n[0]:null}},activeThreadUserById:function(e,t){return function(e){var n=t.getThreadById().users.filter((function(t){return t.userId===e}));return n.length>0?n[0]:{}}},previousMessage:function(e,t){return function(e){var n=t.messages.findIndex((function(t){return t.messageId===e}));return t.messages[n-1]}},activeThreadUserId:function(e){return function(){var t=e.threads.data&&e.threads.data.chats&&e.threads.data.chats.filter((function(t){return t.chatId===e.activeThreadId}));return t.length>0?t[0].userId:""}},messages:function(e){return e.messages[e.activeThreadId]&&e.messages[e.activeThreadId].data||[]},messagesStatus:function(e){return e.messages[e.activeThreadId]&&e.messages[e.activeThreadId].status||v.a.IDLE},routeQuery:function(e){return e.routeQuery},messagesErrors:function(e){return e.messages[e.activeThreadId]&&e.messages[e.activeThreadId].errors||""},newestLoadedThreadMessageId:function(e){return function(t){var n=e.messages[t];return n&&n.data&&n.data.length>0?n.data[n.data.length-1].messageId:1}},newestLoadedThreadMessageTs:function(e){return function(t){var n=e.messages[t];return n&&n.data&&n.data.length>0?n.data[n.data.length-1].ts:""}},oldestLoadedThreadMessageId:function(e){return function(t){var n=e.messages[t];return n&&n.data&&n.data.length>0?n.data[0].messageId:0}},lastThreadMessageId:function(e,t){return function(n){var r=n||e.activeThreadId,o=t.getThreadById(r);return o&&o.lastMessageMeta&&o.lastMessageMeta.messageId||0}},firstThreadUnreadMessageId:function(e,t){return function(n){var r=n||e.activeThreadId,o=t.getThreadById(r);return o&&o.firstUnreadMessageId||0}}},k={SOCKET_ONOPEN:function(e){(0,e.commit)("setWebsocketInactiveTimestamp",0)},SOCKET_ONCLOSE:function(){},SOCKET_RECONNECT:function(e){(0,e.commit)("setWebsocketInactiveTimestamp",(new Date).valueOf())},SOCKET_START_CHAT:function(e){var t=e.dispatch;return O(this,void 0,void 0,(function(){return T(this,(function(e){return t("GET_CHATS"),[2]}))}))},SOCKET_CHAT_MESSAGE:function(e,t){var n=e.state,r=e.commit,o=e.getters,c=e.dispatch;return O(this,void 0,void 0,(function(){var e,l,d,f;return T(this,(function(h){return t&&t.chatId===n.activeThreadId?(l=t.payload,e=o.getThreadById(o.getActiveThreadId),l.messageId&&(r("setLastMessageMeta",l),r("setFirstThreadUnreadMessageId",{messageId:l.messageId,chatId:t.chatId}),e.unreadCount<=1?(r("addMessage",l),c("MAKE_MESSAGE_READ",{chatId:t.chatId,timestamp:l.ts,messageId:l.messageId})):r("setUnreadCountByChat",((d={})[o.getActiveThreadId]=e.unreadCount+1,d)))):(e=o.getThreadById(t.chatId),l=t.payload,r("setTotalUnreadCount",n.totalUnreadCount+1),o.getThreadById(t.chatId)&&0===o.getThreadById(t.chatId).unreadCount&&r("setFirstThreadUnreadMessageId",{messageId:l.messageId,chatId:t.chatId}),r("setLastMessageMeta",S({},l,{chatId:t.chatId})),r("setUnreadCountByChat",((f={})[t.chatId]=e.unreadCount+1,f))),[2]}))}))},MAKE_MESSAGE_READ:function(e,t){var n=e.state,r=e.dispatch,o=e.commit,c=e.getters;return O(this,void 0,void 0,(function(){var e,l,d,f;return T(this,(function(h){switch(h.label){case 0:if((e=c.getThreadById(t.chatId))&&!e.firstUnreadMessageId)return[2];if(!t.timestamp)return[2];h.label=1;case 1:return h.trys.push([1,4,,5]),t.chatGuid=t.chatId,[4,this.$api.chatApi.makeRead.put(t)];case 2:return(l=h.sent().unreadCount)?o("setUnreadCountByChat",((f={})[c.getActiveThreadId]=l,f)):r("GET_TOTAL_UNREAD_COUNT"),[4,r("GET_CHAT_BY_ID",n.activeThreadId)];case 3:return h.sent(),[3,5];case 4:return d=h.sent(),this.$logger.error({exception:d,message:"Cannot make message read"}),[3,5];case 5:return[2]}}))}))},GET_CHATS:function(e){var t=e.commit,n=e.getters;return O(this,void 0,void 0,(function(){var e,r,o;return T(this,(function(c){switch(c.label){case 0:n.threads.length<=0&&t("setThreads",{status:v.a.RUNNING}),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.$api.chatMetainfo.chats.get()];case 2:return e=c.sent(),t("setThreads",{data:S({},e),status:v.a.SUCCESS,errors:null}),r=e.chats.reduce((function(e,t){return e+(t.unreadCount||0)}),0),t("setTotalUnreadCount",r||0),[3,4];case 3:return o=c.sent(),t("setThreads",{status:v.a.FAILED,errors:o}),[3,4];case 4:return[2]}}))}))},GET_CHAT_BY_ID:function(e,t){var n=e.state,r=e.commit;return O(this,void 0,void 0,(function(){var e,o;return T(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.$api.chatMetainfo.chatById.get(t)];case 1:return e=c.sent(),r("setThreads",{data:{chats:d(n.threads.data.chats,e.chat),totalCount:n.threads.data.totalCount},status:v.a.SUCCESS,errors:null}),[3,3];case 2:return o=c.sent(),r("setThreads",{status:v.a.FAILED,errors:o}),[3,3];case 3:return[2]}}))}))},GET_CHAT_BY_KEY:function(e,t){var n=e.state,r=e.commit;return O(this,void 0,void 0,(function(){var e,o,c;return T(this,(function(l){switch(l.label){case 0:r("setThreads",{status:v.a.RUNNING,errors:null}),l.label=1;case 1:return l.trys.push([1,3,,8]),[4,this.$api.chatMetainfo.chatByKey.get(t)];case 2:return o=l.sent(),r("setThreads",{data:{chats:d(n.threads.data.chats,o.chat),totalCount:n.threads.data.totalCount},status:v.a.SUCCESS,errors:null}),r("setActiveThread",o.chat.chatId),[3,8];case 3:e=l.sent(),this.$logger.error({exception:e,message:"error get chat by key"}),l.label=4;case 4:return l.trys.push([4,6,,7]),[4,this.$api.chatMetainfo.chats.post(t)];case 5:return o=l.sent(),r("setThreads",{data:{chats:d(n.threads.data.chats,o.chat),totalCount:n.threads.data.totalCount},status:v.a.SUCCESS,errors:null}),r("setActiveThread",o.chat.chatId),[3,7];case 6:return c=l.sent(),this.$logger.error({exception:c,message:"error create chat by key"}),r("setThreads",{status:v.a.FAILED,errors:c}),[3,7];case 7:return[3,8];case 8:return[2]}}))}))},SET_ACTIVE_THREAD:function(e,t){var n=e.state,r=e.commit,o=e.dispatch,c=e.getters;return O(this,void 0,void 0,(function(){var e,l,d,f,h;return T(this,(function(m){switch(m.label){case 0:if(r("setActiveThread",t),e=!0,null!==(l=c.getThreadById(t)))return[3,4];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,o("GET_CHAT_BY_ID",t)];case 2:return m.sent(),l=c.getThreadById(t),[3,4];case 3:return m.sent(),e=!1,[3,4];case 4:return e&&l?(d=l.chatId,f=l.lastMessageMeta,h=l.unreadCount,f&&f.messageId&&h<E.MESSAGE_LOAD_LIMIT?[4,o("GET_MESSAGES_PREVIOUS",{threadId:d,messageId:f.messageId,includeSelf:!0})]:[3,7]):[3,10];case 5:return m.sent(),[4,o("MAKE_MESSAGE_READ",{chatId:d,messageId:c.newestLoadedThreadMessageId(d),timestamp:c.newestLoadedThreadMessageTs(d)})];case 6:return m.sent(),[3,10];case 7:return[4,o("GET_MESSAGES_LATEST",{threadId:t})];case 8:return m.sent(),[4,o("GET_CHAT_BY_ID",n.activeThreadId)];case 9:m.sent(),m.label=10;case 10:return[2]}}))}))},RATE_OPERATOR:function(e,t){var n=e.state,r=e.commit;return O(this,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return r("messageRated",t.messageId),[4,this.$api.chatApi.v1.rate_operator.post(S({},t,{chatGuid:n.activeThreadId}))];case 1:return e.sent(),[2]}}))}))},GET_MESSAGES_PREVIOUS:function(e,t){var n=e.state,r=e.getters,o=e.commit,c=t.threadId,d=t.messageId,f=t.includeSelf,h=void 0!==f&&f;return O(this,void 0,void 0,(function(){var e,t,f,y,E;return T(this,(function(_){switch(_.label){case 0:if(r.messagesStatus===v.a.RUNNING)return[3,4];o("setMessages",{status:v.a.RUNNING,errors:null}),_.label=1;case 1:return _.trys.push([1,3,,4]),e=d||r.oldestLoadedThreadMessageId(c),t=[],[4,this.$api.chatApi.threadMessagesHistory.get({threadId:c,messageId:0===e?1:e,direction:-1,includeSelf:h})];case 2:return t=_.sent(),r.messages.length>0&&d&&h&&(f=l()(t,{messageId:d}))>=0&&t.splice(f,1),0===t.length&&o("setNoMoreHistory",!0),t.reverse(),y=m()(t.concat(n.messages[n.activeThreadId].data),"messageId"),o("setMessages",{data:y,status:v.a.SUCCESS,errors:null}),[3,4];case 3:return E=_.sent(),this.$logger.error({exception:E,message:"error sending load history"}),o("setMessages",{status:v.a.FAILED,errors:E}),[3,4];case 4:return[2]}}))}))},GET_MESSAGES_LATEST:function(e,t){var n=e.state,r=e.getters,o=e.commit,c=e.dispatch;return O(this,void 0,void 0,(function(){var e,l,d,f,h,y,E,_,S;return T(this,(function(O){switch(O.label){case 0:if(e=t.threadId,l=t.messageId,d=void 0===l?null:l,f=t.includeSelf,h=void 0===f||f,r.messagesStatus===v.a.RUNNING)return[3,5];o("setMessages",{status:v.a.RUNNING,errors:null}),O.label=1;case 1:return O.trys.push([1,4,,5]),y=d||r.firstThreadUnreadMessageId()||r.newestLoadedThreadMessageId(e),E=[],[4,this.$api.chatApi.threadMessagesHistory.get({threadId:e,messageId:0===y?1:y,includeSelf:h})];case 2:return E=O.sent(),_=m()(n.messages[n.activeThreadId].data.concat(E),"messageId"),o("setMessages",{data:_,status:v.a.SUCCESS,errors:null}),[4,c("MAKE_MESSAGE_READ",{chatId:n.activeThreadId,messageId:r.newestLoadedThreadMessageId(n.activeThreadId),timestamp:r.newestLoadedThreadMessageTs(n.activeThreadId)})];case 3:return O.sent(),[3,5];case 4:return S=O.sent(),o("setMessages",{status:v.a.FAILED,errors:S}),[3,5];case 5:return[2]}}))}))},SEND_MESSAGE:function(e,t){var n=e.state,r=e.getters,o=e.commit,c=e.dispatch,text=t.text,l=t.context;return O(this,void 0,void 0,(function(){var e,t,d,h,m,y;return T(this,(function(_){switch(_.label){case 0:o("setMessageSendingStatus",{data:null,status:v.a.RUNNING,errors:""}),e=r.getThreadById(n.activeThreadId),t=r.lastThreadMessageId()||null,e.unreadCount>E.MESSAGE_LOAD_LIMIT&&(o("clearActiveThreadMessages"),c("GET_MESSAGES_PREVIOUS",{threadId:n.activeThreadId,messageId:t,includeSelf:!0})),d={type:f.a.TEXT,user:{id:r.activeThreadUserId(),type:"1"},body:{text:text,context:l},ts:""},_.label=1;case 1:return _.trys.push([1,7,,8]),[4,this.$api.chatApi.sendMessage.post({threadId:n.activeThreadId,text:text,context:l})];case 2:if(h=_.sent(),d.messageId=h.messageId,d.ts=h.ts,o("setLastMessageMeta",d),o("addMessage",d),o("setMessageSendingStatus",{data:null,status:v.a.SUCCESS,errors:""}),d.messageId===r.firstThreadUnreadMessageId())return[3,6];_.label=3;case 3:return _.trys.push([3,5,,6]),[4,c("MAKE_MESSAGE_READ",{chatId:n.activeThreadId,messageId:d.messageId,timestamp:d.ts})];case 4:return _.sent(),[3,6];case 5:return m=_.sent(),this.$logger.error({exception:m,message:"chat update failed"}),[3,6];case 6:return[3,8];case 7:return y=_.sent(),this.$logger.error({exception:y,message:"Message send error"}),o("setMessageSendingStatus",{data:d,status:v.a.FAILED,errors:y}),[3,8];case 8:return[2]}}))}))},GET_TOTAL_UNREAD_COUNT:function(e){var t=e.commit;return O(this,void 0,void 0,(function(){var e,n;return T(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.$api.chatMetainfo.unreadCount.get()];case 1:return e=r.sent(),t("setTotalUnreadCount",e.unreadCount),t("setUnreadCountByChat",e.unreadCountByChat),[3,3];case 2:return n=r.sent(),this.$logger.error({exception:n,message:"unread count error"}),[3,3];case 3:return[2]}}))}))}}},eb30e0:function(e,t,n){"use strict";var r=n("d89767");n.n(r).a},eb47f2:function(e,t,n){"use strict";var r=n("6ac028"),o=n.n(r);t.default=o.a},eb6324:function(e,t,n){"use strict";n.r(t);var r=n("ff287e"),o=n.n(r),c=n("487109"),l=n("3fa93b"),d=c.a.extend({name:"OzonHeaderSimple",components:{HeaderLogo:l.a},props:{stateId:{type:String,default:"default"}},computed:{logo:function(){return o()(this.widgetState,"logo",{})}}}),f=(n("0a5f77"),n("b429cb")),component=Object(f.a)(d,(function(){var e=this.$createElement,t=this._self._c||e;return t("header",{directives:[{name:"qa",rawName:"v-qa:id",value:this.groupStatePath,expression:"groupStatePath",arg:"id"}],staticClass:"header",attrs:{itemscope:"itemscope",itemtype:"http://schema.org/WPHeader"}},[t("div",{staticClass:"header-row"},[t("HeaderLogo",{staticClass:"header-logo",attrs:{image:this.logo.image,link:this.logo.link}})],1)])}),[],!1,null,"26f1253e",null);t.default=component.exports},ebd959:function(e,t,n){"use strict";n.r(t);var r={WalletLandingPage:{content:function(){return Promise.all([n.e(0),n.e(298)]).then(n.bind(null,"6b8eca"))}},WalletMobileApplicationLanding:{content:function(){return Promise.all([n.e(0),n.e(299)]).then(n.bind(null,"2ea7b3"))}},WalletScore:{content:function(){return Promise.all([n.e(0),n.e(297)]).then(n.bind(null,"c45f21"))}},WalletPromoCodeCosts:{content:function(){return Promise.all([n.e(0),n.e(297)]).then(n.bind(null,"d68389"))}},WalletAppliedPromoCodes:{content:function(){return Promise.all([n.e(0),n.e(297)]).then(n.bind(null,"76cff6"))}},WalletFooter:{content:function(){return Promise.all([n.e(0),n.e(297)]).then(n.bind(null,"8134cf"))}},WalletBannerCard:{content:function(){return n.e(296).then(n.bind(null,"d3715a"))}},WalletScans:{content:function(){return Promise.all([n.e(0),n.e(297)]).then(n.bind(null,"09fabb"))}}};t.default=r},ec10a9:function(e,t,n){},ec4a35:function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106");var r=n("5eabea"),o=n("6823ad"),c=n("6876d5"),l=n("ff287e"),d=n.n(l);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var h={name:"Location",components:{OzonIcon:o.a},props:{hideLocation:{type:Boolean,default:!1}},computed:{location:function(){return d()(this.$store,"state.location")||{}},currentLocation:function(){return this.location.current||{}}},methods:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.b)({setShowLocationModal:"location/SET_SHOW_LOCATION_MODAL"}),{openLocation:function(){this.setShowLocationModal(!0)}})},m=n("ac2851"),v=n("b429cb");var component=Object(v.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.hideLocation?e._e():r("button",{directives:[{name:"qa",rawName:"v-qa:id",value:"city-selector",expression:"'city-selector'",arg:"id"}],class:e.$style["location-btn"],attrs:{type:"button"},on:{click:e.openLocation}},[r("OzonIcon",{class:e.$style.icon,attrs:{height:16,icon:n("c5c594"),width:16}}),e._v(" "),r("span",{class:e.$style["location-title"]},[e._v("\n    "+e._s(e.currentLocation.name)+"\n  ")])],1)}),[],!1,(function(e){this.$style=m.default.locals||m.default}),null,null);t.a=component.exports},ec8b32:function(e,t,n){"use strict";var r=n("c787bb"),o=n.n(r),c=n("346032"),l=n.n(c),input=n("b8ef3b"),d=n.n(input),f=n("670dd8"),h=n.n(f),m=n("3aacf1"),v={name:"FormFieldBase",components:{OzInput:d.a,OzField:h.a},props:{field:{type:Object,required:!0},autofocus:{type:Boolean,default:function(){return!1}},disabled:{type:Boolean,default:function(){return!1}},markRequired:{type:Boolean,default:function(){return!1}}},computed:{placeholder:function(){return this.markRequired&&this.field.required?this.field.placeholder+"*":""+this.field.placeholder},getIcon:function(){return this.field.id===m.a.PASSWORD||this.field.id===m.a.NEW_PASSWORD||this.field.id===m.a.OLD_PASSWORD?"text"===this.field.type?o.a:l.a:{}}},methods:{onFocus:function(e){this.$emit("focus",this.field,e)},onBlur:function(e){this.$emit("blur",this.field,e)},onInput:function(e){this.$emit("input",e,this.field.id)},onInputMasked:function(e){e&&this.$emit("inputMasked",e,this.field.id)},changePasswordVisibility:function(){var e=this.field.type;this.field.type="text"===e?"password":"text"}}},y=(n("25cc8d"),n("2bcfeb"),n("eea044")),E=n("b429cb");var component=Object(E.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("OzField",{class:e.$style.field,attrs:{errors:[e.field.errorText]}},[n("OzInput",{directives:[{name:"qa",rawName:"v-qa:id",value:e.field.id+"Field",expression:"`${field.id}Field`",arg:"id"}],key:e.field.id,attrs:{value:e.field.value,name:e.field.id,type:e.field.type,autofocus:e.autofocus,disabled:e.disabled,placeholder:e.placeholder,"has-error":Boolean(e.field.errorText),mask:e.field.mask,icon:e.getIcon,size:"xl"},on:{blur:e.onBlur,focus:e.onFocus,input:e.onInput,inputMasked:e.onInputMasked,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("enter")},iconClick:e.changePasswordVisibility}})],1)}),[],!1,(function(e){this.$style=y.default.locals||y.default}),null,null);t.a=component.exports},ee1497:function(e,t,n){"use strict";var r=n("a459ec");n.n(r).a},ee682f:function(e,t,n){},eea044:function(e,t,n){"use strict";var r=n("964a9f"),o=n.n(r);t.default=o.a},eeb025:function(e,t,n){"use strict";n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106");var r=n("5eabea"),input=n("384e52"),o=n("6823ad");function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var l={name:"OzonTextInput",components:{OzonInput:input.a,OzonIcon:o.a},extends:{props:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},input.a.props)},props:{clearBtn:{type:Boolean,default:!1},dataTestId:{type:String,default:""}},data:function(){return{isInputFocused:!1,isInputFilled:!1}},created:function(){this.checkInitialFilledStatus()},methods:{onInput:function(e){this.isInputFilled=e.length>0,this.$emit("input",e)},clear:function(){this.$emit("input",""),this.$emit("clear")},onFocus:function(e){this.isInputFocused=!0,this.$emit("focus",e)},onBlur:function(e){this.isInputFocused=!1,this.$emit("blur",e)},onKeydown:function(e){this.$emit("keydown",e)},onKeyup:function(e){this.$emit("keyup",e)},onContainerClick:function(){this.$refs.inputEl.$el.focus(),this.$emit("click")},onRawValue:function(e){this.$emit("rawValue",e)},checkInitialFilledStatus:function(){this.value&&(this.isInputFilled=!0)}}},d=(n("6ad567"),n("b429cb")),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container",class:[{"m-focused":e.isInputFocused,"m-filled":e.isInputFilled,"m-disabled":e.disabled}].concat(e.mods),on:{click:e.onContainerClick}},[e._t("left"),e._v(" "),r("ozon-input",e._b({ref:"inputEl",attrs:{"data-test-id":e.dataTestId},on:{blur:e.onBlur,focus:e.onFocus,input:e.onInput,keydown:e.onKeydown,keyup:e.onKeyup,rawValue:e.onRawValue}},"ozon-input",e.$props,!1)),e._v(" "),e._t("right"),e._v(" "),e.clearBtn&&!e.disabled&&e.value?r("div",{staticClass:"clear-btn",on:{click:e.clear}},[r("OzonIcon",{attrs:{height:12,icon:n("ce38d8"),width:12}})],1):e._e()],2)}),[],!1,null,"05d0f71a",null);t.a=component.exports},ef0277:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return h})),n.d(t,"getters",(function(){return m})),n.d(t,"mutations",(function(){return v})),n.d(t,"actions",(function(){return y}));n("c08bb9"),n("340dbd"),n("42f576"),n("f8695b"),n("41d819"),n("aae158");var r=n("ed745a"),o=n("667e87"),c=function(){return(c=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)},l=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},d=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},f={userId:0,balance:0,email:"",firstName:"",isEmployee:!1,isLoggedIn:!1,lastName:"",middleName:"",points:0,registrationDate:"",sex:0,userType:1,accountPhone:"",clientGuid:"",dateOfBirth:"",loyaltyStatus:null},h=function(){return{abGroup:0,activeOrderCount:0,showAdult:!1,showAdultModal:!1,user:c({},f)}},m={activeOrderCount:function(e){var t=e.activeOrderCount;return t||0}},v={setUserInfo:function(e,data){Object.assign(e.user,data)},setShowAdult:function(e,t){r.default.set(e,"showAdult",t)},setOrdersCount:function(e,t){r.default.set(e,"activeOrderCount",t)},setBirthday:function(e,t){e.user.dateOfBirth=t},setUserType:function(e,t){e.user.userType=t},setShowAdultModal:function(e,t){r.default.set(e,"showAdultModal",t)}},y={nuxtServerInit:function(e,t){var n=e.commit,r=t.req;try{if(!r.isComposer){var o=r.cookie.ap_visited;if(o)n("setShowAdult",JSON.parse(o))}}catch(e){this.$logger.error({exception:e})}},SUCCESSFUL_ACCESS:function(e,data){var t=e.dispatch;return l(this,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return[4,t("authorization/SET_TOKEN",data,{root:!0})];case 1:return e.sent(),[4,t("authorization/SAVE_TOKEN_IN_COOKIES",{},{root:!0})];case 2:return e.sent(),[4,t("GET_USER_DATA")];case 3:return e.sent(),[2]}}))}))},GET_USER_DATA:function(e){var t=e.commit;return l(this,void 0,void 0,(function(){var data,e;return d(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.$api.user.get()];case 1:return data=n.sent(),t("setUserInfo",data),[3,3];case 2:return e=n.sent(),this.$logger.error({exception:e}),[3,3];case 3:return[2]}}))}))},GET_ACTIVE_ORDERS_COUNT:function(e){var t=e.commit;return l(this,void 0,void 0,(function(){var e;return d(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.$api.order.active.get()];case 1:return e=n.sent().activeOrderCount,t("setOrdersCount",e),[2,e];case 2:return n.sent(),[2,0];case 3:return[2]}}))}))},SET_SHOW_ADULT_MODAL:function(e,t){var n=e.state,r=e.commit;t&&n.showAdult||r("setShowAdultModal",t)},SET_SHOW_ADULT:function(e,t){var n=e.commit;if(t){var r=location.hostname.split(".");Object(o.d)("ap_visited",t,{domain:"."+r.slice(-2).join(".")}),n("setShowAdult",t)}},REFRESH_USER_DEPENDENCIES:function(e){var t=e.dispatch;return l(this,void 0,void 0,(function(){var e;return d(this,(function(n){switch(n.label){case 0:return e=[t("GET_USER_DATA"),this.dispatch("location/GET_LOCATION")],[4,Promise.all(e)];case 1:return n.sent(),[2]}}))}))},REFRESH_USER_TOTALS:function(e){var t=e.state,n=e.dispatch;return l(this,void 0,void 0,(function(){var e;return d(this,(function(r){return e=[this.dispatch("cartGlobal/GET_CART_ITEMS_IDS"),this.dispatch("favorites/GET_FAVORITES"),this.dispatch("subscriptions/GET_ALL"),this.dispatch("subscriptions/GET_ALL_PRICE")],t.user.isLoggedIn&&e.push(n("GET_ACTIVE_ORDERS_COUNT")),[2]}))}))}}},ef990d:function(e,t,n){"use strict";var r=n("18e39b");n.n(r).a},eff339:function(e,t,n){},f24e40:function(e,t,n){"use strict";var r=n("c60876");n.n(r).a},f3b84a:function(e,t,n){"use strict";var r=n("0774ea"),o=n.n(r);t.default=o.a},f3ef7b:function(e,t,n){e.exports={link:"a2772b",picLink:"f05ba7",firstLevel:"_9b4c0a",title:"_389557",marketingLink:"_8848d9",icon:"d48278",mActive:"_7addb4",":hover":"db8ecb",secondLevel:"_953bae",thirdLevel:"d2b758",showAll:"_2b767d",promoLink:"_4aa469",blink:"c2d4cb"}},f6471d:function(e,t,n){e.exports={subHeader:"_3a2944",blink:"_993db4"}},f67b27:function(e,t,n){"use strict";var r=n("846c0d"),o={name:"CarouselItem",mixins:[Object(r.a)("onInViewport",{once:!1,throttle:400,fromRight:!0})],props:{forceLazyImage:{type:Boolean,default:!1}},data:function(){return{sendViewEvent:!1}},provide:function(){return{forceLazyImage:this.forceLazyImage}},methods:{onInViewport:function(){this.sendViewEvent||(this.$emit("inViewport"),this.sendViewEvent=!0)}}},c=n("e382e2"),l=n("b429cb");var component=Object(l.a)(o,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"swiper-slide",on:{click:function(t){return e.$emit("click")}}},[e._t("default")],2)}),[],!1,(function(e){this.$style=c.default.locals||c.default}),null,null);t.a=component.exports},f68d8d:function(e,t,n){"use strict";var r=n("4af4eb");n.n(r).a},f6ec0f:function(e,t,n){},f766b3:function(e,t,n){"use strict";n.r(t);var r={CatalogSearchResultsV2:{content:function(){return Promise.all([n.e(1),n.e(4),n.e(0),n.e(34)]).then(n.bind(null,"cc0aa1"))},extendPlaces:!0,places:["mobile-header-container.filters-placeholder"]},CatalogSearchBarDesktop:{content:function(){return Promise.all([n.e(1),n.e(40)]).then(n.bind(null,"a62e9b"))},extendPlaces:!0,places:["header.searchBar"]},CatalogSearchBarMobile:{content:function(){return n.e(42).then(n.bind(null,"bb4e13"))},extendPlaces:!0,places:["header.searchBar","mobileHeaderCrossBorder.searchBar","mobileHeaderMain.searchBar"]},CatalogSearchSuggestions:{content:function(){return n.e(30).then(n.bind(null,"f27d89"))}},CatalogSearchSuggestionsInContext:{content:function(){return n.e(30).then(n.bind(null,"5c5143"))}},CatalogSearchQuery:{content:function(){return n.e(30).then(n.bind(null,"ec5823"))}},CatalogSearchAutocomplete:{content:function(){return n.e(30).then(n.bind(null,"ed8bf4"))}},CatalogSearchHistory:{content:function(){return n.e(30).then(n.bind(null,"0f4d2b"))}},CatalogSearchContextPopup:{content:function(){return n.e(30).then(n.bind(null,"c02ad0"))},places:["searchBar.context-popup"],extendPlaces:!0},CatalogAutopartsSearch:{content:{desktop:function(){return Promise.all([n.e(0),n.e(39)]).then(n.bind(null,"5ed5d5"))},mobile:function(){return Promise.all([n.e(0),n.e(41)]).then(n.bind(null,"4852a0"))}}},CatalogSearchResultsHeader:{content:function(){return Promise.all([n.e(0),n.e(32)]).then(n.bind(null,"422c2d"))}},CatalogBrand:{content:function(){return n.e(29).then(n.bind(null,"5c75ac"))}},CatalogMeta:{content:function(){return n.e(29).then(n.bind(null,"5c75ac"))}},CatalogFulltextResultsHeader:{content:{default:function(){return Promise.all([n.e(0),n.e(32)]).then(n.bind(null,"1f0903"))},versions:{1:function(){return Promise.all([n.e(0),n.e(33)]).then(n.bind(null,"991872"))},2:function(){return Promise.all([n.e(0),n.e(33)]).then(n.bind(null,"07f39a"))},3:function(){return Promise.all([n.e(0),n.e(32)]).then(n.bind(null,"1f0903"))}}}},CatalogCatalogResultsBreadCrumbs:{content:function(){return Promise.all([n.e(0),n.e(32)]).then(n.bind(null,"060e14"))}},CatalogBreadCrumbsPdp:{content:function(){return n.e(28).then(n.bind(null,"23632e"))}},CatalogCatalogResultsHeader:{content:function(){return Promise.all([n.e(0),n.e(32)]).then(n.bind(null,"f7fb2d"))}},CatalogSearchResultsError:{content:function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"fa04fc"))}},CatalogAutopartsSearchCaption:{content:function(){return n.e(26).then(n.bind(null,"8493c8"))}},CatalogAutopartsAnaloguesSearchCaption:{content:function(){return n.e(26).then(n.bind(null,"8493c8"))}},CatalogAutopartsSearchError:{content:function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"fa04fc"))}},CatalogAutopartsSearchInfo:{content:function(){return n.e(26).then(n.bind(null,"ba84b4"))}},CatalogAutopartsSearchResults:{content:function(){return Promise.all([n.e(1),n.e(4),n.e(0),n.e(34)]).then(n.bind(null,"cc0aa1"))}},CatalogAutopartsAnaloguesSearchResults:{content:function(){return Promise.all([n.e(1),n.e(4),n.e(0),n.e(34)]).then(n.bind(null,"cc0aa1"))}},CatalogSoldOutResults:{content:{default:function(){return Promise.all([n.e(1),n.e(4),n.e(0),n.e(37)]).then(n.bind(null,"5e96aa"))},versions:{2:function(){return Promise.all([n.e(1),n.e(4),n.e(0),n.e(36)]).then(n.bind(null,"6dc4d9"))}}}},CatalogSoldOutResultsV2:{content:function(){return Promise.all([n.e(1),n.e(4),n.e(0),n.e(36)]).then(n.bind(null,"66db92"))}},CatalogSoldOutHeader:{content:function(){return Promise.all([n.e(1),n.e(4),n.e(0),n.e(36)]).then(n.bind(null,"e8d052"))}},CatalogSoldOutButton:{content:function(){return Promise.all([n.e(1),n.e(4),n.e(0),n.e(36)]).then(n.bind(null,"08f4e6"))}},CatalogBrandListCaption:{content:function(){return Promise.all([n.e(2),n.e(27)]).then(n.bind(null,"9790f0"))}},CatalogBrandListFilter:{content:function(){return Promise.all([n.e(2),n.e(27)]).then(n.bind(null,"0eca01"))}},CatalogBrandListResults:{content:function(){return Promise.all([n.e(2),n.e(27)]).then(n.bind(null,"071780"))}},CatalogTagList:{content:function(){return n.e(38).then(n.bind(null,"e70b95"))}},ComposerMegaPaginator:{content:function(){return Promise.all([n.e(3),n.e(0),n.e(130)]).then(n.bind(null,"98a178"))}},CatalogSearchCategorySubtree:{content:function(){return Promise.all([n.e(0),n.e(31)]).then(n.bind(null,"a84c38"))}},CatalogCategoryMenu:{content:function(){return Promise.all([n.e(0),n.e(31)]).then(n.bind(null,"05daa7"))}},CatalogCategoryLogos:{content:function(){return Promise.all([n.e(0),n.e(31)]).then(n.bind(null,"28991a"))}},CatalogSearchResultsFiltersActive:{content:function(){return Promise.all([n.e(0),n.e(31)]).then(n.bind(null,"0cb940"))},extendPlaces:!0,places:["search-results-sort.filters-placeholder","all-filters.default"]},CatalogSearchResultsSort:{content:function(){return Promise.all([n.e(0),n.e(31)]).then(n.bind(null,"51ad65"))},extendPlaces:!0,places:["header-container.filters-placeholder"]},CatalogSearchResultsFilters:{content:{default:function(){return Promise.all([n.e(0),n.e(31)]).then(n.bind(null,"0eb941"))},versions:{2:function(){return Promise.all([n.e(0),n.e(31)]).then(n.bind(null,"0eb941"))},3:function(){return Promise.all([n.e(0),n.e(35)]).then(n.bind(null,"9536cc"))}}},extendPlaces:!0,places:["search-results-sort.filters-placeholder"]},CatalogFeedbackCatalogFeedbackNotFound:{content:function(){return Promise.all([n.e(1),n.e(0),n.e(43)]).then(n.bind(null,"cf8466"))}},CatalogFeedbackCatalogFilterNotFound:{content:function(){return Promise.all([n.e(1),n.e(0),n.e(43)]).then(n.bind(null,"1b435e"))}}};t.default=r},f827ec:function(e,t,n){"use strict";var r=n("fbcf5f"),o=n.n(r);t.default=o.a},f8287a:function(e,t,n){"use strict";n.r(t);var r={RtbAdvBanner:{content:function(){return Promise.all([n.e(1),n.e(204)]).then(n.bind(null,"e67aeb"))}}};t.default=r},f86d24:function(e,t,n){},f90359:function(e,t,n){},fa58c1:function(e,t,n){},fb508a:function(e,t,n){"use strict";function r(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),o(e)+o(t)}function o(e){return void 0===e&&(e=""),e.charAt(0).toUpperCase()+e.substr(1)}n.d(t,"a",(function(){return r}))},fb65ed:function(e,t,n){"use strict";var r=n("dcf817"),o=n.n(r);t.default=o.a},fbcf5f:function(e,t,n){e.exports={emptyPhoneText:"cfb546",emptyPhone:"_07f465",blink:"_133df7"}},fbdac7:function(e,t,n){"use strict";var r=n("ba8b8e"),o=n.n(r);t.default=o.a},fbf0fb:function(e,t,n){e.exports={annotation:"_6c378d",line:"_22c642",modWithExtraPadding:"_52e6d3",icon:"a905f6",blink:"bb5168"}},fc5264:function(e,t,n){"use strict";var r=n("2c8578");n.n(r).a},fe0bd7:function(e,t,n){"use strict";n.r(t),n.d(t,"LOADING_SUCCESS",(function(){return _})),n.d(t,"LOADING_FAILURE",(function(){return S})),n.d(t,"LOADING_PENDING",(function(){return O})),n.d(t,"LOADING_CANCELED",(function(){return T})),n.d(t,"state",(function(){return w})),n.d(t,"getters",(function(){return C})),n.d(t,"actions",(function(){return k}));n("c08bb9"),n("12a106");var r=n("8fd32c"),o=(n("f8695b"),n("41d819"),n("aae158"),n("bbfe95")),c=n("e90f89"),l=n("bd183a"),d=n.n(l),f=n("ff287e"),h=n.n(f),m=n("da0937"),v=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{f(r.next(e))}catch(e){c(e)}}function d(e){try{f(r.throw(e))}catch(e){c(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(l,d)}f((r=r.apply(e,t||[])).next())}))},y=function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},E=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},_="success",S="failure",O="pending",T="canceled",I=function(e){return d.a.isCancel(e)?T:S},w=function(){return{}},C={requestUrl:function(e,t,n){return(h()(n,"debug.composer")||{}).requestUrl||""}},k={GET_NEXT_PAGE:function(e,t){var n=e.rootState,r=e.dispatch;return v(this,void 0,void 0,(function(){var e,o,data,c,l;return y(this,(function(d){switch(d.label){case 0:if(e=n.nextPage,o=h()(this.$router,"currentRoute.query.url"),!e||o===e)return[2];d.label=1;case 1:return d.trys.push([1,3,,4]),r("REPLACE_STATE_BY_PATH",{path:"shared.loadingNextPage",value:O}),[4,r("GET_COMPOSER_PAGE",{url:e})];case 2:return data=d.sent(),c=t?t(data):data,this.commit("mergeRootState",c),r("REPLACE_STATE_BY_PATH",{path:"shared.loadingNextPage",value:_}),[2,data];case 3:return l=d.sent(),this.$logger.error({exception:l}),r("REPLACE_STATE_BY_PATH",{path:"shared.loadingNextPage",value:I(l)}),[3,4];case 4:return[2]}}))}))},REFRESH_LAYOUT:function(e){var t=e.dispatch;return v(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,t("GET_LAYOUT",{url:window.location.href})];case 1:return e.sent(),[2]}}))}))},GET_LAYOUT:function(e,t){var n=e.dispatch,o=e.rootState,l=t.url,d=t.pageData,f=t.mapper,m=t.payload,S=t.method,O=t.replaceUrl,T=void 0!==O&&O,I=t.routerMethod,w=void 0===I?"push":I;return v(this,void 0,void 0,(function(){var data,e,t,v,O,I;return y(this,(function(y){switch(y.label){case 0:return y.trys.push([0,3,,4]),Object(c.a)("composer/GET_LAYOUT"),(e=d)?[3,2]:[4,n("FETCH_COMPOSER_LAYOUT",{url:l,payload:m,method:S})];case 1:e=y.sent(),y.label=2;case 2:return(data=e)&&"object"===Object(r.a)(data)?(void 0===data.nextPage&&(data.nextPage=""),t=h()(data,"pageInfo.url"),T&&t&&window.location.pathname!==t&&this.$composerRouter[w](t,{silent:!0}),data.shared=Object.assign({},o.shared,data.shared),f&&"function"==typeof f&&(data=f(data)),v=data.widgetStates,O=E(data,["widgetStates"]),null!=v&&this.$stateObserver.next(v),this.commit("setRootState",O),n("REPLACE_STATE_BY_PATH",{path:"shared.loading",value:_}),[2,data]):[2,!1];case 3:return I=y.sent(),this.$logger.error({exception:I}),[2,!1];case 4:return[2]}}))}))},FETCH_COMPOSER_LAYOUT:function(e,t){var n=e.dispatch,o=e.rootState,l=t.url,d=t.payload,f=t.method;return v(this,void 0,void 0,(function(){var data,e,t,m,v,E;return y(this,(function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),Object(c.a)("composer/FETCH_COMPOSER_LAYOUT"),n("REPLACE_STATE_BY_PATH",{path:"shared.loading",value:O}),[4,n("GET_COMPOSER_PAGE",{url:l,payload:d,method:f})];case 1:return data=y.sent(),e=h()(data,"pageInfo.url"),t=h()(o,"client.version"),m=h()(data,"client.version"),v=h()(data,"browser.useSpa"),t&&m&&t!==m||!v?(this.$composerRouter.redirect(e),[2]):data&&"object"===Object(r.a)(data)?[2,data]:[2,!1];case 2:return E=y.sent(),this.$logger.error({exception:E}),n("REPLACE_STATE_BY_PATH",{path:"shared.loading",value:I(E)}),[2,!1];case 3:return[2]}}))}))},GET_COMPOSER_PAGE:function(e,t){var n=e.rootState,r=t.url,o=t.method,c=void 0===o?"get":o,l=t.payload,d=void 0===l?{}:l;return v(this,void 0,void 0,(function(){var data;return y(this,(function(e){switch(e.label){case 0:if(this.$_promise&&this.$_promise.cancel(),["get","post"].indexOf(c)<0)throw new Error("Wrong method name passed to GET_COMPOSER_PAGE");return this.$_promise=this.$api.composer.json[c]({url:r,payload:d,version:n.apiVersion||1}),[4,this.$_promise];case 1:return data=e.sent(),this.$_promise=null,data.shared&&"string"==typeof data.shared&&(data.shared=JSON.parse(data.shared)),data.layoutTrackingInfo&&"string"==typeof data.layoutTrackingInfo&&(data.layoutTrackingInfo=JSON.parse(data.layoutTrackingInfo)),[2,data]}}))}))},GET_MODAL:function(e,t){var n=e.dispatch,r=t.url,o=void 0===r?"":r,l=t.mapper,d=t.options,f=void 0===d?{showModal:!0}:d;return v(this,void 0,void 0,(function(){var data,e,t,r,d;return y(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),Object(c.a)("composer/GET_MODAL"),n("REPLACE_STATE_BY_PATH",{path:"shared.loading",value:O}),[4,n("GET_COMPOSER_PAGE",{url:o})];case 1:return data=h.sent(),l&&"function"==typeof l&&(data=l(data)),e=data.layout,t=data.layoutModal,r=E(data,["layout","layoutModal"]),this.commit("mergeRootState",r),this.commit("setLayoutModalOptions",{options:f,data:data}),this.commit("setLayoutModal",t&&t.length?t:e),n("REPLACE_STATE_BY_PATH",{path:"shared.loading",value:_}),[2,data];case 2:return d=h.sent(),this.$logger.error({exception:d}),n("REPLACE_STATE_BY_PATH",{path:"shared.loading",value:I(d)}),[2,!1];case 3:return[2]}}))}))},CLOSE_MODAL:function(){this.commit("setLayoutModal",[]),this.commit("setLayoutModalOptions",{options:{showModal:!1}})},GET_NOTIFY:function(e,t){var n=e.dispatch,r=t.url,o=void 0===r?"":r,l=t.mapper,d=t.options,f=void 0===d?{showNotify:!0,atoms:[]}:d;return v(this,void 0,void 0,(function(){var data,e,t,r,d;return y(this,(function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),Object(c.a)("composer/GET_NOTIFY"),n("REPLACE_STATE_BY_PATH",{path:"shared.loading",value:O}),(data={layout:f.atoms||[]}).layout.length?[3,2]:[4,n("GET_COMPOSER_PAGE",{url:o})];case 1:data=h.sent(),h.label=2;case 2:return l&&"function"==typeof l&&(data=l(data)),e=data.layout,t=data.layoutNotify,r=E(data,["layout","layoutNotify"]),this.commit("setLayoutNotify",t&&t.length?t:e),this.commit("setLayoutNotifyOptions",{options:f,data:data}),this.commit("mergeRootState",r),n("REPLACE_STATE_BY_PATH",{path:"shared.loading",value:_}),[2,data];case 3:return d=h.sent(),this.$logger.error({exception:d}),n("REPLACE_STATE_BY_PATH",{path:"shared.loading",value:I(d)}),[2,!1];case 4:return[2]}}))}))},CLOSE_NOTIFY:function(){this.commit("setLayoutNotify",[]),this.commit("setLayoutNotifyOptions",{options:{showNotify:!1}})},CANCEL_PROMISE:function(){this.$_promise&&this.$_promise.cancel()},REMOVE_WIDGET:function(e,t){var n=e.commit,r=e.rootState,c=void 0===t?{}:t,l=c.layoutPath,d=c.index;if(null==l||d<0||null===d)throw new m.a(o.o.WRONG_REMOVE_PARAMS);var f=l?h()(r.layout,l):r.layout;f instanceof Array&&null!=f[d]&&n("removeWidgetByPath",{layoutPath:l,index:d},{root:!0})},REPLACE_SHARED_STORE:function(e,t){var n=e.dispatch,r=void 0===t?{}:t,c=r.vertical,l=r.verticalShared,d=void 0===l?{}:l;if(!c||!d)throw new m.a(o.o.WIDGET_ASYNC_NO_VERTICAL);Object.keys(d).forEach((function(e){var t={path:[c,"shared",e].join("."),value:d[e]},r={path:["shared",e].join("."),value:d[e]};n("REPLACE_STATE_BY_PATH",t),n("REPLACE_STATE_BY_PATH",r)}))},REPLACE_STATE_BY_PATH:function(e,t){var n=e.commit,r=void 0===t?{}:t,path=r.path,c=r.value;if(!path||void 0===c)throw new m.a(o.o.WRONG_REPLACE_PARAMS);n("deepSet",{path:path,value:c},{root:!0})}}},fe4c6d:function(e,t,n){"use strict";var r=n("8c02fa"),o=n.n(r);t.default=o.a},fe8f74:function(e,t,n){"use strict";var r=n("205eb6");n.n(r).a},ff656a:function(e,t,n){"use strict";var r=n("4b21b0"),o=n.n(r);t.default=o.a}},[[0,286,128,1,2,3,4,287,264,11,294,295,0]]]);