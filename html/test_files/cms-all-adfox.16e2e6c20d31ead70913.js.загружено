(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{"0f95b8":function(e,t,n){"use strict";n("497371");var r={name:"SkeletonBone",props:{height:{type:[Number,String],default:300},width:{type:[Number,String],default:0}},computed:{styles:function(){var e=this.height||300,t=this.width||"";return e="string"==typeof e?e:"".concat(e,"px"),(t="string"==typeof t?t:"".concat(t,"px"))?{height:e,width:t}:{height:e}}}},o=(n("83e212"),n("b429cb")),component=Object(o.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"bone",style:this.styles})}),[],!1,null,"7f49f592",null);t.a=component.exports},"1b3fed":function(e,t,n){"use strict";var r=n("d72761"),o=n.n(r);t.default=o.a},"31e911":function(e,t,n){},"5e170b":function(e,t,n){"use strict";var r=n("c3cac7");n.n(r).a},"752cb6":function(e,t,n){"use strict";n("497371");var r={name:"SkeletonBanner",components:{SkeletonBone:n("0f95b8").a},props:{height:{type:[Number,String],default:300},width:{type:[Number,String],default:0},showPagination:{type:Boolean,default:!1}},computed:{styles:function(){var e=this.height||300,t=this.width||"";return e="string"==typeof e?e:"".concat(e,"px"),(t="string"==typeof t?t:"".concat(t,"px"))?{height:e,width:t}:{height:e}}}},o=(n("5e170b"),n("b429cb")),component=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"skeleton-banner",style:this.styles},[t("SkeletonBone",{staticClass:"bone",attrs:{height:this.height}}),this._v(" "),t("div",{class:{pagination:this.showPagination}})],1)}),[],!1,null,"55286179",null);t.a=component.exports},"83e212":function(e,t,n){"use strict";var r=n("31e911");n.n(r).a},ad6543:function(e,t,n){"use strict";n.r(t);n("1c750e"),n("41d819"),n("c08bb9"),n("aae158"),n("12a106"),n("2c09af");var r=n("dc77a5"),o=(n("e28425"),n("393231"),n("497371"),n("5eabea")),d=n("dcf4a3"),c=n("ff287e"),l=n.n(c),h=n("4047f7"),f=n("c61099"),w=n("f67b27"),m=n("2621de"),v=n("752cb6"),y=n("487109"),B=n("d516aa"),I=n("01dcc3");function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var k,S=y.a.extend({name:"Adfox",components:{Carousel:f.a,CarouselItem:w.a,CarouselImage:m.a,SkeletonBanner:v.a,BaseImage:I.c,TransitionOnlyFade:B.a},data:function(){return{adfoxIsInViewportSettings:{setting:{throttle:1e3},callback:this.adfoxOnView},isInViewport:!1,viewed:!1,viewedIds:{},checkBannerContext:null,banners:[],bannerIds:[],defaultHeight:null}},computed:{styles:function(){if(this.isMobile)return{};var e=this.height||this.defaultHeight;return{height:"".concat(e,"px")}},firstBanner:function(){return this.banners[0]||{}},widgetName:function(){return"".concat(this.vertical,".").concat(this.componentName)},classList:function(){return[this.$style[this.align],Object(o.a)({},this.$style.isDark,this.isDark)]},showCarousel:function(){return this.banners.length>1&&"slider"===this.view},itemsTarget:function(){return l()(this.widgetState,"params.openItemLinkInNewTab",!1)&&!this.isMobile?"_blank":""}},props:{apiUrl:{type:String,default:"//ads.adfox.ru"},count:{type:Number,default:6},view:{type:String,default:"slider"},p2:{type:String,default:""},height:{type:Number,default:null},align:{type:String,default:"center"},isDark:{type:Boolean,default:!1}},methods:{adfoxOnView:function(e){this.isInViewport=e,e&&(this.viewed||(this.viewed=!0,this.$analytics.send("widget/view",{widget:this.widgetName})),this.onSlideChange({realIndex:0}))},onSlideChange:function(e){var t=e.realIndex;if(this.isInViewport){var n=this.getBannerByIndex(t);this.viewedIds[t]||(this.viewedIds[t]=!0,this.$analytics.send("banner/view",{widget:this.widgetName,banner:this.formatBanner(n,t)}))}},onBannerClick:function(){var e=this.getBannerByIndex(0);this.$analytics.send("banner/click",{widget:this.widgetName,banner:this.formatBanner(e,0)})},onSlideClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clickedIndex,n=this.getBannerByIndex(t-1);null!=n&&this.$analytics.send("banner/click",{widget:this.widgetName,banner:this.formatBanner(n,t-1)})},getBannerImage:function(e){return this.isMobile&&e.mobileImage||e.mainImage},getBannerUrl:function(e){return this.apiUrl+"?"+Object(d.c)(e)},getQuery:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(source,!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},this.widgetState.params||{},{},this.getPageParams(),{},this.getLocationParams(),{},this.getDateParams())},addBannerId:function(e){this.bannerIds.push("AdFox_banner_"+e)},getBannerByIndex:function(e){var t=this.bannerIds[e];return this.getBannerById(t)},getPageParams:function(){var e=this.p2,t=Math.floor(1e9*Math.random());return{random:t,pr1:t,pr:window.pageId,p2:e}},getLocationParams:function(){var e=l()(this.widgetState,"params.dl"),t=location.hostname.indexOf("ozon.ru")>=0;return{dl:(t?location.origin:"https://www.ozon.ru")+(e||""),prr:t?document.referrer:"https://www.ozon.ru"}},getDateParams:function(){var e=new Date;return{pd:e.getDate(),pw:e.getDay(),pv:e.getHours()}},checkBanner:function(e){var t=e.detail,n=l()(t,"bannerInfo.bannerNodeId","");this.bannerIds.indexOf(n)>=0&&this.banners.push(t)},getBannerById:function(e){return this.banners.find((function(t){return l()(t,"bannerInfo.bannerNodeId","")===e}))},formatBanner:function(e,t){var n=l()(e,"bannerInfo.promotionInfo")||{};return{name:n.name,id:n.id,creative:n.creative,position:t}},loadFiles:h.d,loadBanners:(k=Object(r.a)(regeneratorRuntime.mark((function e(){var view,t,n,i,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:view=this.view,t=this.count,n="slider"!==view?1:t,window.pageId||(window.pageId=Math.floor(1e9*Math.random())),window.addData||(window.addData=function(data){var e=new CustomEvent("adfoxBannerLoaded",{detail:data});window.dispatchEvent(e)}),i=0;case 5:if(!(i<n)){e.next=14;break}return r=this.getQuery(),o=this.getBannerUrl(r),this.addBannerId(r.random),e.next=11,this.loadFiles(o).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e[0].parentNode&&e[0].parentNode.removeChild(e[0])}));case 11:i++,e.next=5;break;case 14:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},created:function(){this.isMobile?this.defaultHeight="100%":this.defaultHeight=this.height||300,this.checkBannerContext=this.checkBanner.bind(this),window.addEventListener("adfoxBannerLoaded",this.checkBannerContext),this.loadBanners()},destroyed:function(){window.removeEventListener("adfoxBannerLoaded",this.checkBannerContext),window.pageId=void 0}}),O=n("1b3fed"),C=n("b429cb");var component=Object(C.a)(S,(function(){var e,t,n,r=this,o=r.$createElement,d=r._self._c||o;return d("div",{directives:[{name:"qa",rawName:"v-qa:id",value:r.groupStatePath,expression:"groupStatePath",arg:"id"}],class:[r.$style.adfoxBanners,(e={},e[r.$style.mobile]=r.isMobile,e)],style:r.styles},[d("TransitionOnlyFade",[r.banners.length?r._e():d("SkeletonBanner",{class:r.$style.skeletonBanner,attrs:{height:r.defaultHeight,"show-pagination":"slider"===r.view}})],1),r._v(" "),r.showCarousel?d("Carousel",{directives:[{name:"detect-viewport",rawName:"v-detect-viewport",value:r.adfoxIsInViewportSettings,expression:"adfoxIsInViewportSettings"}],class:(t={},t[r.$style.mobileBanner]=r.isMobile,t),attrs:{autoplay:r.banners.length>1,items:r.banners,loop:r.banners.length>1,"show-navigation":r.banners.length>1,"show-pagination":r.banners.length>1},on:{onSlideChange:r.onSlideChange,onSlideClick:r.onSlideClick}},[d("template",{slot:"sliders"},r._l(r.banners,(function(e,t){return d("CarouselItem",{key:t,attrs:{"force-lazy-image":t>0,slide:e}},[d("a",{class:r.$style.carouselItem,attrs:{href:e.slideHref,target:r.itemsTarget}},[d("CarouselImage",{staticClass:"adfoxBanner",class:r.classList,style:r.styles,attrs:{image:r.getBannerImage(e)}})],1)])})),1)],2):d("div",[d("a",{directives:[{name:"detect-viewport",rawName:"v-detect-viewport",value:r.adfoxIsInViewportSettings,expression:"adfoxIsInViewportSettings"}],class:[r.classList,r.$style.adfoxBanner,(n={},n[r.$style.mobileBanner]=r.isMobile,n)],attrs:{href:r.firstBanner.slideHref,target:r.itemsTarget},on:{click:r.onBannerClick}},[r.getBannerImage(r.firstBanner)?d("img",{attrs:{src:r.getBannerImage(r.firstBanner)}}):r._e()])])],1)}),[],!1,(function(e){this.$style=O.default.locals||O.default}),null,null);t.default=component.exports},c3cac7:function(e,t,n){},d72761:function(e,t,n){e.exports={carouselItem:"_59bbf8",adfoxBanners:"_41f627",mobileBanner:"d714b3",mobile:"dea02e",skeletonBanner:"f9731b",adfoxBanner:"eec30e",center:"e8ff54",right:"_73f632",isDark:"dad081",":hover":"a49860",blink:"f6ae3f"}}}]);